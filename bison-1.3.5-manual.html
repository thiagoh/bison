
<!-- saved from url=(0065)ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Bison 1.35</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Bison 1.35">
<meta name="generator" content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<h1>Bison 1.35</h1>

<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Bison</a>
</li><li><a name="toc_Introduction"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Introduction">Introduction</a>
</li><li><a name="toc_Conditions"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Conditions">Conditions for Using Bison</a>
</li><li><a name="toc_Copying"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying">GNU GENERAL PUBLIC LICENSE</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying">Preamble</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying">Appendix: How to Apply These Terms to Your New Programs</a>
</li></ul>
</li><li><a name="toc_Concepts"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">The Concepts of Bison</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">From Formal Rules to Bison Input</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Output: the Parser File</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages in Using Bison</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">The Overall Layout of a Bison Grammar</a>
</li></ul>
</li><li><a name="toc_Examples"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">Reverse Polish Notation Calculator</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Decls">Declarations for <code>rpcalc</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Grammar Rules for <code>rpcalc</code></a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Input">Explanation of <code>input</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Line">Explanation of <code>line</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Expr">Explanation of <code>expr</code></a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">The <code>rpcalc</code> Lexical Analyzer</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">The Controlling Function</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Error">The Error Reporting Routine</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Gen">Running Bison to Make the Parser</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Compile">Compiling the Parser File</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Notation Calculator: <code>calc</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Simple%20Error%20Recovery">Simple Error Recovery</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calculator: <code>ltcalc</code></a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Decls">Declarations for <code>ltcalc</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Rules">Grammar Rules for <code>ltcalc</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Lexer">The <code>ltcalc</code> Lexical Analyzer.</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-Function Calculator: <code>mfcalc</code></a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Decl">Declarations for <code>mfcalc</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Rules">Grammar Rules for <code>mfcalc</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Symtab">The <code>mfcalc</code> Symbol Table</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Exercises">Exercises</a>
</li></ul>
</li><li><a name="toc_Grammar%20File"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Bison Grammar Files</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Outline of a Bison Grammar</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">The C Declarations Section</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">The Bison Declarations Section</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">The Grammar Rules Section</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Code">The Additional C Code Section</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols, Terminal and Nonterminal</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Syntax of Grammar Rules</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursive Rules</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Defining Language Semantics</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Data Types of Semantic Values</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">More Than One Value Type</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Data Types of Values in Actions</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Actions in Mid-Rule</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Tracking Locations</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Data Type of Locations</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions%20and%20Locations">Actions and Locations</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Default%20Action">Default Action for Locations</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Bison Declarations</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Type Names</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Nonterminal Symbols</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Suppressing Conflict Warnings</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">The Start-Symbol</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Bison Declaration Summary</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Parsers">Multiple Parsers in the Same Program</a>
</li></ul>
</li><li><a name="toc_Interface"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Parser C-Language Interface</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">The Parser Function <code>yyparse</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">The Lexical Analyzer Function <code>yylex</code></a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention for <code>yylex</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Semantic Values of Tokens</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Positions">Textual Positions of Tokens</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Calling Conventions for Pure Parsers</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">The Error Reporting Function <code>yyerror</code></a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>
</li></ul>
</li><li><a name="toc_Algorithm"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">The Bison Parser Algorithm</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead Tokens</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce Conflicts</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Operator Precedence</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Why%20Precedence">When Precedence is Needed</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Using%20Precedence">Specifying Operator Precedence</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Examples">Precedence Examples</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#How%20Precedence">How Precedence Works</a>
</li></ul>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Context-Dependent Precedence</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce Conflicts</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mysterious Reduce/Reduce Conflicts</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow, and How to Avoid It</a>
</li></ul>
</li><li><a name="toc_Error%20Recovery"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>
</li><li><a name="toc_Context%20Dependency"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Handling Context Dependencies</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Tokens">Semantic Info in Token Types</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Tie-in%20Recovery">Lexical Tie-ins and Error Recovery</a>
</li></ul>
</li><li><a name="toc_Debugging"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging Your Parser</a>
</li><li><a name="toc_Invocation"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Options">Bison Options</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Option%20Cross%20Key">Option Cross Key</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations under DOS</a>
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#VMS%20Invocation">Invoking Bison under VMS</a>
</li></ul>
</li><li><a name="toc_Table%20of%20Symbols"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Table%20of%20Symbols">Bison Symbols</a>
</li><li><a name="toc_Glossary"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Glossary">Glossary</a>
</li><li><a name="toc_Copying%20This%20Manual"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying%20This%20Manual">Copying This Manual</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>
<ul>
<li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#GNU%20Free%20Documentation%20License">ADDENDUM: How to use this License for your documents</a>
</li></ul>
</li></ul>
</li><li><a name="toc_Index"></a>
    <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Index">Index</a>
</li></ul>


<p></p><hr>
Node:<a name="Top">Top</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Introduction">Introduction</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#dir">(dir)</a>
<br>

<h2>Bison</h2>

<p>This manual documents version 1.35 of Bison, updated
25 February 2002.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Introduction">Introduction</a>: 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Conditions">Conditions</a>: 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying">Copying</a>:            The GNU General Public License says
                        how you can copy and share Bison

<p>Tutorial sections:
</p></li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>:           Basic concepts for understanding Bison. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>:           Three simple explained examples of using Bison.

<p>Reference sections:
</p></li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>:       Writing Bison declarations and rules. 
</li><li><a accesskey="7" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>:          C-language interface to the parser function <code>yyparse</code>. 
</li><li><a accesskey="8" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>:          How the Bison parser works at run-time. 
</li><li><a accesskey="9" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>:     Writing rules for error recovery. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Context Dependency</a>:   What to do if your language syntax is too
                        messy for Bison to handle straightforwardly. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging</a>:          Debugging Bison parsers that parse wrong. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>:         How to run Bison (to produce the parser source file). 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Table%20of%20Symbols">Table of Symbols</a>:   All the keywords of the Bison language are explained. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Glossary">Glossary</a>:           Basic concepts are explained. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying%20This%20Manual">Copying This Manual</a>:   License for copying this manual. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Index">Index</a>:              Cross-references to the text.

<p>The Concepts of Bison

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>:   Languages and context-free grammars,
                            as mathematical ideas. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>:   How we represent grammars for Bison's sake. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>:    Each token or syntactic grouping can have
                        a semantic value (the value of an integer,
                        the name of an identifier, etc.). 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>:   Each rule can have an action containing C code. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>:       What are Bison's input and output,
                        how is the output used? 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages</a>:             Stages in writing and running Bison grammars. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>:     Overall structure of a Bison grammar file.

<p>Examples

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>:           Reverse polish notation calculator;
                        a first example with no operator precedence. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>:         Infix (algebraic) notation calculator. 
                        Operator precedence is introduced. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Simple%20Error%20Recovery">Simple Error Recovery</a>:   Continuing after syntax errors. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>:  Demonstrating the use of @<var>n</var> and @$. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>:     Calculator with memory and trig functions. 
                        It uses multiple data-types for semantic values. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Exercises">Exercises</a>:          Ideas for improving the multi-function calculator.

<p>Reverse Polish Notation Calculator

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Decls">Decls</a>:   Bison and C declarations for rpcalc. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rules</a>:   Grammar Rules for rpcalc, with explanation. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">Lexer</a>:   The lexical analyzer. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">Main</a>:     The controlling function. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Error">Error</a>:   The error reporting function. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Gen">Gen</a>:       Running Bison on the grammar file. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Compile">Comp</a>:  Run the C compiler on the output code.

<p>Grammar Rules for <code>rpcalc</code>

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Input">Rpcalc Input</a>: 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Line">Rpcalc Line</a>: 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Expr">Rpcalc Expr</a>:

<p>Location Tracking Calculator: <code>ltcalc</code>

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Decls">Decls</a>:   Bison and C declarations for ltcalc. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Rules">Rules</a>:   Grammar rules for ltcalc, with explanations. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Lexer">Lexer</a>:   The lexical analyzer.

<p>Multi-Function Calculator: <code>mfcalc</code>

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Decl">Decl</a>:       Bison declarations for multi-function calculator. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Rules">Rules</a>:     Grammar rules for the calculator. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Symtab">Symtab</a>:   Symbol table management subroutines.

<p>Bison Grammar Files

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>:    Overall layout of the grammar file. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>:            Terminal and nonterminal symbols. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>:              How to write grammar rules. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>:          Writing recursive rules. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>:          Semantic values and actions. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>:       All kinds of Bison declarations are described here. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Parsers">Multiple Parsers</a>:   Putting more than one Bison parser in one program.

<p>Outline of a Bison Grammar

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">C Declarations</a>:     Syntax and usage of the C declarations section. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">Bison Declarations</a>:   Syntax and usage of the Bison declarations section. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">Grammar Rules</a>:      Syntax and usage of the grammar rules section. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Code">C Code</a>:             Syntax and usage of the additional C code section.

<p>Defining Language Semantics

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>:         Specifying one data type for all semantic values. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">Multiple Types</a>:     Specifying several alternative data types. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>:            An action is the semantic definition of a grammar rule. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Action Types</a>:       Specifying data types for actions to operate on. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Mid-Rule Actions</a>:   Most actions go at the end of a rule. 
                      This says when, why and how to use the exceptional
                        action in the middle of a rule.

<p>Bison Declarations

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Decl</a>:         Declaring terminal symbols. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>:    Declaring terminals with precedence and associativity. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">Union Decl</a>:         Declaring the set of all semantic value types. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Type Decl</a>:          Declaring the choice of type for a nonterminal symbol. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>:        Suppressing warnings about shift/reduce conflicts. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>:         Specifying the start symbol. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">Pure Decl</a>:          Requesting a reentrant parser. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>:       Table of all Bison declarations.

<p>Parser C-Language Interface

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">Parser Function</a>:    How to call <code>yyparse</code> and what it returns. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>:            You must supply a function <code>yylex</code>
                        which reads tokens. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>:    You must supply a function <code>yyerror</code>. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Action Features</a>:    Special features for use in actions.

<p>The Lexical Analyzer Function <code>yylex</code>

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention</a>:   How <code>yyparse</code> calls <code>yylex</code>. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Token Values</a>:       How <code>yylex</code> must return the semantic value
                        of the token it has read. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Positions">Token Positions</a>:    How <code>yylex</code> must return the text position
                        (line number, etc.) of the token, if the
                         actions want that. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Pure Calling</a>:       How the calling convention differs
                        in a pure parser (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>).

<p>The Bison Parser Algorithm

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead</a>:         Parser looks one token ahead when deciding what to do. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>:       Conflicts: when either shifting or reduction is valid. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>:         Operator precedence works by resolving conflicts. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>:   When an operator's precedence depends on context. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>:      The parser is a finite-state-machine with stack. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce</a>:      When two rules are applicable in the same situation. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mystery Conflicts</a>:   Reduce/reduce conflicts that look unjustified. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>:     What happens when stack gets full.  How to avoid it.

<p>Operator Precedence

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Why%20Precedence">Why Precedence</a>:     An example showing why precedence is needed. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Using%20Precedence">Using Precedence</a>:   How to specify precedence in Bison grammars. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Examples">Precedence Examples</a>:   How these features are used in the previous example. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#How%20Precedence">How Precedence</a>:     How they work.

<p>Handling Context Dependencies

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Tokens">Semantic Tokens</a>:    Token parsing can depend on the semantic context. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>:    Token parsing can depend on the syntactic context. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Tie-in%20Recovery">Tie-in Recovery</a>:    Lexical tie-ins have implications for how
                        error recovery rules must be written.

<p>Invoking Bison

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Options">Bison Options</a>:      All the options described in detail,
			in alphabetical order by short options. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Option%20Cross%20Key">Option Cross Key</a>:   Alphabetical list of long options. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>:   Bison output files extension differences
					depending on the DOS/Windows file system flavour used. 
</li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#VMS%20Invocation">VMS Invocation</a>:     Bison command syntax on VMS.

<p>Copying This Manual

</p></li><li><a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>:   License for copying this manual.

</li></ul>

<p></p><hr>
Node:<a name="Introduction">Introduction</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Conditions">Conditions</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Introduction</h2>

<p><dfn>Bison</dfn> is a general-purpose parser generator that converts a
grammar description for an LALR(1) context-free grammar into a C
program to parse that grammar.  Once you are proficient with Bison,
you may use it to develop a wide range of language parsers, from those
used in simple desk calculators to complex programming languages.

</p><p>Bison is upward compatible with Yacc: all properly-written Yacc grammars
ought to work with Bison with no change.  Anyone familiar with Yacc
should be able to use Bison with little trouble.  You need to be fluent in
C programming in order to use Bison or to understand this manual.

</p><p>We begin with tutorial chapters that explain the basic concepts of using
Bison and show three explained examples, each building on the last.  If you
don't know Bison or Yacc, start by reading these chapters.  Reference
chapters follow which describe specific aspects of Bison in detail.

</p><p>Bison was written primarily by Robert Corbett; Richard Stallman made it
Yacc-compatible.  Wilfred Hansen of Carnegie Mellon University added
multi-character string literals and other features.

</p><p>This edition corresponds to version 1.35 of Bison.

</p><p></p><hr>
Node:<a name="Conditions">Conditions</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying">Copying</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Introduction">Introduction</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Conditions for Using Bison</h2>

<p>As of Bison version 1.24, we have changed the distribution terms for
<code>yyparse</code> to permit using Bison's output in nonfree programs. 
Formerly, Bison parsers could be used only in programs that were free
software.

</p><p>The other GNU programming tools, such as the GNU C compiler, have never
had such a requirement.  They could always be used for nonfree
software.  The reason Bison was different was not due to a special
policy decision; it resulted from applying the usual General Public
License to all of the Bison source code.

</p><p>The output of the Bison utility--the Bison parser file--contains a
verbatim copy of a sizable piece of Bison, which is the code for the
<code>yyparse</code> function.  (The actions from your grammar are inserted
into this function at one point, but the rest of the function is not
changed.)  When we applied the GPL terms to the code for <code>yyparse</code>,
the effect was to restrict the use of Bison output to free software.

</p><p>We didn't change the terms because of sympathy for people who want to
make software proprietary.  <strong>Software should be free.</strong>  But we
concluded that limiting Bison's use to free software was doing little to
encourage people to make other software free.  So we decided to make the
practical conditions for using Bison match the practical conditions for
using the other GNU tools.

</p><p></p><hr>
Node:<a name="Copying">Copying</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Conditions">Conditions</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>GNU GENERAL PUBLIC LICENSE</h2>

<div align="center">Version 2, June 1991</div>

<br><pre>Copyright © 1989, 1991 Free Software Foundation, Inc.
59 Temple Place - Suite 330, Boston, MA  02111-1307, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre>

<h3>Preamble</h3>

<p>The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
License is intended to guarantee your freedom to share and change free
software--to make sure the software is free for all its users.  This
General Public License applies to most of the Free Software
Foundation's software and to any other program whose authors commit to
using it.  (Some other Free Software Foundation software is covered by
the GNU Library General Public License instead.)  You can apply it to
your programs, too.

</p><p>When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
this service if you wish), that you receive source code or can get it
if you want it, that you can change the software or use pieces of it
in new free programs; and that you know you can do these things.

</p><p>To protect your rights, we need to make restrictions that forbid
anyone to deny you these rights or to ask you to surrender the rights. 
These restrictions translate to certain responsibilities for you if you
distribute copies of the software, or if you modify it.

</p><p>For example, if you distribute copies of such a program, whether
gratis or for a fee, you must give the recipients all the rights that
you have.  You must make sure that they, too, receive or can get the
source code.  And you must show them these terms so they know their
rights.

</p><p>We protect your rights with two steps: (1) copyright the software, and
(2) offer you this license which gives you legal permission to copy,
distribute and/or modify the software.

</p><p>Also, for each author's protection and ours, we want to make certain
that everyone understands that there is no warranty for this free
software.  If the software is modified by someone else and passed on, we
want its recipients to know that what they have is not the original, so
that any problems introduced by others will not reflect on the original
authors' reputations.

</p><p>Finally, any free program is threatened constantly by software
patents.  We wish to avoid the danger that redistributors of a free
program will individually obtain patent licenses, in effect making the
program proprietary.  To prevent this, we have made it clear that any
patent must be licensed for everyone's free use or not licensed at all.

</p><p>The precise terms and conditions for copying, distribution and
modification follow.

</p><ol type="1" start="0">
<p></p><li>This License applies to any program or other work which contains
a notice placed by the copyright holder saying it may be distributed
under the terms of this General Public License.  The "Program", below,
refers to any such program or work, and a "work based on the Program"
means either the Program or any derivative work under copyright law:
that is to say, a work containing the Program or a portion of it,
either verbatim or with modifications and/or translated into another
language.  (Hereinafter, translation is included without limitation in
the term "modification".)  Each licensee is addressed as "you".

<p>Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running the Program is not restricted, and the output from the Program
is covered only if its contents constitute a work based on the
Program (independent of having been made by running the Program). 
Whether that is true depends on what the Program does.

</p></li><li>You may copy and distribute verbatim copies of the Program's
source code as you receive it, in any medium, provided that you
conspicuously and appropriately publish on each copy an appropriate
copyright notice and disclaimer of warranty; keep intact all the
notices that refer to this License and to the absence of any warranty;
and give any other recipients of the Program a copy of this License
along with the Program.

<p>You may charge a fee for the physical act of transferring a copy, and
you may at your option offer warranty protection in exchange for a fee.

</p></li><li>You may modify your copy or copies of the Program or any portion
of it, thus forming a work based on the Program, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

<ol type="a" start="1">
<li>You must cause the modified files to carry prominent notices
stating that you changed the files and the date of any change.

</li><li>You must cause any work that you distribute or publish, that in
whole or in part contains or is derived from the Program or any
part thereof, to be licensed as a whole at no charge to all third
parties under the terms of this License.

</li><li>If the modified program normally reads commands interactively
when run, you must cause it, when started running for such
interactive use in the most ordinary way, to print or display an
announcement including an appropriate copyright notice and a
notice that there is no warranty (or else, saying that you provide
a warranty) and that users may redistribute the program under
these conditions, and telling the user how to view a copy of this
License.  (Exception: if the Program itself is interactive but
does not normally print such an announcement, your work based on
the Program is not required to print an announcement.)
</li></ol>

<p>These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Program,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Program, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote it.

</p><p>Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Program.

</p><p>In addition, mere aggregation of another work not based on the Program
with the Program (or with a work based on the Program) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

</p></li><li>You may copy and distribute the Program (or a work based on it,
under Section 2) in object code or executable form under the terms of
Sections 1 and 2 above provided that you also do one of the following:

<ol type="a" start="1">
<li>Accompany it with the complete corresponding machine-readable
source code, which must be distributed under the terms of Sections
1 and 2 above on a medium customarily used for software interchange; or,

</li><li>Accompany it with a written offer, valid for at least three
years, to give any third party, for a charge no more than your
cost of physically performing source distribution, a complete
machine-readable copy of the corresponding source code, to be
distributed under the terms of Sections 1 and 2 above on a medium
customarily used for software interchange; or,

</li><li>Accompany it with the information you received as to the offer
to distribute corresponding source code.  (This alternative is
allowed only for noncommercial distribution and only if you
received the program in object code or executable form with such
an offer, in accord with Subsection b above.)
</li></ol>

<p>The source code for a work means the preferred form of the work for
making modifications to it.  For an executable work, complete source
code means all the source code for all modules it contains, plus any
associated interface definition files, plus the scripts used to
control compilation and installation of the executable.  However, as a
special exception, the source code distributed need not include
anything that is normally distributed (in either source or binary
form) with the major components (compiler, kernel, and so on) of the
operating system on which the executable runs, unless that component
itself accompanies the executable.

</p><p>If distribution of executable or object code is made by offering
access to copy from a designated place, then offering equivalent
access to copy the source code from the same place counts as
distribution of the source code, even though third parties are not
compelled to copy the source along with the object code.

</p></li><li>You may not copy, modify, sublicense, or distribute the Program
except as expressly provided under this License.  Any attempt
otherwise to copy, modify, sublicense or distribute the Program is
void, and will automatically terminate your rights under this License. 
However, parties who have received copies, or rights, from you under
this License will not have their licenses terminated so long as such
parties remain in full compliance.

</li><li>You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Program or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Program (or any work based on the
Program), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Program or works based on it.

</li><li>Each time you redistribute the Program (or any work based on the
Program), the recipient automatically receives a license from the
original licensor to copy, distribute or modify the Program subject to
these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein. 
You are not responsible for enforcing compliance by third parties to
this License.

</li><li>If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Program at all.  For example, if a patent
license would not permit royalty-free redistribution of the Program by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Program.

<p>If any portion of this section is held invalid or unenforceable under
any particular circumstance, the balance of the section is intended to
apply and the section as a whole is intended to apply in other
circumstances.

</p><p>It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system, which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

</p><p>This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

</p></li><li>If the distribution and/or use of the Program is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Program under this License
may add an explicit geographical distribution limitation excluding
those countries, so that distribution is permitted only in or among
countries not thus excluded.  In such case, this License incorporates
the limitation as if written in the body of this License.

</li><li>The Free Software Foundation may publish revised and/or new versions
of the General Public License from time to time.  Such new versions will
be similar in spirit to the present version, but may differ in detail to
address new problems or concerns.

<p>Each version is given a distinguishing version number.  If the Program
specifies a version number of this License which applies to it and "any
later version", you have the option of following the terms and conditions
either of that version or of any later version published by the Free
Software Foundation.  If the Program does not specify a version number of
this License, you may choose any version ever published by the Free Software
Foundation.

</p></li><li>If you wish to incorporate parts of the Program into other free
programs whose distribution conditions are different, write to the author
to ask for permission.  For software which is copyrighted by the Free
Software Foundation, write to the Free Software Foundation; we sometimes
make exceptions for this.  Our decision will be guided by the two goals
of preserving the free status of all derivatives of our free software and
of promoting the sharing and reuse of software generally.

</li><li>BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
REPAIR OR CORRECTION.

</li><li>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
POSSIBILITY OF SUCH DAMAGES.
</li></ol>

<h3>Appendix: How to Apply These Terms to Your New Programs</h3>

<p>If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these terms.

</p><p>To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least
the "copyright" line and a pointer to where the full notice is found.

<br></p><pre><var>one line to give the program's name and a brief idea of what it does.</var>
Copyright (C) <var>yyyy</var>  <var>name of author</var>

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
</pre>

<p>Also add information on how to contact you by electronic and paper mail.

</p><p>If the program is interactive, make it output a short notice like this
when it starts in an interactive mode:

<br></p><pre>Gnomovision version 69, Copyright (C) 19<var>yy</var> <var>name of author</var>
Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
This is free software, and you are welcome to redistribute it
under certain conditions; type `show c' for details.
</pre>

<p>The hypothetical commands <code>show w</code> and <code>show c</code> should show
the appropriate parts of the General Public License.  Of course, the
commands you use may be called something other than <code>show w</code> and
<code>show c</code>; they could even be mouse-clicks or menu items--whatever
suits your program.

</p><p>You should also get your employer (if you work as a programmer) or your
school, if any, to sign a "copyright disclaimer" for the program, if
necessary.  Here is a sample; alter the names:

<br></p><pre>Yoyodyne, Inc., hereby disclaims all copyright interest in the program
`Gnomovision' (which makes passes at compilers) written by James Hacker.

<var>signature of Ty Coon</var>, 1 April 1989
Ty Coon, President of Vice
</pre>

<p>This General Public License does not permit incorporating your program into
proprietary programs.  If your program is a subroutine library, you may
consider it more useful to permit linking proprietary applications with the
library.  If this is what you want to do, use the GNU Library General
Public License instead of this License.

</p><p></p><hr>
Node:<a name="Concepts">Concepts</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying">Copying</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>The Concepts of Bison</h2>

<p>This chapter introduces many of the basic concepts without which the
details of Bison will not make sense.  If you do not already know how to
use Bison or Yacc, we suggest you start by reading this chapter carefully.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>:   Languages and context-free grammars,
                            as mathematical ideas. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>:   How we represent grammars for Bison's sake. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>:    Each token or syntactic grouping can have
                        a semantic value (the value of an integer,
                        the name of an identifier, etc.). 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>:   Each rule can have an action containing C code. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations Overview</a>:     Tracking Locations. 
</li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>:       What are Bison's input and output,
                        how is the output used? 
</li><li><a accesskey="7" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages</a>:             Stages in writing and running Bison grammars. 
</li><li><a accesskey="8" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>:     Overall structure of a Bison grammar file. 
</li></ul>

<p></p><hr>
Node:<a name="Language%20and%20Grammar">Language and Grammar</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>Languages and Context-Free Grammars</h3>

<p>In order for Bison to parse a language, it must be described by a
<dfn>context-free grammar</dfn>.  This means that you specify one or more
<dfn>syntactic groupings</dfn> and give rules for constructing them from their
parts.  For example, in the C language, one kind of grouping is called an
`expression'.  One rule for making an expression might be, "An expression
can be made of a minus sign and another expression".  Another would be,
"An expression can be an integer".  As you can see, rules are often
recursive, but there must be at least one rule which leads out of the
recursion.

</p><p>The most common formal system for presenting such rules for humans to read
is <dfn>Backus-Naur Form</dfn> or "BNF", which was developed in order to
specify the language Algol 60.  Any grammar expressed in BNF is a
context-free grammar.  The input to Bison is essentially machine-readable
BNF.

</p><p>Not all context-free languages can be handled by Bison, only those
that are LALR(1).  In brief, this means that it must be possible to
tell how to parse any portion of an input string with just a single
token of look-ahead.  Strictly speaking, that is a description of an
LR(1) grammar, and LALR(1) involves additional restrictions that are
hard to explain simply; but it is rare in actual practice to find an
LR(1) grammar that fails to be LALR(1).  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mysterious Reduce/Reduce Conflicts</a>, for more information on this.

</p><p>In the formal grammatical rules for a language, each kind of syntactic unit
or grouping is named by a <dfn>symbol</dfn>.  Those which are built by grouping
smaller constructs according to grammatical rules are called
<dfn>nonterminal symbols</dfn>; those which can't be subdivided are called
<dfn>terminal symbols</dfn> or <dfn>token types</dfn>.  We call a piece of input
corresponding to a single terminal symbol a <dfn>token</dfn>, and a piece
corresponding to a single nonterminal symbol a <dfn>grouping</dfn>.

</p><p>We can use the C language as an example of what symbols, terminal and
nonterminal, mean.  The tokens of C are identifiers, constants (numeric and
string), and the various keywords, arithmetic operators and punctuation
marks.  So the terminal symbols of a grammar for C include `identifier',
`number', `string', plus one symbol for each keyword, operator or
punctuation mark: `if', `return', `const', `static', `int', `char',
`plus-sign', `open-brace', `close-brace', `comma' and many more.  (These
tokens can be subdivided into characters, but that is a matter of
lexicography, not grammar.)

</p><p>Here is a simple C function subdivided into tokens:

<br></p><pre>int             /* keyword `int' */
square (int x)  /* identifier, open-paren, identifier, identifier, close-paren */
{               /* open-brace */
  return x * x; /* keyword `return', identifier, asterisk, identifier, semicolon */
}               /* close-brace */
</pre>

<p>The syntactic groupings of C include the expression, the statement, the
declaration, and the function definition.  These are represented in the
grammar of C by nonterminal symbols `expression', `statement',
`declaration' and `function definition'.  The full grammar uses dozens of
additional language constructs, each with its own nonterminal symbol, in
order to express the meanings of these four.  The example above is a
function definition; it contains one declaration, and one statement.  In
the statement, each <code>x</code> is an expression and so is <code>x * x</code>.

</p><p>Each nonterminal symbol must have grammatical rules showing how it is made
out of simpler constructs.  For example, one kind of C statement is the
<code>return</code> statement; this would be described with a grammar rule which
reads informally as follows:

</p><blockquote>
A `statement' can be made of a `return' keyword, an `expression' and a
`semicolon'. 
</blockquote>

<p>There would be many other rules for `statement', one for each kind of
statement in C.

</p><p>One nonterminal symbol must be distinguished as the special one which
defines a complete utterance in the language.  It is called the <dfn>start
symbol</dfn>.  In a compiler, this means a complete input program.  In the C
language, the nonterminal symbol `sequence of definitions and declarations'
plays this role.

</p><p>For example, <code>1 + 2</code> is a valid C expression--a valid part of a C
program--but it is not valid as an <em>entire</em> C program.  In the
context-free grammar of C, this follows from the fact that `expression' is
not the start symbol.

</p><p>The Bison parser reads a sequence of tokens as its input, and groups the
tokens using the grammar rules.  If the input is valid, the end result is
that the entire token sequence reduces to a single grouping whose symbol is
the grammar's start symbol.  If we use a grammar for C, the entire input
must be a `sequence of definitions and declarations'.  If not, the parser
reports a syntax error.

</p><p></p><hr>
Node:<a name="Grammar%20in%20Bison">Grammar in Bison</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>From Formal Rules to Bison Input</h3>

<p>A formal grammar is a mathematical construct.  To define the language
for Bison, you must write a file expressing the grammar in Bison syntax:
a <dfn>Bison grammar</dfn> file.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Bison Grammar Files</a>.

</p><p>A nonterminal symbol in the formal grammar is represented in Bison input
as an identifier, like an identifier in C.  By convention, it should be
in lower case, such as <code>expr</code>, <code>stmt</code> or <code>declaration</code>.

</p><p>The Bison representation for a terminal symbol is also called a <dfn>token
type</dfn>.  Token types as well can be represented as C-like identifiers.  By
convention, these identifiers should be upper case to distinguish them from
nonterminals: for example, <code>INTEGER</code>, <code>IDENTIFIER</code>, <code>IF</code> or
<code>RETURN</code>.  A terminal symbol that stands for a particular keyword in
the language should be named after that keyword converted to upper case. 
The terminal symbol <code>error</code> is reserved for error recovery. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>.

</p><p>A terminal symbol can also be represented as a character literal, just like
a C character constant.  You should do this whenever a token is just a
single character (parenthesis, plus-sign, etc.): use that same character in
a literal as the terminal symbol for that token.

</p><p>A third way to represent a terminal symbol is with a C string constant
containing several characters.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>, for more information.

</p><p>The grammar rules also have an expression in Bison syntax.  For example,
here is the Bison rule for a C <code>return</code> statement.  The semicolon in
quotes is a literal character token, representing part of the C syntax for
the statement; the naked semicolon, and the colon, are Bison punctuation
used in every rule.

<br></p><pre>stmt:   RETURN expr ';'
        ;
</pre>

<p>See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Syntax of Grammar Rules</a>.

</p><p></p><hr>
Node:<a name="Semantic%20Values">Semantic Values</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>Semantic Values</h3>

<p>A formal grammar selects tokens only by their classifications: for example,
if a rule mentions the terminal symbol `integer constant', it means that
<em>any</em> integer constant is grammatically valid in that position.  The
precise value of the constant is irrelevant to how to parse the input: if
<code>x+4</code> is grammatical then <code>x+1</code> or <code>x+3989</code> is equally
grammatical.

</p><p>But the precise value is very important for what the input means once it is
parsed.  A compiler is useless if it fails to distinguish between 4, 1 and
3989 as constants in the program!  Therefore, each token in a Bison grammar
has both a token type and a <dfn>semantic value</dfn>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Defining Language Semantics</a>,
for details.

</p><p>The token type is a terminal symbol defined in the grammar, such as
<code>INTEGER</code>, <code>IDENTIFIER</code> or <code>','</code>.  It tells everything
you need to know to decide where the token may validly appear and how to
group it with other tokens.  The grammar rules know nothing about tokens
except their types.

</p><p>The semantic value has all the rest of the information about the
meaning of the token, such as the value of an integer, or the name of an
identifier.  (A token such as <code>','</code> which is just punctuation doesn't
need to have any semantic value.)

</p><p>For example, an input token might be classified as token type
<code>INTEGER</code> and have the semantic value 4.  Another input token might
have the same token type <code>INTEGER</code> but value 3989.  When a grammar
rule says that <code>INTEGER</code> is allowed, either of these tokens is
acceptable because each is an <code>INTEGER</code>.  When the parser accepts the
token, it keeps track of the token's semantic value.

</p><p>Each grouping can also have a semantic value as well as its nonterminal
symbol.  For example, in a calculator, an expression typically has a
semantic value that is a number.  In a compiler for a programming
language, an expression typically has a semantic value that is a tree
structure describing the meaning of the expression.

</p><p></p><hr>
Node:<a name="Semantic%20Actions">Semantic Actions</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations Overview</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>Semantic Actions</h3>

<p>In order to be useful, a program must do more than parse input; it must
also produce some output based on the input.  In a Bison grammar, a grammar
rule can have an <dfn>action</dfn> made up of C statements.  Each time the
parser recognizes a match for that rule, the action is executed. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>.

</p><p>Most of the time, the purpose of an action is to compute the semantic value
of the whole construct from the semantic values of its parts.  For example,
suppose we have a rule which says an expression can be the sum of two
expressions.  When the parser recognizes such a sum, each of the
subexpressions has a semantic value which describes how it was built up. 
The action for this rule should create a similar sort of value for the
newly recognized larger expression.

</p><p>For example, here is a rule that says an expression can be the sum of
two subexpressions:

<br></p><pre>expr: expr '+' expr   { $$ = $1 + $3; }
        ;
</pre>

<p>The action says how to produce the semantic value of the sum expression
from the values of the two subexpressions.

</p><p></p><hr>
Node:<a name="Locations%20Overview">Locations Overview</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>Locations</h3>

<p>Many applications, like interpreters or compilers, have to produce verbose
and useful error messages. To achieve this, one must be able to keep track of
the <dfn>textual position</dfn>, or <dfn>location</dfn>, of each syntactic construct. 
Bison provides a mechanism for handling these locations.

</p><p>Each token has a semantic value. In a similar fashion, each token has an
associated location, but the type of locations is the same for all tokens and
groupings. Moreover, the output parser is equipped with a default data
structure for storing locations (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>, for more details).

</p><p>Like semantic values, locations can be reached in actions using a dedicated
set of constructs. In the example above, the location of the whole grouping
is <code>@$</code>, while the locations of the subexpressions are <code>@1</code> and
<code>@3</code>.

</p><p>When a rule is matched, a default action is used to compute the semantic value
of its left hand side (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>). In the same way, another default
action is used for locations. However, the action for locations is general
enough for most cases, meaning there is usually no need to describe for each
rule how <code>@$</code> should be formed. When building a new location for a given
grouping, the default behavior of the output parser is to take the beginning
of the first symbol, and the end of the last symbol.

</p><p></p><hr>
Node:<a name="Bison%20Parser">Bison Parser</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations Overview</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>Bison Output: the Parser File</h3>

<p>When you run Bison, you give it a Bison grammar file as input.  The output
is a C source file that parses the language described by the grammar. 
This file is called a <dfn>Bison parser</dfn>.  Keep in mind that the Bison
utility and the Bison parser are two distinct programs: the Bison utility
is a program whose output is the Bison parser that becomes part of your
program.

</p><p>The job of the Bison parser is to group tokens into groupings according to
the grammar rules--for example, to build identifiers and operators into
expressions.  As it does this, it runs the actions for the grammar rules it
uses.

</p><p>The tokens come from a function called the <dfn>lexical analyzer</dfn> that you
must supply in some fashion (such as by writing it in C).  The Bison parser
calls the lexical analyzer each time it wants a new token.  It doesn't know
what is "inside" the tokens (though their semantic values may reflect
this).  Typically the lexical analyzer makes the tokens by parsing
characters of text, but Bison does not depend on this.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">The Lexical Analyzer Function <code>yylex</code></a>.

</p><p>The Bison parser file is C code which defines a function named
<code>yyparse</code> which implements that grammar.  This function does not make
a complete C program: you must supply some additional functions.  One is
the lexical analyzer.  Another is an error-reporting function which the
parser calls to report an error.  In addition, a complete C program must
start with a function called <code>main</code>; you have to provide this, and
arrange for it to call <code>yyparse</code> or the parser will never run. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Parser C-Language Interface</a>.

</p><p>Aside from the token type names and the symbols in the actions you
write, all symbols defined in the Bison parser file itself
begin with <code>yy</code> or <code>YY</code>.  This includes interface functions
such as the lexical analyzer function <code>yylex</code>, the error reporting
function <code>yyerror</code> and the parser function <code>yyparse</code> itself. 
This also includes numerous identifiers used for internal purposes. 
Therefore, you should avoid using C identifiers starting with <code>yy</code>
or <code>YY</code> in the Bison grammar file except for the ones defined in
this manual.

</p><p>In some cases the Bison parser file includes system headers, and in
those cases your code should respect the identifiers reserved by those
headers.  On some non-<small>GNU</small> hosts, <code>&lt;alloca.h&gt;</code>,
<code>&lt;stddef.h&gt;</code>, and <code>&lt;stdlib.h&gt;</code> are included as needed to
declare memory allocators and related types. 
Other system headers may be included if you define <code>YYDEBUG</code> to a
nonzero value (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging Your Parser</a>).

</p><p></p><hr>
Node:<a name="Stages">Stages</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>Stages in Using Bison</h3>

<p>The actual language-design process using Bison, from grammar specification
to a working compiler or interpreter, has these parts:

</p><ol type="1" start="1">
<p></p><li>Formally specify the grammar in a form recognized by Bison
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Bison Grammar Files</a>).  For each grammatical rule in the language,
describe the action that is to be taken when an instance of that rule
is recognized.  The action is described by a sequence of C statements.

</li><li>Write a lexical analyzer to process input and pass tokens to the
parser.  The lexical analyzer may be written by hand in C
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">The Lexical Analyzer Function <code>yylex</code></a>).  It could also be produced using Lex, but the use
of Lex is not discussed in this manual.

</li><li>Write a controlling function that calls the Bison-produced parser.

</li><li>Write error-reporting routines.
</li></ol>

<p>To turn this source code as written into a runnable program, you
must follow these steps:

</p><ol type="1" start="1">
<p></p><li>Run Bison on the grammar to produce the parser.

</li><li>Compile the code output by Bison, as well as any other source files.

</li><li>Link the object files to produce the finished product.
</li></ol>

<p></p><hr>
Node:<a name="Grammar%20Layout">Grammar Layout</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>
<br>

<h3>The Overall Layout of a Bison Grammar</h3>

<p>The input file for the Bison utility is a <dfn>Bison grammar file</dfn>.  The
general form of a Bison grammar file is as follows:

<br></p><pre>%{
<var>C declarations</var>
%}

<var>Bison declarations</var>

%%
<var>Grammar rules</var>
%%
<var>Additional C code</var>
</pre>

<p>The <code>%%</code>, <code>%{</code> and <code>%}</code> are punctuation that appears
in every Bison grammar file to separate the sections.

</p><p>The C declarations may define types and variables used in the actions. 
You can also use preprocessor commands to define macros used there, and use
<code>#include</code> to include header files that do any of these things.

</p><p>The Bison declarations declare the names of the terminal and nonterminal
symbols, and may also describe operator precedence and the data types of
semantic values of various symbols.

</p><p>The grammar rules define how to construct each nonterminal symbol from its
parts.

</p><p>The additional C code can contain any C code you want to use.  Often the
definition of the lexical analyzer <code>yylex</code> goes here, plus subroutines
called by the actions in the grammar rules.  In a simple program, all the
rest of the program can go here.

</p><p></p><hr>
Node:<a name="Examples">Examples</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Concepts">Concepts</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Examples</h2>

<p>Now we show and explain three sample programs written using Bison: a
reverse polish notation calculator, an algebraic (infix) notation
calculator, and a multi-function calculator.  All three have been tested
under BSD Unix 4.3; each produces a usable, though limited, interactive
desk-top calculator.

</p><p>These examples are simple, but Bison grammars for real programming
languages are written the same way.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>:           Reverse polish notation calculator;
                        a first example with no operator precedence. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>:         Infix (algebraic) notation calculator. 
                        Operator precedence is introduced. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Simple%20Error%20Recovery">Simple Error Recovery</a>:   Continuing after syntax errors. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>:  Demonstrating the use of @<var>n</var> and @$. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>:   Calculator with memory and trig functions. 
                           It uses multiple data-types for semantic values. 
</li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Exercises">Exercises</a>:          Ideas for improving the multi-function calculator. 
</li></ul>

<p></p><hr>
Node:<a name="RPN%20Calc">RPN Calc</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<br>

<h3>Reverse Polish Notation Calculator</h3>

<p>The first example is that of a simple double-precision <dfn>reverse polish
notation</dfn> calculator (a calculator using postfix operators).  This example
provides a good starting point, since operator precedence is not an issue. 
The second example will illustrate how operator precedence is handled.

</p><p>The source code for this calculator is named <code>rpcalc.y</code>.  The
<code>.y</code> extension is a convention used for Bison input files.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Decls">Decls</a>:   Bison and C declarations for rpcalc. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rules</a>:   Grammar Rules for rpcalc, with explanation. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">Lexer</a>:   The lexical analyzer. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">Main</a>:     The controlling function. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Error">Error</a>:   The error reporting function. 
</li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Gen">Gen</a>:       Running Bison on the grammar file. 
</li><li><a accesskey="7" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Compile">Comp</a>:  Run the C compiler on the output code. 
</li></ul>

<p></p><hr>
Node:<a name="Rpcalc%20Decls">Rpcalc Decls</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rpcalc Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>Declarations for <code>rpcalc</code></h4>

<p>Here are the C and Bison declarations for the reverse polish notation
calculator.  As in C, comments are placed between <code>/*<small>...</small>*/</code>.

<br></p><pre>/* Reverse polish notation calculator. */

%{
#define YYSTYPE double
#include &lt;math.h&gt;
%}

%token NUM

%% /* Grammar rules and actions follow */
</pre>

<p>The C declarations section (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">The C Declarations Section</a>) contains two
preprocessor directives.

</p><p>The <code>#define</code> directive defines the macro <code>YYSTYPE</code>, thus
specifying the C data type for semantic values of both tokens and
groupings (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Data Types of Semantic Values</a>).  The
Bison parser will use whatever type <code>YYSTYPE</code> is defined as; if you
don't define it, <code>int</code> is the default.  Because we specify
<code>double</code>, each token and each expression has an associated value,
which is a floating point number.

</p><p>The <code>#include</code> directive is used to declare the exponentiation
function <code>pow</code>.

</p><p>The second section, Bison declarations, provides information to Bison about
the token types (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">The Bison Declarations Section</a>).  Each terminal symbol that is
not a single-character literal must be declared here.  (Single-character
literals normally don't need to be declared.)  In this example, all the
arithmetic operators are designated by single-character literals, so the
only terminal symbol that needs to be declared is <code>NUM</code>, the token
type for numeric constants.

</p><p></p><hr>
Node:<a name="Rpcalc%20Rules">Rpcalc Rules</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">Rpcalc Lexer</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Decls">Rpcalc Decls</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>Grammar Rules for <code>rpcalc</code></h4>

<p>Here are the grammar rules for the reverse polish notation calculator.

<br></p><pre>input:    /* empty */
        | input line
;

line:     '\n'
        | exp '\n'  { printf ("\t%.10g\n", $1); }
;

exp:      NUM             { $$ = $1;         }
        | exp exp '+'     { $$ = $1 + $2;    }
        | exp exp '-'     { $$ = $1 - $2;    }
        | exp exp '*'     { $$ = $1 * $2;    }
        | exp exp '/'     { $$ = $1 / $2;    }
      /* Exponentiation */
        | exp exp '^'     { $$ = pow ($1, $2); }
      /* Unary minus    */
        | exp 'n'         { $$ = -$1;        }
;
%%
</pre>

<p>The groupings of the rpcalc "language" defined here are the expression
(given the name <code>exp</code>), the line of input (<code>line</code>), and the
complete input transcript (<code>input</code>).  Each of these nonterminal
symbols has several alternate rules, joined by the <code>|</code> punctuator
which is read as "or".  The following sections explain what these rules
mean.

</p><p>The semantics of the language is determined by the actions taken when a
grouping is recognized.  The actions are the C code that appears inside
braces.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>.

</p><p>You must specify these actions in C, but Bison provides the means for
passing semantic values between the rules.  In each action, the
pseudo-variable <code>$$</code> stands for the semantic value for the grouping
that the rule is going to construct.  Assigning a value to <code>$$</code> is the
main job of most actions.  The semantic values of the components of the
rule are referred to as <code>$1</code>, <code>$2</code>, and so on.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Input">Rpcalc Input</a>: 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Line">Rpcalc Line</a>: 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Expr">Rpcalc Expr</a>: 
</li></ul>

<p></p><hr>
Node:<a name="Rpcalc%20Input">Rpcalc Input</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Line">Rpcalc Line</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rpcalc Rules</a>
<br>

<h5>Explanation of <code>input</code></h5>

<p>Consider the definition of <code>input</code>:

<br></p><pre>input:    /* empty */
        | input line
;
</pre>

<p>This definition reads as follows: "A complete input is either an empty
string, or a complete input followed by an input line".  Notice that
"complete input" is defined in terms of itself.  This definition is said
to be <dfn>left recursive</dfn> since <code>input</code> appears always as the
leftmost symbol in the sequence.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursive Rules</a>.

</p><p>The first alternative is empty because there are no symbols between the
colon and the first <code>|</code>; this means that <code>input</code> can match an
empty string of input (no tokens).  We write the rules this way because it
is legitimate to type <kbd>Ctrl-d</kbd> right after you start the calculator. 
It's conventional to put an empty alternative first and write the comment
<code>/* empty */</code> in it.

</p><p>The second alternate rule (<code>input line</code>) handles all nontrivial input. 
It means, "After reading any number of lines, read one more line if
possible."  The left recursion makes this rule into a loop.  Since the
first alternative matches empty input, the loop can be executed zero or
more times.

</p><p>The parser function <code>yyparse</code> continues to process input until a
grammatical error is seen or the lexical analyzer says there are no more
input tokens; we will arrange for the latter to happen at end of file.

</p><p></p><hr>
Node:<a name="Rpcalc%20Line">Rpcalc Line</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Expr">Rpcalc Expr</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Input">Rpcalc Input</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rpcalc Rules</a>
<br>

<h5>Explanation of <code>line</code></h5>

<p>Now consider the definition of <code>line</code>:

<br></p><pre>line:     '\n'
        | exp '\n'  { printf ("\t%.10g\n", $1); }
;
</pre>

<p>The first alternative is a token which is a newline character; this means
that rpcalc accepts a blank line (and ignores it, since there is no
action).  The second alternative is an expression followed by a newline. 
This is the alternative that makes rpcalc useful.  The semantic value of
the <code>exp</code> grouping is the value of <code>$1</code> because the <code>exp</code> in
question is the first symbol in the alternative.  The action prints this
value, which is the result of the computation the user asked for.

</p><p>This action is unusual because it does not assign a value to <code>$$</code>.  As
a consequence, the semantic value associated with the <code>line</code> is
uninitialized (its value will be unpredictable).  This would be a bug if
that value were ever used, but we don't use it: once rpcalc has printed the
value of the user's input line, that value is no longer needed.

</p><p></p><hr>
Node:<a name="Rpcalc%20Expr">Rpcalc Expr</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Line">Rpcalc Line</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rpcalc Rules</a>
<br>

<h5>Explanation of <code>expr</code></h5>

<p>The <code>exp</code> grouping has several rules, one for each kind of expression. 
The first rule handles the simplest expressions: those that are just numbers. 
The second handles an addition-expression, which looks like two expressions
followed by a plus-sign.  The third handles subtraction, and so on.

<br></p><pre>exp:      NUM
        | exp exp '+'     { $$ = $1 + $2;    }
        | exp exp '-'     { $$ = $1 - $2;    }
        <small>...</small>
        ;
</pre>

<p>We have used <code>|</code> to join all the rules for <code>exp</code>, but we could
equally well have written them separately:

<br></p><pre>exp:      NUM ;
exp:      exp exp '+'     { $$ = $1 + $2;    } ;
exp:      exp exp '-'     { $$ = $1 - $2;    } ;
        <small>...</small>
</pre>

<p>Most of the rules have actions that compute the value of the expression in
terms of the value of its parts.  For example, in the rule for addition,
<code>$1</code> refers to the first component <code>exp</code> and <code>$2</code> refers to
the second one.  The third component, <code>'+'</code>, has no meaningful
associated semantic value, but if it had one you could refer to it as
<code>$3</code>.  When <code>yyparse</code> recognizes a sum expression using this
rule, the sum of the two subexpressions' values is produced as the value of
the entire expression.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>.

</p><p>You don't have to give an action for every rule.  When a rule has no
action, Bison by default copies the value of <code>$1</code> into <code>$$</code>. 
This is what happens in the first rule (the one that uses <code>NUM</code>).

</p><p>The formatting shown here is the recommended convention, but Bison does
not require it.  You can add or change whitespace as much as you wish. 
For example, this:

<br></p><pre>exp   : NUM | exp exp '+' {$$ = $1 + $2; } | <small>...</small>
</pre>

<p>means the same thing as this:

<br></p><pre>exp:      NUM
        | exp exp '+'    { $$ = $1 + $2; }
        | <small>...</small>
</pre>

<p>The latter, however, is much more readable.

</p><p></p><hr>
Node:<a name="Rpcalc%20Lexer">Rpcalc Lexer</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">Rpcalc Main</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Rules">Rpcalc Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>The <code>rpcalc</code> Lexical Analyzer</h4>

<p>The lexical analyzer's job is low-level parsing: converting characters or
sequences of characters into tokens.  The Bison parser gets its tokens by
calling the lexical analyzer.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">The Lexical Analyzer Function <code>yylex</code></a>.

</p><p>Only a simple lexical analyzer is needed for the RPN calculator.  This
lexical analyzer skips blanks and tabs, then reads in numbers as
<code>double</code> and returns them as <code>NUM</code> tokens.  Any other character
that isn't part of a number is a separate token.  Note that the token-code
for such a single-character token is the character itself.

</p><p>The return value of the lexical analyzer function is a numeric code which
represents a token type.  The same text used in Bison rules to stand for
this token type is also a C expression for the numeric code for the type. 
This works in two ways.  If the token type is a character literal, then its
numeric code is the ASCII code for that character; you can use the same
character literal in the lexical analyzer to express the number.  If the
token type is an identifier, that identifier is defined by Bison as a C
macro whose definition is the appropriate number.  In this example,
therefore, <code>NUM</code> becomes a macro for <code>yylex</code> to use.

</p><p>The semantic value of the token (if it has one) is stored into the
global variable <code>yylval</code>, which is where the Bison parser will look
for it.  (The C data type of <code>yylval</code> is <code>YYSTYPE</code>, which was
defined at the beginning of the grammar; see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Decls">Declarations for <code>rpcalc</code></a>.)

</p><p>A token type code of zero is returned if the end-of-file is encountered. 
(Bison recognizes any nonpositive value as indicating the end of the
input.)

</p><p>Here is the code for the lexical analyzer:

<br></p><pre>/* Lexical analyzer returns a double floating point
   number on the stack and the token NUM, or the ASCII
   character read if not a number.  Skips all blanks
   and tabs, returns 0 for EOF. */

#include &lt;ctype.h&gt;

int
yylex (void)
{
  int c;

  /* skip white space  */
  while ((c = getchar ()) == ' ' || c == '\t')
    ;
  /* process numbers   */
  if (c == '.' || isdigit (c))
    {
      ungetc (c, stdin);
      scanf ("%lf", &amp;yylval);
      return NUM;
    }
  /* return end-of-file  */
  if (c == EOF)
    return 0;
  /* return single chars */
  return c;
}
</pre>

<p></p><hr>
Node:<a name="Rpcalc%20Main">Rpcalc Main</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Error">Rpcalc Error</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">Rpcalc Lexer</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>The Controlling Function</h4>

<p>In keeping with the spirit of this example, the controlling function is
kept to the bare minimum.  The only requirement is that it call
<code>yyparse</code> to start the process of parsing.

<br></p><pre>int
main (void)
{
  return yyparse ();
}
</pre>

<p></p><hr>
Node:<a name="Rpcalc%20Error">Rpcalc Error</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Gen">Rpcalc Gen</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">Rpcalc Main</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>The Error Reporting Routine</h4>

<p>When <code>yyparse</code> detects a syntax error, it calls the error reporting
function <code>yyerror</code> to print an error message (usually but not
always <code>"parse error"</code>).  It is up to the programmer to supply
<code>yyerror</code> (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Parser C-Language Interface</a>), so
here is the definition we will use:

<br></p><pre>#include &lt;stdio.h&gt;

void
yyerror (const char *s)  /* Called by yyparse on error */
{
  printf ("%s\n", s);
}
</pre>

<p>After <code>yyerror</code> returns, the Bison parser may recover from the error
and continue parsing if the grammar contains a suitable error rule
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>).  Otherwise, <code>yyparse</code> returns nonzero.  We
have not written any error rules in this example, so any invalid input will
cause the calculator program to exit.  This is not clean behavior for a
real calculator, but it is adequate for the first example.

</p><p></p><hr>
Node:<a name="Rpcalc%20Gen">Rpcalc Gen</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Compile">Rpcalc Compile</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Error">Rpcalc Error</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>Running Bison to Make the Parser</h4>

<p>Before running Bison to produce a parser, we need to decide how to
arrange all the source code in one or more source files.  For such a
simple example, the easiest thing is to put everything in one file.  The
definitions of <code>yylex</code>, <code>yyerror</code> and <code>main</code> go at the
end, in the "additional C code" section of the file (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">The Overall Layout of a Bison Grammar</a>).

</p><p>For a large project, you would probably have several source files, and use
<code>make</code> to arrange to recompile them.

</p><p>With all the source in a single file, you use the following command to
convert it into a parser file:

<br></p><pre>bison <var>file_name</var>.y
</pre>

<p>In this example the file was called <code>rpcalc.y</code> (for "Reverse Polish
CALCulator").  Bison produces a file named <code><var>file_name</var>.tab.c</code>,
removing the <code>.y</code> from the original file name. The file output by
Bison contains the source code for <code>yyparse</code>.  The additional
functions in the input file (<code>yylex</code>, <code>yyerror</code> and <code>main</code>)
are copied verbatim to the output.

</p><p></p><hr>
Node:<a name="Rpcalc%20Compile">Rpcalc Compile</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Gen">Rpcalc Gen</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
<br>

<h4>Compiling the Parser File</h4>

<p>Here is how to compile and run the parser file:

<br></p><pre># List files in current directory.
$ <kbd>ls</kbd>
rpcalc.tab.c  rpcalc.y

# Compile the Bison parser.
# <code>-lm</code> tells compiler to search math library for <code>pow</code>.
$ <kbd>cc rpcalc.tab.c -lm -o rpcalc</kbd>

# List files again.
$ <kbd>ls</kbd>
rpcalc  rpcalc.tab.c  rpcalc.y
</pre>

<p>The file <code>rpcalc</code> now contains the executable code.  Here is an
example session using <code>rpcalc</code>.

<br></p><pre>$ <kbd>rpcalc</kbd>
<kbd>4 9 +</kbd>
13
<kbd>3 7 + 3 4 5 *+-</kbd>
-13
<kbd>3 7 + 3 4 5 * + - n</kbd>              Note the unary minus, <code>n</code>
13
<kbd>5 6 / 4 n +</kbd>
-3.166666667
<kbd>3 4 ^</kbd>                            Exponentiation
81
<kbd>^D</kbd>                               End-of-file indicator
$
</pre>

<p></p><hr>
Node:<a name="Infix%20Calc">Infix Calc</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Simple%20Error%20Recovery">Simple Error Recovery</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<br>

<h3>Infix Notation Calculator: <code>calc</code></h3>

<p>We now modify rpcalc to handle infix operators instead of postfix.  Infix
notation involves the concept of operator precedence and the need for
parentheses nested to arbitrary depth.  Here is the Bison code for
<code>calc.y</code>, an infix desk-top calculator.

<br></p><pre>/* Infix notation calculator--calc */

%{
#define YYSTYPE double
#include &lt;math.h&gt;
%}

/* BISON Declarations */
%token NUM
%left '-' '+'
%left '*' '/'
%left NEG     /* negation--unary minus */
%right '^'    /* exponentiation        */

/* Grammar follows */
%%
input:    /* empty string */
        | input line
;

line:     '\n'
        | exp '\n'  { printf ("\t%.10g\n", $1); }
;

exp:      NUM                { $$ = $1;         }
        | exp '+' exp        { $$ = $1 + $3;    }
        | exp '-' exp        { $$ = $1 - $3;    }
        | exp '*' exp        { $$ = $1 * $3;    }
        | exp '/' exp        { $$ = $1 / $3;    }
        | '-' exp  %prec NEG { $$ = -$2;        }
        | exp '^' exp        { $$ = pow ($1, $3); }
        | '(' exp ')'        { $$ = $2;         }
;
%%
</pre>

<p>The functions <code>yylex</code>, <code>yyerror</code> and <code>main</code> can be the
same as before.

</p><p>There are two important new features shown in this code.

</p><p>In the second section (Bison declarations), <code>%left</code> declares token
types and says they are left-associative operators.  The declarations
<code>%left</code> and <code>%right</code> (right associativity) take the place of
<code>%token</code> which is used to declare a token type name without
associativity.  (These tokens are single-character literals, which
ordinarily don't need to be declared.  We declare them here to specify
the associativity.)

</p><p>Operator precedence is determined by the line ordering of the
declarations; the higher the line number of the declaration (lower on
the page or screen), the higher the precedence.  Hence, exponentiation
has the highest precedence, unary minus (<code>NEG</code>) is next, followed
by <code>*</code> and <code>/</code>, and so on.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Operator Precedence</a>.

</p><p>The other important new feature is the <code>%prec</code> in the grammar section
for the unary minus operator.  The <code>%prec</code> simply instructs Bison that
the rule <code>| '-' exp</code> has the same precedence as <code>NEG</code>--in this
case the next-to-highest.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Context-Dependent Precedence</a>.

</p><p>Here is a sample run of <code>calc.y</code>:

<br></p><pre>$ <kbd>calc</kbd>
<kbd>4 + 4.5 - (34/(8*3+-3))</kbd>
6.880952381
<kbd>-56 + 2</kbd>
-54
<kbd>3 ^ 2</kbd>
9
</pre>

<p></p><hr>
Node:<a name="Simple%20Error%20Recovery">Simple Error Recovery</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<br>

<h3>Simple Error Recovery</h3>

<p>Up to this point, this manual has not addressed the issue of <dfn>error
recovery</dfn>--how to continue parsing after the parser detects a syntax
error.  All we have handled is error reporting with <code>yyerror</code>. 
Recall that by default <code>yyparse</code> returns after calling
<code>yyerror</code>.  This means that an erroneous input line causes the
calculator program to exit.  Now we show how to rectify this deficiency.

</p><p>The Bison language itself includes the reserved word <code>error</code>, which
may be included in the grammar rules.  In the example below it has
been added to one of the alternatives for <code>line</code>:

<br></p><pre>line:     '\n'
        | exp '\n'   { printf ("\t%.10g\n", $1); }
        | error '\n' { yyerrok;                  }
;
</pre>

<p>This addition to the grammar allows for simple error recovery in the
event of a parse error.  If an expression that cannot be evaluated is
read, the error will be recognized by the third rule for <code>line</code>,
and parsing will continue.  (The <code>yyerror</code> function is still called
upon to print its message as well.)  The action executes the statement
<code>yyerrok</code>, a macro defined automatically by Bison; its meaning is
that error recovery is complete (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>).  Note the
difference between <code>yyerrok</code> and <code>yyerror</code>; neither one is a
misprint.

</p><p>This form of error recovery deals with syntax errors.  There are other
kinds of errors; for example, division by zero, which raises an exception
signal that is normally fatal.  A real calculator program must handle this
signal and use <code>longjmp</code> to return to <code>main</code> and resume parsing
input lines; it would also have to discard the rest of the current line of
input.  We won't discuss this issue further because it is not specific to
Bison programs.

</p><p></p><hr>
Node:<a name="Location%20Tracking%20Calc">Location Tracking Calc</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Simple%20Error%20Recovery">Simple Error Recovery</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<br>

<h3>Location Tracking Calculator: <code>ltcalc</code></h3>

<p>This example extends the infix notation calculator with location
tracking.  This feature will be used to improve the error messages.  For
the sake of clarity, this example is a simple integer calculator, since
most of the work needed to use locations will be done in the lexical
analyser.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Decls">Decls</a>:   Bison and C declarations for ltcalc. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Rules">Rules</a>:   Grammar rules for ltcalc, with explanations. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Lexer">Lexer</a>:   The lexical analyzer. 
</li></ul>

<p></p><hr>
Node:<a name="Ltcalc%20Decls">Ltcalc Decls</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Rules">Ltcalc Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>
<br>

<h4>Declarations for <code>ltcalc</code></h4>

<p>The C and Bison declarations for the location tracking calculator are
the same as the declarations for the infix notation calculator.

<br></p><pre>/* Location tracking calculator.  */

%{
#define YYSTYPE int
#include &lt;math.h&gt;
%}

/* Bison declarations.  */
%token NUM

%left '-' '+'
%left '*' '/'
%left NEG
%right '^'

%% /* Grammar follows */
</pre>

<p>Note there are no declarations specific to locations.  Defining a data
type for storing locations is not needed: we will use the type provided
by default (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Data Types of Locations</a>), which is a
four member structure with the following integer fields:
<code>first_line</code>, <code>first_column</code>, <code>last_line</code> and
<code>last_column</code>.

</p><p></p><hr>
Node:<a name="Ltcalc%20Rules">Ltcalc Rules</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Lexer">Ltcalc Lexer</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Decls">Ltcalc Decls</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>
<br>

<h4>Grammar Rules for <code>ltcalc</code></h4>

<p>Whether handling locations or not has no effect on the syntax of your
language.  Therefore, grammar rules for this example will be very close
to those of the previous example: we will only modify them to benefit
from the new information.

</p><p>Here, we will use locations to report divisions by zero, and locate the
wrong expressions or subexpressions.

<br></p><pre>input   : /* empty */
        | input line
;

line    : '\n'
        | exp '\n' { printf ("%d\n", $1); }
;

exp     : NUM           { $$ = $1; }
        | exp '+' exp   { $$ = $1 + $3; }
        | exp '-' exp   { $$ = $1 - $3; }
        | exp '*' exp   { $$ = $1 * $3; }
        | exp '/' exp
            {
              if ($3)
                $$ = $1 / $3;
              else
                {
                  $$ = 1;
                  fprintf (stderr, "%d.%d-%d.%d: division by zero",
                           @3.first_line, @3.first_column,
                           @3.last_line, @3.last_column);
                }
            }
        | '-' exp %preg NEG     { $$ = -$2; }
        | exp '^' exp           { $$ = pow ($1, $3); }
        | '(' exp ')'           { $$ = $2; }
</pre>

<p>This code shows how to reach locations inside of semantic actions, by
using the pseudo-variables <code>@<var>n</var></code> for rule components, and the
pseudo-variable <code>@$</code> for groupings.

</p><p>We don't need to assign a value to <code>@$</code>: the output parser does it
automatically.  By default, before executing the C code of each action,
<code>@$</code> is set to range from the beginning of <code>@1</code> to the end
of <code>@<var>n</var></code>, for a rule with <var>n</var> components.  This behavior
can be redefined (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Default%20Action">Default Action for Locations</a>), and for very specific rules, <code>@$</code> can be computed by
hand.

</p><p></p><hr>
Node:<a name="Ltcalc%20Lexer">Ltcalc Lexer</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Ltcalc%20Rules">Ltcalc Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>
<br>

<h4>The <code>ltcalc</code> Lexical Analyzer.</h4>

<p>Until now, we relied on Bison's defaults to enable location
tracking. The next step is to rewrite the lexical analyser, and make it
able to feed the parser with the token locations, as it already does for
semantic values.

</p><p>To this end, we must take into account every single character of the
input text, to avoid the computed locations of being fuzzy or wrong:

<br></p><pre>int
yylex (void)
{
  int c;

  /* skip white space */
  while ((c = getchar ()) == ' ' || c == '\t')
    ++yylloc.last_column;

  /* step */
  yylloc.first_line = yylloc.last_line;
  yylloc.first_column = yylloc.last_column;

  /* process numbers */
  if (isdigit (c))
    {
      yylval = c - '0';
      ++yylloc.last_column;
      while (isdigit (c = getchar ()))
        {
          ++yylloc.last_column;
          yylval = yylval * 10 + c - '0';
        }
      ungetc (c, stdin);
      return NUM;
    }

  /* return end-of-file */
  if (c == EOF)
    return 0;

  /* return single chars and update location */
  if (c == '\n')
    {
      ++yylloc.last_line;
      yylloc.last_column = 0;
    }
  else
    ++yylloc.last_column;
  return c;
}
</pre>

<p>Basically, the lexical analyzer performs the same processing as before:
it skips blanks and tabs, and reads numbers or single-character tokens. 
In addition, it updates <code>yylloc</code>, the global variable (of type
<code>YYLTYPE</code>) containing the token's location.

</p><p>Now, each time this function returns a token, the parser has its number
as well as its semantic value, and its location in the text. The last
needed change is to initialize <code>yylloc</code>, for example in the
controlling function:

<br></p><pre>int
main (void)
{
  yylloc.first_line = yylloc.last_line = 1;
  yylloc.first_column = yylloc.last_column = 0;
  return yyparse ();
}
</pre>

<p>Remember that computing locations is not a matter of syntax.  Every
character must be associated to a location update, whether it is in
valid input, in comments, in literal strings, and so on.

</p><p></p><hr>
Node:<a name="Multi-function%20Calc">Multi-function Calc</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Exercises">Exercises</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<br>

<h3>Multi-Function Calculator: <code>mfcalc</code></h3>

<p>Now that the basics of Bison have been discussed, it is time to move on to
a more advanced problem.  The above calculators provided only five
functions, <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> and <code>^</code>.  It would
be nice to have a calculator that provides other mathematical functions such
as <code>sin</code>, <code>cos</code>, etc.

</p><p>It is easy to add new operators to the infix calculator as long as they are
only single-character literals.  The lexical analyzer <code>yylex</code> passes
back all nonnumber characters as tokens, so new grammar rules suffice for
adding a new operator.  But we want something more flexible: built-in
functions whose syntax has this form:

<br></p><pre><var>function_name</var> (<var>argument</var>)
</pre>

<p>At the same time, we will add memory to the calculator, by allowing you
to create named variables, store values in them, and use them later. 
Here is a sample session with the multi-function calculator:

<br></p><pre>$ <kbd>mfcalc</kbd>
<kbd>pi = 3.141592653589</kbd>
3.1415926536
<kbd>sin(pi)</kbd>
0.0000000000
<kbd>alpha = beta1 = 2.3</kbd>
2.3000000000
<kbd>alpha</kbd>
2.3000000000
<kbd>ln(alpha)</kbd>
0.8329091229
<kbd>exp(ln(beta1))</kbd>
2.3000000000
$
</pre>

<p>Note that multiple assignment and nested function calls are permitted.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Decl">Decl</a>:       Bison declarations for multi-function calculator. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Rules">Rules</a>:     Grammar rules for the calculator. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Symtab">Symtab</a>:   Symbol table management subroutines. 
</li></ul>

<p></p><hr>
Node:<a name="Mfcalc%20Decl">Mfcalc Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Rules">Mfcalc Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>
<br>

<h4>Declarations for <code>mfcalc</code></h4>

<p>Here are the C and Bison declarations for the multi-function calculator.

<br></p><pre>%{
#include &lt;math.h&gt;  /* For math functions, cos(), sin(), etc. */
#include "calc.h"  /* Contains definition of `symrec'        */
%}
%union {
double     val;  /* For returning numbers.                   */
symrec  *tptr;   /* For returning symbol-table pointers      */
}

%token &lt;val&gt;  NUM        /* Simple double precision number   */
%token &lt;tptr&gt; VAR FNCT   /* Variable and Function            */
%type  &lt;val&gt;  exp

%right '='
%left '-' '+'
%left '*' '/'
%left NEG     /* Negation--unary minus */
%right '^'    /* Exponentiation        */

/* Grammar follows */

%%
</pre>

<p>The above grammar introduces only two new features of the Bison language. 
These features allow semantic values to have various data types
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">More Than One Value Type</a>).

</p><p>The <code>%union</code> declaration specifies the entire list of possible types;
this is instead of defining <code>YYSTYPE</code>.  The allowable types are now
double-floats (for <code>exp</code> and <code>NUM</code>) and pointers to entries in
the symbol table.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>.

</p><p>Since values can now have various types, it is necessary to associate a
type with each grammar symbol whose semantic value is used.  These symbols
are <code>NUM</code>, <code>VAR</code>, <code>FNCT</code>, and <code>exp</code>.  Their
declarations are augmented with information about their data type (placed
between angle brackets).

</p><p>The Bison construct <code>%type</code> is used for declaring nonterminal symbols,
just as <code>%token</code> is used for declaring token types.  We have not used
<code>%type</code> before because nonterminal symbols are normally declared
implicitly by the rules that define them.  But <code>exp</code> must be declared
explicitly so we can specify its value type.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Nonterminal Symbols</a>.

</p><p></p><hr>
Node:<a name="Mfcalc%20Rules">Mfcalc Rules</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Symtab">Mfcalc Symtab</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Decl">Mfcalc Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>
<br>

<h4>Grammar Rules for <code>mfcalc</code></h4>

<p>Here are the grammar rules for the multi-function calculator. 
Most of them are copied directly from <code>calc</code>; three rules,
those which mention <code>VAR</code> or <code>FNCT</code>, are new.

<br></p><pre>input:   /* empty */
        | input line
;

line:
          '\n'
        | exp '\n'   { printf ("\t%.10g\n", $1); }
        | error '\n' { yyerrok;                  }
;

exp:      NUM                { $$ = $1;                         }
        | VAR                { $$ = $1-&gt;value.var;              }
        | VAR '=' exp        { $$ = $3; $1-&gt;value.var = $3;     }
        | FNCT '(' exp ')'   { $$ = (*($1-&gt;value.fnctptr))($3); }
        | exp '+' exp        { $$ = $1 + $3;                    }
        | exp '-' exp        { $$ = $1 - $3;                    }
        | exp '*' exp        { $$ = $1 * $3;                    }
        | exp '/' exp        { $$ = $1 / $3;                    }
        | '-' exp  %prec NEG { $$ = -$2;                        }
        | exp '^' exp        { $$ = pow ($1, $3);               }
        | '(' exp ')'        { $$ = $2;                         }
;
/* End of grammar */
%%
</pre>

<p></p><hr>
Node:<a name="Mfcalc%20Symtab">Mfcalc Symtab</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Rules">Mfcalc Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>
<br>

<h4>The <code>mfcalc</code> Symbol Table</h4>

<p>The multi-function calculator requires a symbol table to keep track of the
names and meanings of variables and functions.  This doesn't affect the
grammar rules (except for the actions) or the Bison declarations, but it
requires some additional C functions for support.

</p><p>The symbol table itself consists of a linked list of records.  Its
definition, which is kept in the header <code>calc.h</code>, is as follows.  It
provides for either functions or variables to be placed in the table.

<br></p><pre>/* Fonctions type.                                   */
typedef double (*func_t) (double);

/* Data type for links in the chain of symbols.      */
struct symrec
{
  char *name;  /* name of symbol                     */
  int type;    /* type of symbol: either VAR or FNCT */
  union
  {
    double var;                  /* value of a VAR   */
    func_t fnctptr;              /* value of a FNCT  */
  } value;
  struct symrec *next;    /* link field              */
};

typedef struct symrec symrec;

/* The symbol table: a chain of `struct symrec'.     */
extern symrec *sym_table;

symrec *putsym (const char *, func_t);
symrec *getsym (const char *);
</pre>

<p>The new version of <code>main</code> includes a call to <code>init_table</code>, a
function that initializes the symbol table.  Here it is, and
<code>init_table</code> as well:

<br></p><pre>#include &lt;stdio.h&gt;

int
main (void)
{
  init_table ();
  return yyparse ();
}

void
yyerror (const char *s)  /* Called by yyparse on error */
{
  printf ("%s\n", s);
}

struct init
{
  char *fname;
  double (*fnct)(double);
};

struct init arith_fncts[] =
{
  "sin",  sin,
  "cos",  cos,
  "atan", atan,
  "ln",   log,
  "exp",  exp,
  "sqrt", sqrt,
  0, 0
};

/* The symbol table: a chain of `struct symrec'.  */
symrec *sym_table = (symrec *) 0;

/* Put arithmetic functions in table. */
void
init_table (void)
{
  int i;
  symrec *ptr;
  for (i = 0; arith_fncts[i].fname != 0; i++)
    {
      ptr = putsym (arith_fncts[i].fname, FNCT);
      ptr-&gt;value.fnctptr = arith_fncts[i].fnct;
    }
}
</pre>

<p>By simply editing the initialization list and adding the necessary include
files, you can add additional functions to the calculator.

</p><p>Two important functions allow look-up and installation of symbols in the
symbol table.  The function <code>putsym</code> is passed a name and the type
(<code>VAR</code> or <code>FNCT</code>) of the object to be installed.  The object is
linked to the front of the list, and a pointer to the object is returned. 
The function <code>getsym</code> is passed the name of the symbol to look up.  If
found, a pointer to that symbol is returned; otherwise zero is returned.

<br></p><pre>symrec *
putsym (char *sym_name, int sym_type)
{
  symrec *ptr;
  ptr = (symrec *) malloc (sizeof (symrec));
  ptr-&gt;name = (char *) malloc (strlen (sym_name) + 1);
  strcpy (ptr-&gt;name,sym_name);
  ptr-&gt;type = sym_type;
  ptr-&gt;value.var = 0; /* set value to 0 even if fctn.  */
  ptr-&gt;next = (struct symrec *)sym_table;
  sym_table = ptr;
  return ptr;
}

symrec *
getsym (const char *sym_name)
{
  symrec *ptr;
  for (ptr = sym_table; ptr != (symrec *) 0;
       ptr = (symrec *)ptr-&gt;next)
    if (strcmp (ptr-&gt;name,sym_name) == 0)
      return ptr;
  return 0;
}
</pre>

<p>The function <code>yylex</code> must now recognize variables, numeric values, and
the single-character arithmetic operators.  Strings of alphanumeric
characters with a leading non-digit are recognized as either variables or
functions depending on what the symbol table says about them.

</p><p>The string is passed to <code>getsym</code> for look up in the symbol table.  If
the name appears in the table, a pointer to its location and its type
(<code>VAR</code> or <code>FNCT</code>) is returned to <code>yyparse</code>.  If it is not
already in the table, then it is installed as a <code>VAR</code> using
<code>putsym</code>.  Again, a pointer and its type (which must be <code>VAR</code>) is
returned to <code>yyparse</code>.

</p><p>No change is needed in the handling of numeric values and arithmetic
operators in <code>yylex</code>.

<br></p><pre>#include &lt;ctype.h&gt;

int
yylex (void)
{
  int c;

  /* Ignore whitespace, get first nonwhite character.  */
  while ((c = getchar ()) == ' ' || c == '\t');

  if (c == EOF)
    return 0;

  /* Char starts a number =&gt; parse the number.         */
  if (c == '.' || isdigit (c))
    {
      ungetc (c, stdin);
      scanf ("%lf", &amp;yylval.val);
      return NUM;
    }

  /* Char starts an identifier =&gt; read the name.       */
  if (isalpha (c))
    {
      symrec *s;
      static char *symbuf = 0;
      static int length = 0;
      int i;

      /* Initially make the buffer long enough
         for a 40-character symbol name.  */
      if (length == 0)
        length = 40, symbuf = (char *)malloc (length + 1);

      i = 0;
      do
        {
          /* If buffer is full, make it bigger.        */
          if (i == length)
            {
              length *= 2;
              symbuf = (char *)realloc (symbuf, length + 1);
            }
          /* Add this character to the buffer.         */
          symbuf[i++] = c;
          /* Get another character.                    */
          c = getchar ();
        }
      while (c != EOF &amp;&amp; isalnum (c));

      ungetc (c, stdin);
      symbuf[i] = '\0';

      s = getsym (symbuf);
      if (s == 0)
        s = putsym (symbuf, VAR);
      yylval.tptr = s;
      return s-&gt;type;
    }

  /* Any other character is a token by itself.        */
  return c;
}
</pre>

<p>This program is both powerful and flexible. You may easily add new
functions, and it is a simple job to modify this code to install predefined
variables such as <code>pi</code> or <code>e</code> as well.

</p><p></p><hr>
Node:<a name="Exercises">Exercises</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
<br>

<h3>Exercises</h3>

<ol type="1" start="1">
<p></p><li>Add some new functions from <code>math.h</code> to the initialization list.

</li><li>Add another array that contains constants and their values.  Then
modify <code>init_table</code> to add these constants to the symbol table. 
It will be easiest to give the constants type <code>VAR</code>.

</li><li>Make the program report an error if the user refers to an
uninitialized variable in any way except to store a value in it.
</li></ol>

<p></p><hr>
Node:<a name="Grammar%20File">Grammar File</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Bison Grammar Files</h2>

<p>Bison takes as input a context-free grammar specification and produces a
C-language function that recognizes correct instances of the grammar.

</p><p>The Bison grammar input file conventionally has a name ending in <code>.y</code>. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>:    Overall layout of the grammar file. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>:            Terminal and nonterminal symbols. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>:              How to write grammar rules. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>:          Writing recursive rules. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>:          Semantic values and actions. 
</li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>:          Locations and actions. 
</li><li><a accesskey="7" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>:       All kinds of Bison declarations are described here. 
</li><li><a accesskey="8" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Parsers">Multiple Parsers</a>:   Putting more than one Bison parser in one program. 
</li></ul>

<p></p><hr>
Node:<a name="Grammar%20Outline">Grammar Outline</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Outline of a Bison Grammar</h3>

<p>A Bison grammar file has four main sections, shown here with the
appropriate delimiters:

<br></p><pre>%{
<var>C declarations</var>
%}

<var>Bison declarations</var>

%%
<var>Grammar rules</var>
%%

<var>Additional C code</var>
</pre>

<p>Comments enclosed in <code>/* <small>...</small> */</code> may appear in any of the sections.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">C Declarations</a>:     Syntax and usage of the C declarations section. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">Bison Declarations</a>:   Syntax and usage of the Bison declarations section. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">Grammar Rules</a>:      Syntax and usage of the grammar rules section. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Code">C Code</a>:             Syntax and usage of the additional C code section. 
</li></ul>

<p></p><hr>
Node:<a name="C%20Declarations">C Declarations</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">Bison Declarations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>
<br>

<h4>The C Declarations Section</h4>

<p>The <var>C declarations</var> section contains macro definitions and
declarations of functions and variables that are used in the actions in the
grammar rules.  These are copied to the beginning of the parser file so
that they precede the definition of <code>yyparse</code>.  You can use
<code>#include</code> to get the declarations from a header file.  If you don't
need any C declarations, you may omit the <code>%{</code> and <code>%}</code>
delimiters that bracket this section.

</p><p></p><hr>
Node:<a name="Bison%20Declarations">Bison Declarations</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">Grammar Rules</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">C Declarations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>
<br>

<h4>The Bison Declarations Section</h4>

<p>The <var>Bison declarations</var> section contains declarations that define
terminal and nonterminal symbols, specify precedence, and so on. 
In some simple grammars you may not need any declarations. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Bison Declarations</a>.

</p><p></p><hr>
Node:<a name="Grammar%20Rules">Grammar Rules</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Code">C Code</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">Bison Declarations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>
<br>

<h4>The Grammar Rules Section</h4>

<p>The <dfn>grammar rules</dfn> section contains one or more Bison grammar
rules, and nothing else.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Syntax of Grammar Rules</a>.

</p><p>There must always be at least one grammar rule, and the first
<code>%%</code> (which precedes the grammar rules) may never be omitted even
if it is the first thing in the file.

</p><p></p><hr>
Node:<a name="C%20Code">C Code</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">Grammar Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>
<br>

<h4>The Additional C Code Section</h4>

<p>The <var>additional C code</var> section is copied verbatim to the end of the
parser file, just as the <var>C declarations</var> section is copied to the
beginning.  This is the most convenient place to put anything that you
want to have in the parser file but which need not come before the
definition of <code>yyparse</code>.  For example, the definitions of
<code>yylex</code> and <code>yyerror</code> often go here.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Parser C-Language Interface</a>.

</p><p>If the last section is empty, you may omit the <code>%%</code> that separates it
from the grammar rules.

</p><p>The Bison parser itself contains many static variables whose names start
with <code>yy</code> and many macros whose names start with <code>YY</code>.  It is a
good idea to avoid using any such names (except those documented in this
manual) in the additional C code section of the grammar file.

</p><p></p><hr>
Node:<a name="Symbols">Symbols</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Grammar Outline</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Symbols, Terminal and Nonterminal</h3>

<p><dfn>Symbols</dfn> in Bison grammars represent the grammatical classifications
of the language.

</p><p>A <dfn>terminal symbol</dfn> (also known as a <dfn>token type</dfn>) represents a
class of syntactically equivalent tokens.  You use the symbol in grammar
rules to mean that a token in that class is allowed.  The symbol is
represented in the Bison parser by a numeric code, and the <code>yylex</code>
function returns a token type code to indicate what kind of token has been
read.  You don't need to know what the code value is; you can use the
symbol to stand for it.

</p><p>A <dfn>nonterminal symbol</dfn> stands for a class of syntactically equivalent
groupings.  The symbol name is used in writing grammar rules.  By convention,
it should be all lower case.

</p><p>Symbol names can contain letters, digits (not at the beginning),
underscores and periods.  Periods make sense only in nonterminals.

</p><p>There are three ways of writing terminal symbols in the grammar:

</p><ul>
<li>A <dfn>named token type</dfn> is written with an identifier, like an
identifier in C.  By convention, it should be all upper case.  Each
such name must be defined with a Bison declaration such as
<code>%token</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Type Names</a>.

</li><li>A <dfn>character token type</dfn> (or <dfn>literal character token</dfn>) is
written in the grammar using the same syntax used in C for character
constants; for example, <code>'+'</code> is a character token type.  A
character token type doesn't need to be declared unless you need to
specify its semantic value data type (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Data Types of Semantic Values</a>), associativity, or precedence (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Operator Precedence</a>).

<p>By convention, a character token type is used only to represent a
token that consists of that particular character.  Thus, the token
type <code>'+'</code> is used to represent the character <code>+</code> as a
token.  Nothing enforces this convention, but if you depart from it,
your program will confuse other readers.

</p><p>All the usual escape sequences used in character literals in C can be
used in Bison as well, but you must not use the null character as a
character literal because its ASCII code, zero, is the code <code>yylex</code>
returns for end-of-input (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention for <code>yylex</code></a>).

</p></li><li>A <dfn>literal string token</dfn> is written like a C string constant; for
example, <code>"&lt;="</code> is a literal string token.  A literal string token
doesn't need to be declared unless you need to specify its semantic
value data type (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>), associativity, or precedence
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>).

<p>You can associate the literal string token with a symbolic name as an
alias, using the <code>%token</code> declaration (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Declarations</a>).  If you don't do that, the lexical analyzer has to
retrieve the token number for the literal string token from the
<code>yytname</code> table (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention</a>).

</p><p><strong>WARNING</strong>: literal string tokens do not work in Yacc.

</p><p>By convention, a literal string token is used only to represent a token
that consists of that particular string.  Thus, you should use the token
type <code>"&lt;="</code> to represent the string <code>&lt;=</code> as a token.  Bison
does not enforce this convention, but if you depart from it, people who
read your program will be confused.

</p><p>All the escape sequences used in string literals in C can be used in
Bison as well.  A literal string token must contain two or more
characters; for a token containing just one character, use a character
token (see above). 
</p></li></ul>

<p>How you choose to write a terminal symbol has no effect on its
grammatical meaning.  That depends only on where it appears in rules and
on when the parser function returns that symbol.

</p><p>The value returned by <code>yylex</code> is always one of the terminal symbols
(or 0 for end-of-input).  Whichever way you write the token type in the
grammar rules, you write it the same way in the definition of <code>yylex</code>. 
The numeric code for a character token type is simply the ASCII code for
the character, so <code>yylex</code> can use the identical character constant to
generate the requisite code.  Each named token type becomes a C macro in
the parser file, so <code>yylex</code> can use the name to stand for the code. 
(This is why periods don't make sense in terminal symbols.) 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention for <code>yylex</code></a>.

</p><p>If <code>yylex</code> is defined in a separate file, you need to arrange for the
token-type macro definitions to be available there.  Use the <code>-d</code>
option when you run Bison, so that it will write these macro definitions
into a separate header file <code><var>name</var>.tab.h</code> which you can include
in the other source files that need it.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>.

</p><p>The symbol <code>error</code> is a terminal symbol reserved for error recovery
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>); you shouldn't use it for any other purpose. 
In particular, <code>yylex</code> should never return this value.

</p><p></p><hr>
Node:<a name="Rules">Rules</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Syntax of Grammar Rules</h3>

<p>A Bison grammar rule has the following general form:

<br></p><pre><var>result</var>: <var>components</var><small>...</small>
        ;
</pre>

<p>where <var>result</var> is the nonterminal symbol that this rule describes,
and <var>components</var> are various terminal and nonterminal symbols that
are put together by this rule (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>).

</p><p>For example,

<br></p><pre>exp:      exp '+' exp
        ;
</pre>

<p>says that two groupings of type <code>exp</code>, with a <code>+</code> token in between,
can be combined into a larger grouping of type <code>exp</code>.

</p><p>Whitespace in rules is significant only to separate symbols.  You can add
extra whitespace as you wish.

</p><p>Scattered among the components can be <var>actions</var> that determine
the semantics of the rule.  An action looks like this:

<br></p><pre>{<var>C statements</var>}
</pre>

<p>Usually there is only one action and it follows the components. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>.

</p><p>Multiple rules for the same <var>result</var> can be written separately or can
be joined with the vertical-bar character <code>|</code> as follows:

</p><p>They are still considered distinct rules even when joined in this way.

</p><p>If <var>components</var> in a rule is empty, it means that <var>result</var> can
match the empty string.  For example, here is how to define a
comma-separated sequence of zero or more <code>exp</code> groupings:

<br></p><pre>expseq:   /* empty */
        | expseq1
        ;

expseq1:  exp
        | expseq1 ',' exp
        ;
</pre>

<p>It is customary to write a comment <code>/* empty */</code> in each rule
with no components.

</p><p></p><hr>
Node:<a name="Recursion">Recursion</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Recursive Rules</h3>

<p>A rule is called <dfn>recursive</dfn> when its <var>result</var> nonterminal appears
also on its right hand side.  Nearly all Bison grammars need to use
recursion, because that is the only way to define a sequence of any number
of a particular thing.  Consider this recursive definition of a
comma-separated sequence of one or more expressions:

<br></p><pre>expseq1:  exp
        | expseq1 ',' exp
        ;
</pre>

<p>Since the recursive use of <code>expseq1</code> is the leftmost symbol in the
right hand side, we call this <dfn>left recursion</dfn>.  By contrast, here
the same construct is defined using <dfn>right recursion</dfn>:

<br></p><pre>expseq1:  exp
        | exp ',' expseq1
        ;
</pre>

<p>Any kind of sequence can be defined using either left recursion or
right recursion, but you should always use left recursion, because it
can parse a sequence of any number of elements with bounded stack
space.  Right recursion uses up space on the Bison stack in proportion
to the number of elements in the sequence, because all the elements
must be shifted onto the stack before the rule can be applied even
once.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">The Bison Parser Algorithm</a>, for
further explanation of this.

</p><p><dfn>Indirect</dfn> or <dfn>mutual</dfn> recursion occurs when the result of the
rule does not appear directly on its right hand side, but does appear
in rules for other nonterminals which do appear on its right hand
side.

</p><p>For example:

<br></p><pre>expr:     primary
        | primary '+' primary
        ;

primary:  constant
        | '(' expr ')'
        ;
</pre>

<p>defines two mutually-recursive nonterminals, since each refers to the
other.

</p><p></p><hr>
Node:<a name="Semantics">Semantics</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Defining Language Semantics</h3>

<p>The grammar rules for a language determine only the syntax.  The semantics
are determined by the semantic values associated with various tokens and
groupings, and by the actions taken when various groupings are recognized.

</p><p>For example, the calculator calculates properly because the value
associated with each expression is the proper number; it adds properly
because the action for the grouping <code><var>x</var>&nbsp;+&nbsp;<var>y</var></code> is to add
the numbers associated with <var>x</var> and <var>y</var>.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>:         Specifying one data type for all semantic values. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">Multiple Types</a>:     Specifying several alternative data types. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>:            An action is the semantic definition of a grammar rule. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Action Types</a>:       Specifying data types for actions to operate on. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Mid-Rule Actions</a>:   Most actions go at the end of a rule. 
                      This says when, why and how to use the exceptional
                        action in the middle of a rule. 
</li></ul>

<p></p><hr>
Node:<a name="Value%20Type">Value Type</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">Multiple Types</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
<br>

<h4>Data Types of Semantic Values</h4>

<p>In a simple program it may be sufficient to use the same data type for
the semantic values of all language constructs.  This was true in the
RPN and infix calculator examples (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">Reverse Polish Notation Calculator</a>).

</p><p>Bison's default is to use type <code>int</code> for all semantic values.  To
specify some other type, define <code>YYSTYPE</code> as a macro, like this:

<br></p><pre>#define YYSTYPE double
</pre>

<p>This macro definition must go in the C declarations section of the grammar
file (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Outline of a Bison Grammar</a>).

</p><p></p><hr>
Node:<a name="Multiple%20Types">Multiple Types</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
<br>

<h4>More Than One Value Type</h4>

<p>In most programs, you will need different data types for different kinds
of tokens and groupings.  For example, a numeric constant may need type
<code>int</code> or <code>long</code>, while a string constant needs type <code>char *</code>,
and an identifier might need a pointer to an entry in the symbol table.

</p><p>To use more than one data type for semantic values in one parser, Bison
requires you to do two things:

</p><ul>
<li>Specify the entire collection of possible data types, with the
<code>%union</code> Bison declaration (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>).

</li><li>Choose one of those types for each symbol (terminal or nonterminal) for
which semantic values are used.  This is done for tokens with the
<code>%token</code> Bison declaration (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Type Names</a>)
and for groupings with the <code>%type</code> Bison declaration (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Nonterminal Symbols</a>). 
</li></ul>

<p></p><hr>
Node:<a name="Actions">Actions</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Action Types</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">Multiple Types</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
<br>

<h4>Actions</h4>

<p>An action accompanies a syntactic rule and contains C code to be executed
each time an instance of that rule is recognized.  The task of most actions
is to compute a semantic value for the grouping built by the rule from the
semantic values associated with tokens or smaller groupings.

</p><p>An action consists of C statements surrounded by braces, much like a
compound statement in C.  It can be placed at any position in the rule; it
is executed at that position.  Most rules have just one action at the end
of the rule, following all the components.  Actions in the middle of a rule
are tricky and used only for special purposes (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Actions in Mid-Rule</a>).

</p><p>The C code in an action can refer to the semantic values of the components
matched by the rule with the construct <code>$<var>n</var></code>, which stands for
the value of the <var>n</var>th component.  The semantic value for the grouping
being constructed is <code>$$</code>.  (Bison translates both of these constructs
into array element references when it copies the actions into the parser
file.)

</p><p>Here is a typical example:

<br></p><pre>exp:    <small>...</small>
        | exp '+' exp
            { $$ = $1 + $3; }
</pre>

<p>This rule constructs an <code>exp</code> from two smaller <code>exp</code> groupings
connected by a plus-sign token.  In the action, <code>$1</code> and <code>$3</code>
refer to the semantic values of the two component <code>exp</code> groupings,
which are the first and third symbols on the right hand side of the rule. 
The sum is stored into <code>$$</code> so that it becomes the semantic value of
the addition-expression just recognized by the rule.  If there were a
useful semantic value associated with the <code>+</code> token, it could be
referred to as <code>$2</code>.

</p><p>If you don't specify an action for a rule, Bison supplies a default:
<code>$$&nbsp;=&nbsp;$1</code>.  Thus, the value of the first symbol in the rule becomes
the value of the whole rule.  Of course, the default rule is valid only
if the two data types match.  There is no meaningful default action for
an empty rule; every empty rule must have an explicit action unless the
rule's value does not matter.

</p><p><code>$<var>n</var></code> with <var>n</var> zero or negative is allowed for reference
to tokens and groupings on the stack <em>before</em> those that match the
current rule.  This is a very risky practice, and to use it reliably
you must be certain of the context in which the rule is applied.  Here
is a case in which you can use this reliably:

<br></p><pre>foo:      expr bar '+' expr  { <small>...</small> }
        | expr bar '-' expr  { <small>...</small> }
        ;

bar:      /* empty */
        { previous_expr = $0; }
        ;
</pre>

<p>As long as <code>bar</code> is used only in the fashion shown here, <code>$0</code>
always refers to the <code>expr</code> which precedes <code>bar</code> in the
definition of <code>foo</code>.

</p><p></p><hr>
Node:<a name="Action%20Types">Action Types</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Mid-Rule Actions</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
<br>

<h4>Data Types of Values in Actions</h4>

<p>If you have chosen a single data type for semantic values, the <code>$$</code>
and <code>$<var>n</var></code> constructs always have that data type.

</p><p>If you have used <code>%union</code> to specify a variety of data types, then you
must declare a choice among these types for each terminal or nonterminal
symbol that can have a semantic value.  Then each time you use <code>$$</code> or
<code>$<var>n</var></code>, its data type is determined by which symbol it refers to
in the rule.  In this example,

<br></p><pre>exp:    <small>...</small>
        | exp '+' exp
            { $$ = $1 + $3; }
</pre>

<p><code>$1</code> and <code>$3</code> refer to instances of <code>exp</code>, so they all
have the data type declared for the nonterminal symbol <code>exp</code>.  If
<code>$2</code> were used, it would have the data type declared for the
terminal symbol <code>'+'</code>, whatever that might be.

</p><p>Alternatively, you can specify the data type when you refer to the value,
by inserting <code>&lt;<var>type</var>&gt;</code> after the <code>$</code> at the beginning of the
reference.  For example, if you have defined types as shown here:

<br></p><pre>%union {
  int itype;
  double dtype;
}
</pre>

<p>then you can write <code>$&lt;itype&gt;1</code> to refer to the first subunit of the
rule as an integer, or <code>$&lt;dtype&gt;1</code> to refer to it as a double.

</p><p></p><hr>
Node:<a name="Mid-Rule%20Actions">Mid-Rule Actions</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Action Types</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
<br>

<h4>Actions in Mid-Rule</h4>

<p>Occasionally it is useful to put an action in the middle of a rule. 
These actions are written just like usual end-of-rule actions, but they
are executed before the parser even recognizes the following components.

</p><p>A mid-rule action may refer to the components preceding it using
<code>$<var>n</var></code>, but it may not refer to subsequent components because
it is run before they are parsed.

</p><p>The mid-rule action itself counts as one of the components of the rule. 
This makes a difference when there is another action later in the same rule
(and usually there is another at the end): you have to count the actions
along with the symbols when working out which number <var>n</var> to use in
<code>$<var>n</var></code>.

</p><p>The mid-rule action can also have a semantic value.  The action can set
its value with an assignment to <code>$$</code>, and actions later in the rule
can refer to the value using <code>$<var>n</var></code>.  Since there is no symbol
to name the action, there is no way to declare a data type for the value
in advance, so you must use the <code>$&lt;<small>...</small>&gt;<var>n</var></code> construct to
specify a data type each time you refer to this value.

</p><p>There is no way to set the value of the entire rule with a mid-rule
action, because assignments to <code>$$</code> do not have that effect.  The
only way to set the value for the entire rule is with an ordinary action
at the end of the rule.

</p><p>Here is an example from a hypothetical compiler, handling a <code>let</code>
statement that looks like <code>let (<var>variable</var>) <var>statement</var></code> and
serves to create a variable named <var>variable</var> temporarily for the
duration of <var>statement</var>.  To parse this construct, we must put
<var>variable</var> into the symbol table while <var>statement</var> is parsed, then
remove it afterward.  Here is how it is done:

<br></p><pre>stmt:   LET '(' var ')'
                { $&lt;context&gt;$ = push_context ();
                  declare_variable ($3); }
        stmt    { $$ = $6;
                  pop_context ($&lt;context&gt;5); }
</pre>

<p>As soon as <code>let (<var>variable</var>)</code> has been recognized, the first
action is run.  It saves a copy of the current semantic context (the
list of accessible variables) as its semantic value, using alternative
<code>context</code> in the data-type union.  Then it calls
<code>declare_variable</code> to add the new variable to that list.  Once the
first action is finished, the embedded statement <code>stmt</code> can be
parsed.  Note that the mid-rule action is component number 5, so the
<code>stmt</code> is component number 6.

</p><p>After the embedded statement is parsed, its semantic value becomes the
value of the entire <code>let</code>-statement.  Then the semantic value from the
earlier action is used to restore the prior list of variables.  This
removes the temporary <code>let</code>-variable from the list so that it won't
appear to exist while the rest of the program is parsed.

</p><p>Taking action before a rule is completely recognized often leads to
conflicts since the parser must commit to a parse in order to execute the
action.  For example, the following two rules, without mid-rule actions,
can coexist in a working parser because the parser can shift the open-brace
token and look at what follows before deciding whether there is a
declaration or not:

<br></p><pre>compound: '{' declarations statements '}'
        | '{' statements '}'
        ;
</pre>

<p>But when we add a mid-rule action as follows, the rules become nonfunctional:

<br></p><pre>compound: { prepare_for_local_variables (); }
          '{' declarations statements '}'
        | '{' statements '}'
        ;
</pre>

<p>Now the parser is forced to decide whether to run the mid-rule action
when it has read no farther than the open-brace.  In other words, it
must commit to using one rule or the other, without sufficient
information to do it correctly.  (The open-brace token is what is called
the <dfn>look-ahead</dfn> token at this time, since the parser is still
deciding what to do about it.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead Tokens</a>.)

</p><p>You might think that you could correct the problem by putting identical
actions into the two rules, like this:

<br></p><pre>compound: { prepare_for_local_variables (); }
          '{' declarations statements '}'
        | { prepare_for_local_variables (); }
          '{' statements '}'
        ;
</pre>

<p>But this does not help, because Bison does not realize that the two actions
are identical.  (Bison never tries to understand the C code in an action.)

</p><p>If the grammar is such that a declaration can be distinguished from a
statement by the first token (which is true in C), then one solution which
does work is to put the action after the open-brace, like this:

<br></p><pre>compound: '{' { prepare_for_local_variables (); }
          declarations statements '}'
        | '{' statements '}'
        ;
</pre>

<p>Now the first token of the following declaration or statement,
which would in any case tell Bison which rule to use, can still do so.

</p><p>Another solution is to bury the action inside a nonterminal symbol which
serves as a subroutine:

<br></p><pre>subroutine: /* empty */
          { prepare_for_local_variables (); }
        ;

compound: subroutine
          '{' declarations statements '}'
        | subroutine
          '{' statements '}'
        ;
</pre>

<p>Now Bison can execute the action in the rule for <code>subroutine</code> without
deciding which rule for <code>compound</code> it will eventually use.  Note that
the action is now at the end of its rule.  Any mid-rule action can be
converted to an end-of-rule action in this way, and this is what Bison
actually does to implement mid-rule actions.

</p><p></p><hr>
Node:<a name="Locations">Locations</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Tracking Locations</h3>

<p>Though grammar rules and semantic actions are enough to write a fully
functional parser, it can be useful to process some additionnal informations,
especially symbol locations.

</p><p>The way locations are handled is defined by providing a data type, and actions
to take when rules are matched.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Location Type</a>:                Specifying a data type for locations. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions%20and%20Locations">Actions and Locations</a>:        Using locations in actions. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Default%20Action">Location Default Action</a>:      Defining a general way to compute locations. 
</li></ul>

<p></p><hr>
Node:<a name="Location%20Type">Location Type</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions%20and%20Locations">Actions and Locations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>
<br>

<h4>Data Type of Locations</h4>

<p>Defining a data type for locations is much simpler than for semantic values,
since all tokens and groupings always use the same type.

</p><p>The type of locations is specified by defining a macro called <code>YYLTYPE</code>. 
When <code>YYLTYPE</code> is not defined, Bison uses a default structure type with
four members:

<br></p><pre>struct
{
  int first_line;
  int first_column;
  int last_line;
  int last_column;
}
</pre>

<p></p><hr>
Node:<a name="Actions%20and%20Locations">Actions and Locations</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Default%20Action">Location Default Action</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Location Type</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>
<br>

<h4>Actions and Locations</h4>

<p>Actions are not only useful for defining language semantics, but also for
describing the behavior of the output parser with locations.

</p><p>The most obvious way for building locations of syntactic groupings is very
similar to the way semantic values are computed. In a given rule, several
constructs can be used to access the locations of the elements being matched. 
The location of the <var>n</var>th component of the right hand side is
<code>@<var>n</var></code>, while the location of the left hand side grouping is
<code>@$</code>.

</p><p>Here is a basic example using the default data type for locations:

<br></p><pre>exp:    <small>...</small>
        | exp '/' exp
            {
              @$.first_column = @1.first_column;
              @$.first_line = @1.first_line;
              @$.last_column = @3.last_column;
              @$.last_line = @3.last_line;
              if ($3)
                $$ = $1 / $3;
              else
                {
                  $$ = 1;
                  printf("Division by zero, l%d,c%d-l%d,c%d",
                         @3.first_line, @3.first_column,
                         @3.last_line, @3.last_column);
                }
            }
</pre>

<p>As for semantic values, there is a default action for locations that is
run each time a rule is matched. It sets the beginning of <code>@$</code> to the
beginning of the first symbol, and the end of <code>@$</code> to the end of the
last symbol.

</p><p>With this default action, the location tracking can be fully automatic. The
example above simply rewrites this way:

<br></p><pre>exp:    <small>...</small>
        | exp '/' exp
            {
              if ($3)
                $$ = $1 / $3;
              else
                {
                  $$ = 1;
                  printf("Division by zero, l%d,c%d-l%d,c%d",
                         @3.first_line, @3.first_column,
                         @3.last_line, @3.last_column);
                }
            }
</pre>

<p></p><hr>
Node:<a name="Location%20Default%20Action">Location Default Action</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions%20and%20Locations">Actions and Locations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>
<br>

<h4>Default Action for Locations</h4>

<p>Actually, actions are not the best place to compute locations. Since locations
are much more general than semantic values, there is room in the output parser
to redefine the default action to take for each rule. The
<code>YYLLOC_DEFAULT</code> macro is called each time a rule is matched, before the
associated action is run.

</p><p>Most of the time, this macro is general enough to suppress location
dedicated code from semantic actions.

</p><p>The <code>YYLLOC_DEFAULT</code> macro takes three parameters. The first one is
the location of the grouping (the result of the computation). The second one
is an array holding locations of all right hand side elements of the rule
being matched. The last one is the size of the right hand side rule.

</p><p>By default, it is defined this way:

<br></p><pre>#define YYLLOC_DEFAULT(Current, Rhs, N)         \
  Current.last_line   = Rhs[N].last_line;       \
  Current.last_column = Rhs[N].last_column;
</pre>

<p>When defining <code>YYLLOC_DEFAULT</code>, you should consider that:

</p><ul>
<li>All arguments are free of side-effects. However, only the first one (the
result) should be modified by <code>YYLLOC_DEFAULT</code>.

</li><li>Before <code>YYLLOC_DEFAULT</code> is executed, the output parser sets <code>@$</code>
to <code>@1</code>.

</li><li>For consistency with semantic actions, valid indexes for the location array
range from 1 to <var>n</var>. 
</li></ul>

<p></p><hr>
Node:<a name="Declarations">Declarations</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Parsers">Multiple Parsers</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Bison Declarations</h3>

<p>The <dfn>Bison declarations</dfn> section of a Bison grammar defines the symbols
used in formulating the grammar and the data types of semantic values. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>.

</p><p>All token type names (but not single-character literal tokens such as
<code>'+'</code> and <code>'*'</code>) must be declared.  Nonterminal symbols must be
declared if you need to specify which data type to use for the semantic
value (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">More Than One Value Type</a>).

</p><p>The first rule in the file also specifies the start symbol, by default. 
If you want some other symbol to be the start symbol, you must declare
it explicitly (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>).

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Decl</a>:         Declaring terminal symbols. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>:    Declaring terminals with precedence and associativity. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">Union Decl</a>:         Declaring the set of all semantic value types. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Type Decl</a>:          Declaring the choice of type for a nonterminal symbol. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>:        Suppressing warnings about shift/reduce conflicts. 
</li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>:         Specifying the start symbol. 
</li><li><a accesskey="7" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">Pure Decl</a>:          Requesting a reentrant parser. 
</li><li><a accesskey="8" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>:       Table of all Bison declarations. 
</li></ul>

<p></p><hr>
Node:<a name="Token%20Decl">Token Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>Token Type Names</h4>

<p>The basic way to declare a token type name (terminal symbol) is as follows:

<br></p><pre>%token <var>name</var>
</pre>

<p>Bison will convert this into a <code>#define</code> directive in
the parser, so that the function <code>yylex</code> (if it is in this file)
can use the name <var>name</var> to stand for this token type's code.

</p><p>Alternatively, you can use <code>%left</code>, <code>%right</code>, or
<code>%nonassoc</code> instead of <code>%token</code>, if you wish to specify
associativity and precedence.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>.

</p><p>You can explicitly specify the numeric code for a token type by appending
an integer value in the field immediately following the token name:

<br></p><pre>%token NUM 300
</pre>

<p>It is generally best, however, to let Bison choose the numeric codes for
all token types.  Bison will automatically select codes that don't conflict
with each other or with ASCII characters.

</p><p>In the event that the stack type is a union, you must augment the
<code>%token</code> or other token declaration to include the data type
alternative delimited by angle-brackets (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Types">More Than One Value Type</a>).

</p><p>For example:

<br></p><pre>%union {              /* define stack type */
  double val;
  symrec *tptr;
}
%token &lt;val&gt; NUM      /* define token NUM and its type */
</pre>

<p>You can associate a literal string token with a token type name by
writing the literal string at the end of a <code>%token</code>
declaration which declares the name.  For example:

<br></p><pre>%token arrow "=&gt;"
</pre>

<p>For example, a grammar for the C language might specify these names with
equivalent literal string tokens:

<br></p><pre>%token  &lt;operator&gt;  OR      "||"
%token  &lt;operator&gt;  LE 134  "&lt;="
%left  OR  "&lt;="
</pre>

<p>Once you equate the literal string and the token name, you can use them
interchangeably in further declarations or the grammar rules.  The
<code>yylex</code> function can use the token name or the literal string to
obtain the token type code number (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention</a>).

</p><p></p><hr>
Node:<a name="Precedence%20Decl">Precedence Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">Union Decl</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>Operator Precedence</h4>

<p>Use the <code>%left</code>, <code>%right</code> or <code>%nonassoc</code> declaration to
declare a token and specify its precedence and associativity, all at
once.  These are called <dfn>precedence declarations</dfn>. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Operator Precedence</a>, for general information on operator precedence.

</p><p>The syntax of a precedence declaration is the same as that of
<code>%token</code>: either

<br></p><pre>%left <var>symbols</var><small>...</small>
</pre>

<p>or

<br></p><pre>%left &lt;<var>type</var>&gt; <var>symbols</var><small>...</small>
</pre>

<p>And indeed any of these declarations serves the purposes of <code>%token</code>. 
But in addition, they specify the associativity and relative precedence for
all the <var>symbols</var>:

</p><ul>
<li>The associativity of an operator <var>op</var> determines how repeated uses
of the operator nest: whether <code><var>x</var> <var>op</var> <var>y</var> <var>op</var>
<var>z</var></code> is parsed by grouping <var>x</var> with <var>y</var> first or by
grouping <var>y</var> with <var>z</var> first.  <code>%left</code> specifies
left-associativity (grouping <var>x</var> with <var>y</var> first) and
<code>%right</code> specifies right-associativity (grouping <var>y</var> with
<var>z</var> first).  <code>%nonassoc</code> specifies no associativity, which
means that <code><var>x</var> <var>op</var> <var>y</var> <var>op</var> <var>z</var></code> is
considered a syntax error.

</li><li>The precedence of an operator determines how it nests with other operators. 
All the tokens declared in a single precedence declaration have equal
precedence and nest together according to their associativity. 
When two tokens declared in different precedence declarations associate,
the one declared later has the higher precedence and is grouped first. 
</li></ul>

<p></p><hr>
Node:<a name="Union%20Decl">Union Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Type Decl</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>The Collection of Value Types</h4>

<p>The <code>%union</code> declaration specifies the entire collection of possible
data types for semantic values.  The keyword <code>%union</code> is followed by a
pair of braces containing the same thing that goes inside a <code>union</code> in
C.

</p><p>For example:

<br></p><pre>%union {
  double val;
  symrec *tptr;
}
</pre>

<p>This says that the two alternative types are <code>double</code> and <code>symrec
*</code>.  They are given names <code>val</code> and <code>tptr</code>; these names are used
in the <code>%token</code> and <code>%type</code> declarations to pick one of the types
for a terminal or nonterminal symbol (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Nonterminal Symbols</a>).

</p><p>Note that, unlike making a <code>union</code> declaration in C, you do not write
a semicolon after the closing brace.

</p><p></p><hr>
Node:<a name="Type%20Decl">Type Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">Union Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>Nonterminal Symbols</h4>

<p>When you use <code>%union</code> to specify multiple value types, you must
declare the value type of each nonterminal symbol for which values are
used.  This is done with a <code>%type</code> declaration, like this:

<br></p><pre>%type &lt;<var>type</var>&gt; <var>nonterminal</var><small>...</small>
</pre>

<p>Here <var>nonterminal</var> is the name of a nonterminal symbol, and <var>type</var>
is the name given in the <code>%union</code> to the alternative that you want
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>).  You can give any number of nonterminal symbols in
the same <code>%type</code> declaration, if they have the same value type.  Use
spaces to separate the symbol names.

</p><p>You can also declare the value type of a terminal symbol.  To do this,
use the same <code>&lt;<var>type</var>&gt;</code> construction in a declaration for the
terminal symbol.  All kinds of token declarations allow
<code>&lt;<var>type</var>&gt;</code>.

</p><p></p><hr>
Node:<a name="Expect%20Decl">Expect Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Type Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>Suppressing Conflict Warnings</h4>

<p>Bison normally warns if there are any conflicts in the grammar
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce Conflicts</a>), but most real grammars
have harmless shift/reduce conflicts which are resolved in a predictable
way and would be difficult to eliminate.  It is desirable to suppress
the warning about these conflicts unless the number of conflicts
changes.  You can do this with the <code>%expect</code> declaration.

</p><p>The declaration looks like this:

<br></p><pre>%expect <var>n</var>
</pre>

<p>Here <var>n</var> is a decimal integer.  The declaration says there should be
no warning if there are <var>n</var> shift/reduce conflicts and no
reduce/reduce conflicts.  An error, instead of the usual warning, is
given if there are either more or fewer conflicts, or if there are any
reduce/reduce conflicts.

</p><p>In general, using <code>%expect</code> involves these steps:

</p><ul>
<li>Compile your grammar without <code>%expect</code>.  Use the <code>-v</code> option
to get a verbose list of where the conflicts occur.  Bison will also
print the number of conflicts.

</li><li>Check each of the conflicts to make sure that Bison's default
resolution is what you really want.  If not, rewrite the grammar and
go back to the beginning.

</li><li>Add an <code>%expect</code> declaration, copying the number <var>n</var> from the
number which Bison printed. 
</li></ul>

<p>Now Bison will stop annoying you about the conflicts you have checked, but
it will warn you again if changes in the grammar result in additional
conflicts.

</p><p></p><hr>
Node:<a name="Start%20Decl">Start Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">Pure Decl</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>The Start-Symbol</h4>

<p>Bison assumes by default that the start symbol for the grammar is the first
nonterminal specified in the grammar specification section.  The programmer
may override this restriction with the <code>%start</code> declaration as follows:

<br></p><pre>%start <var>symbol</var>
</pre>

<p></p><hr>
Node:<a name="Pure%20Decl">Pure Decl</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>A Pure (Reentrant) Parser</h4>

<p>A <dfn>reentrant</dfn> program is one which does not alter in the course of
execution; in other words, it consists entirely of <dfn>pure</dfn> (read-only)
code.  Reentrancy is important whenever asynchronous execution is possible;
for example, a non-reentrant program may not be safe to call from a signal
handler.  In systems with multiple threads of control, a non-reentrant
program must be called only within interlocks.

</p><p>Normally, Bison generates a parser which is not reentrant.  This is
suitable for most uses, and it permits compatibility with YACC.  (The
standard YACC interfaces are inherently nonreentrant, because they use
statically allocated variables for communication with <code>yylex</code>,
including <code>yylval</code> and <code>yylloc</code>.)

</p><p>Alternatively, you can generate a pure, reentrant parser.  The Bison
declaration <code>%pure_parser</code> says that you want the parser to be
reentrant.  It looks like this:

<br></p><pre>%pure_parser
</pre>

<p>The result is that the communication variables <code>yylval</code> and
<code>yylloc</code> become local variables in <code>yyparse</code>, and a different
calling convention is used for the lexical analyzer function
<code>yylex</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Calling Conventions for Pure Parsers</a>, for the details of this.  The variable <code>yynerrs</code> also
becomes local in <code>yyparse</code> (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">The Error Reporting Function <code>yyerror</code></a>).  The convention for calling
<code>yyparse</code> itself is unchanged.

</p><p>Whether the parser is pure has nothing to do with the grammar rules. 
You can generate either a pure parser or a nonreentrant parser from any
valid grammar.

</p><p></p><hr>
Node:<a name="Decl%20Summary">Decl Summary</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">Pure Decl</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
<br>

<h4>Bison Declaration Summary</h4>

<p>Here is a summary of the declarations used to define a grammar:

</p><dl>
<dt><code>%union</code>
</dt><dd>Declare the collection of data types that semantic values may have
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>).

<br></dd><dt><code>%token</code>
</dt><dd>Declare a terminal symbol (token type name) with no precedence
or associativity specified (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Type Names</a>).

<br></dd><dt><code>%right</code>
</dt><dd>Declare a terminal symbol (token type name) that is right-associative
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>).

<br></dd><dt><code>%left</code>
</dt><dd>Declare a terminal symbol (token type name) that is left-associative
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>).

<br></dd><dt><code>%nonassoc</code>
</dt><dd>Declare a terminal symbol (token type name) that is nonassociative
(using it in a way that would be associative is a syntax error)
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>).

<br></dd><dt><code>%type</code>
</dt><dd>Declare the type of semantic values for a nonterminal symbol
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Nonterminal Symbols</a>).

<br></dd><dt><code>%start</code>
</dt><dd>Specify the grammar's start symbol (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">The Start-Symbol</a>).

<br></dd><dt><code>%expect</code>
</dt><dd>Declare the expected number of shift-reduce conflicts
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Suppressing Conflict Warnings</a>). 
</dd></dl>

<br><p>
</p><p>In order to change the behavior of <code>bison</code>, use the following
directives:

</p><dl>
<dt><code>%debug</code>
</dt><dd>In the parser file, define the macro <code>YYDEBUG</code> to 1 if it is not
already defined, so that the debugging facilities are compiled. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging Your Parser</a>.

<br></dd><dt><code>%defines</code>
</dt><dd>Write an extra output file containing macro definitions for the token
type names defined in the grammar and the semantic value type
<code>YYSTYPE</code>, as well as a few <code>extern</code> variable declarations.

<p>If the parser output file is named <code><var>name</var>.c</code> then this file
is named <code><var>name</var>.h</code>.

</p><p>This output file is essential if you wish to put the definition of
<code>yylex</code> in a separate source file, because <code>yylex</code> needs to
be able to refer to token type codes and the variable
<code>yylval</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Semantic Values of Tokens</a>.

<br></p></dd><dt><code>%file-prefix="<var>prefix</var>"</code>
</dt><dd>Specify a prefix to use for all Bison output file names.  The names are
chosen as if the input file were named <code><var>prefix</var>.y</code>.

<br></dd><dt><code>%locations</code>
</dt><dd>Generate the code processing the locations (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>).  This mode is enabled as soon as
the grammar uses the special <code>@<var>n</var></code> tokens, but if your
grammar does not use it, using <code>%locations</code> allows for more
accurate parse error messages.

<br></dd><dt><code>%name-prefix="<var>prefix</var>"</code>
</dt><dd>Rename the external symbols used in the parser so that they start with
<var>prefix</var> instead of <code>yy</code>.  The precise list of symbols renamed
is <code>yyparse</code>, <code>yylex</code>, <code>yyerror</code>, <code>yynerrs</code>,
<code>yylval</code>, <code>yychar</code> and <code>yydebug</code>.  For example, if you
use <code>%name-prefix="c_"</code>, the names become <code>c_parse</code>,
<code>c_lex</code>, and so on.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multiple%20Parsers">Multiple Parsers in the Same Program</a>.

<br></dd><dt><code>%no-parser</code>
</dt><dd>Do not include any C code in the parser file; generate tables only.  The
parser file contains just <code>#define</code> directives and static variable
declarations.

<p>This option also tells Bison to write the C code for the grammar actions
into a file named <code><var>filename</var>.act</code>, in the form of a
brace-surrounded body fit for a <code>switch</code> statement.

<br></p></dd><dt><code>%no-lines</code>
</dt><dd>Don't generate any <code>#line</code> preprocessor commands in the parser
file.  Ordinarily Bison writes these commands in the parser file so that
the C compiler and debuggers will associate errors and object code with
your source file (the grammar file).  This directive causes them to
associate errors with the parser file, treating it an independent source
file in its own right.

<br></dd><dt><code>%output="<var>filename</var>"</code>
</dt><dd>Specify the <var>filename</var> for the parser file.

<br></dd><dt><code>%pure-parser</code>
</dt><dd>Request a pure (reentrant) parser program (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>).

<br></dd><dt><code>%token_table</code>
</dt><dd>Generate an array of token names in the parser file.  The name of the
array is <code>yytname</code>; <code>yytname[<var>i</var>]</code> is the name of the
token whose internal Bison token code number is <var>i</var>.  The first three
elements of <code>yytname</code> are always <code>"$"</code>, <code>"error"</code>, and
<code>"$illegal"</code>; after these come the symbols defined in the grammar
file.

<p>For single-character literal tokens and literal string tokens, the name
in the table includes the single-quote or double-quote characters: for
example, <code>"'+'"</code> is a single-character literal and <code>"\"&lt;=\""</code>
is a literal string token.  All the characters of the literal string
token appear verbatim in the string found in the table; even
double-quote characters are not escaped.  For example, if the token
consists of three characters <code>*"*</code>, its string in <code>yytname</code>
contains <code>"*"*"</code>.  (In C, that would be written as
<code>"\"*\"*\""</code>).

</p><p>When you specify <code>%token_table</code>, Bison also generates macro
definitions for macros <code>YYNTOKENS</code>, <code>YYNNTS</code>, and
<code>YYNRULES</code>, and <code>YYNSTATES</code>:

</p><dl>
<dt><code>YYNTOKENS</code>
</dt><dd>The highest token number, plus one. 
<br></dd><dt><code>YYNNTS</code>
</dt><dd>The number of nonterminal symbols. 
<br></dd><dt><code>YYNRULES</code>
</dt><dd>The number of grammar rules,
<br></dd><dt><code>YYNSTATES</code>
</dt><dd>The number of parser states (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>). 
</dd></dl>

<br></dd><dt><code>%verbose</code>
</dt><dd>Write an extra output file containing verbose descriptions of the
parser states and what is done for each type of look-ahead token in
that state.

<p>This file also describes all the conflicts, both those resolved by
operator precedence and the unresolved ones.

</p><p>The file's name is made by removing <code>.tab.c</code> or <code>.c</code> from
the parser output file name, and adding <code>.output</code> instead.

</p><p>Therefore, if the input file is <code>foo.y</code>, then the parser file is
called <code>foo.tab.c</code> by default.  As a consequence, the verbose
output file is called <code>foo.output</code>.

<br></p></dd><dt><code>%yacc</code>
</dt><dt><code>%fixed-output-files</code>
</dt><dd>Pretend the option <code>--yacc</code> was given, i.e., imitate Yacc,
including its naming conventions.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Options">Bison Options</a>, for more. 
</dd></dl>

<p></p><hr>
Node:<a name="Multiple%20Parsers">Multiple Parsers</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>
<br>

<h3>Multiple Parsers in the Same Program</h3>

<p>Most programs that use Bison parse only one language and therefore contain
only one Bison parser.  But what if you want to parse more than one
language with the same program?  Then you need to avoid a name conflict
between different definitions of <code>yyparse</code>, <code>yylval</code>, and so on.

</p><p>The easy way to do this is to use the option <code>-p <var>prefix</var></code>
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>).  This renames the interface functions and
variables of the Bison parser to start with <var>prefix</var> instead of
<code>yy</code>.  You can use this to give each parser distinct names that do
not conflict.

</p><p>The precise list of symbols renamed is <code>yyparse</code>, <code>yylex</code>,
<code>yyerror</code>, <code>yynerrs</code>, <code>yylval</code>, <code>yychar</code> and
<code>yydebug</code>.  For example, if you use <code>-p c</code>, the names become
<code>cparse</code>, <code>clex</code>, and so on.

</p><p><strong>All the other variables and macros associated with Bison are not
renamed.</strong> These others are not global; there is no conflict if the same
name is used in different parsers.  For example, <code>YYSTYPE</code> is not
renamed, but defining this in different ways in different parsers causes
no trouble (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Data Types of Semantic Values</a>).

</p><p>The <code>-p</code> option works by adding macro definitions to the beginning
of the parser source file, defining <code>yyparse</code> as
<code><var>prefix</var>parse</code>, and so on.  This effectively substitutes one
name for the other in the entire parser file.

</p><p></p><hr>
Node:<a name="Interface">Interface</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20File">Grammar File</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Parser C-Language Interface</h2>

<p>The Bison parser is actually a C function named <code>yyparse</code>.  Here we
describe the interface conventions of <code>yyparse</code> and the other
functions that it needs to use.

</p><p>Keep in mind that the parser uses many C identifiers starting with
<code>yy</code> and <code>YY</code> for internal purposes.  If you use such an
identifier (aside from those in this manual) in an action or in additional
C code in the grammar file, you are likely to run into trouble.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">Parser Function</a>:    How to call <code>yyparse</code> and what it returns. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>:            You must supply a function <code>yylex</code>
                        which reads tokens. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>:    You must supply a function <code>yyerror</code>. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Action Features</a>:    Special features for use in actions. 
</li></ul>

<p></p><hr>
Node:<a name="Parser%20Function">Parser Function</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>
<br>

<h3>The Parser Function <code>yyparse</code></h3>

<p>You call the function <code>yyparse</code> to cause parsing to occur.  This
function reads tokens, executes actions, and ultimately returns when it
encounters end-of-input or an unrecoverable syntax error.  You can also
write an action which directs <code>yyparse</code> to return immediately
without reading further.

</p><p>The value returned by <code>yyparse</code> is 0 if parsing was successful (return
is due to end-of-input).

</p><p>The value is 1 if parsing failed (return is due to a syntax error).

</p><p>In an action, you can cause immediate return from <code>yyparse</code> by using
these macros:

</p><dl>
<dt><code>YYACCEPT</code>
</dt><dd>Return immediately with value 0 (to report success).

<br></dd><dt><code>YYABORT</code>
</dt><dd>Return immediately with value 1 (to report failure). 
</dd></dl>

<p></p><hr>
Node:<a name="Lexical">Lexical</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">Parser Function</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>
<br>

<h3>The Lexical Analyzer Function <code>yylex</code></h3>

<p>The <dfn>lexical analyzer</dfn> function, <code>yylex</code>, recognizes tokens from
the input stream and returns them to the parser.  Bison does not create
this function automatically; you must write it so that <code>yyparse</code> can
call it.  The function is sometimes referred to as a lexical scanner.

</p><p>In simple programs, <code>yylex</code> is often defined at the end of the Bison
grammar file.  If <code>yylex</code> is defined in a separate source file, you
need to arrange for the token-type macro definitions to be available there. 
To do this, use the <code>-d</code> option when you run Bison, so that it will
write these macro definitions into a separate header file
<code><var>name</var>.tab.h</code> which you can include in the other source files
that need it.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention</a>:   How <code>yyparse</code> calls <code>yylex</code>. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Token Values</a>:       How <code>yylex</code> must return the semantic value
                        of the token it has read. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Positions">Token Positions</a>:    How <code>yylex</code> must return the text position
                        (line number, etc.) of the token, if the
                        actions want that. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Pure Calling</a>:       How the calling convention differs
                        in a pure parser (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>). 
</li></ul>

<p></p><hr>
Node:<a name="Calling%20Convention">Calling Convention</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Token Values</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>
<br>

<h4>Calling Convention for <code>yylex</code></h4>

<p>The value that <code>yylex</code> returns must be the numeric code for the type
of token it has just found, or 0 for end-of-input.

</p><p>When a token is referred to in the grammar rules by a name, that name
in the parser file becomes a C macro whose definition is the proper
numeric code for that token type.  So <code>yylex</code> can use the name
to indicate that type.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>.

</p><p>When a token is referred to in the grammar rules by a character literal,
the numeric code for that character is also the code for the token type. 
So <code>yylex</code> can simply return that character code.  The null character
must not be used this way, because its code is zero and that is what
signifies end-of-input.

</p><p>Here is an example showing these things:

<br></p><pre>int
yylex (void)
{
  <small>...</small>
  if (c == EOF)     /* Detect end of file. */
    return 0;
  <small>...</small>
  if (c == '+' || c == '-')
    return c;      /* Assume token type for `+' is '+'. */
  <small>...</small>
  return INT;      /* Return the type of the token. */
  <small>...</small>
}
</pre>

<p>This interface has been designed so that the output from the <code>lex</code>
utility can be used without change as the definition of <code>yylex</code>.

</p><p>If the grammar uses literal string tokens, there are two ways that
<code>yylex</code> can determine the token type codes for them:

</p><ul>
<li>If the grammar defines symbolic token names as aliases for the
literal string tokens, <code>yylex</code> can use these symbolic names like
all others.  In this case, the use of the literal string tokens in
the grammar file has no effect on <code>yylex</code>.

</li><li><code>yylex</code> can find the multicharacter token in the <code>yytname</code>
table.  The index of the token in the table is the token type's code. 
The name of a multicharacter token is recorded in <code>yytname</code> with a
double-quote, the token's characters, and another double-quote.  The
token's characters are not escaped in any way; they appear verbatim in
the contents of the string in the table.

<p>Here's code for looking up a token in <code>yytname</code>, assuming that the
characters of the token are stored in <code>token_buffer</code>.

<br></p><pre>for (i = 0; i &lt; YYNTOKENS; i++)
  {
    if (yytname[i] != 0
        &amp;&amp; yytname[i][0] == '"'
        &amp;&amp; strncmp (yytname[i] + 1, token_buffer,
                    strlen (token_buffer))
        &amp;&amp; yytname[i][strlen (token_buffer) + 1] == '"'
        &amp;&amp; yytname[i][strlen (token_buffer) + 2] == 0)
      break;
  }
</pre>

<p>The <code>yytname</code> table is generated only if you use the
<code>%token_table</code> declaration.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>. 
</p></li></ul>

<p></p><hr>
Node:<a name="Token%20Values">Token Values</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Positions">Token Positions</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Calling%20Convention">Calling Convention</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>
<br>

<h4>Semantic Values of Tokens</h4>

<p>In an ordinary (non-reentrant) parser, the semantic value of the token must
be stored into the global variable <code>yylval</code>.  When you are using
just one data type for semantic values, <code>yylval</code> has that type. 
Thus, if the type is <code>int</code> (the default), you might write this in
<code>yylex</code>:

<br></p><pre>  <small>...</small>
  yylval = value;  /* Put value onto Bison stack. */
  return INT;      /* Return the type of the token. */
  <small>...</small>
</pre>

<p>When you are using multiple data types, <code>yylval</code>'s type is a union
made from the <code>%union</code> declaration (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>).  So when
you store a token's value, you must use the proper member of the union. 
If the <code>%union</code> declaration looks like this:

<br></p><pre>%union {
  int intval;
  double val;
  symrec *tptr;
}
</pre>

<p>then the code in <code>yylex</code> might look like this:

<br></p><pre>  <small>...</small>
  yylval.intval = value; /* Put value onto Bison stack. */
  return INT;          /* Return the type of the token. */
  <small>...</small>
</pre>

<p></p><hr>
Node:<a name="Token%20Positions">Token Positions</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Pure Calling</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Token Values</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>
<br>

<h4>Textual Positions of Tokens</h4>

<p>If you are using the <code>@<var>n</var></code>-feature (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Tracking Locations</a>) in actions to keep track of the
textual locations of tokens and groupings, then you must provide this
information in <code>yylex</code>.  The function <code>yyparse</code> expects to
find the textual location of a token just parsed in the global variable
<code>yylloc</code>.  So <code>yylex</code> must store the proper data in that
variable.

</p><p>By default, the value of <code>yylloc</code> is a structure and you need only
initialize the members that are going to be used by the actions.  The
four members are called <code>first_line</code>, <code>first_column</code>,
<code>last_line</code> and <code>last_column</code>.  Note that the use of this
feature makes the parser noticeably slower.

</p><p>The data type of <code>yylloc</code> has the name <code>YYLTYPE</code>.

</p><p></p><hr>
Node:<a name="Pure%20Calling">Pure Calling</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Positions">Token Positions</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>
<br>

<h4>Calling Conventions for Pure Parsers</h4>

<p>When you use the Bison declaration <code>%pure_parser</code> to request a
pure, reentrant parser, the global communication variables <code>yylval</code>
and <code>yylloc</code> cannot be used.  (See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>.)  In such parsers the two global variables are replaced by
pointers passed as arguments to <code>yylex</code>.  You must declare them as
shown here, and pass the information back by storing it through those
pointers.

<br></p><pre>int
yylex (YYSTYPE *lvalp, YYLTYPE *llocp)
{
  <small>...</small>
  *lvalp = value;  /* Put value onto Bison stack.  */
  return INT;      /* Return the type of the token.  */
  <small>...</small>
}
</pre>

<p>If the grammar file does not use the <code>@</code> constructs to refer to
textual positions, then the type <code>YYLTYPE</code> will not be defined.  In
this case, omit the second argument; <code>yylex</code> will be called with
only one argument.

</p><p>If you use a reentrant parser, you can optionally pass additional
parameter information to it in a reentrant way.  To do so, define the
macro <code>YYPARSE_PARAM</code> as a variable name.  This modifies the
<code>yyparse</code> function to accept one argument, of type <code>void *</code>,
with that name.

</p><p>When you call <code>yyparse</code>, pass the address of an object, casting the
address to <code>void *</code>.  The grammar actions can refer to the contents
of the object by casting the pointer value back to its proper type and
then dereferencing it.  Here's an example.  Write this in the parser:

<br></p><pre>%{
struct parser_control
{
  int nastiness;
  int randomness;
};

#define YYPARSE_PARAM parm
%}
</pre>

<p>Then call the parser like this:

<br></p><pre>struct parser_control
{
  int nastiness;
  int randomness;
};

<small>...</small>

{
  struct parser_control foo;
  <small>...</small>  /* Store proper data in <code>foo</code>.  */
  value = yyparse ((void *) &amp;foo);
  <small>...</small>
}
</pre>

<p>In the grammar actions, use expressions like this to refer to the data:

<br></p><pre>((struct parser_control *) parm)-&gt;randomness
</pre>

<p>If you wish to pass the additional parameter data to <code>yylex</code>,
define the macro <code>YYLEX_PARAM</code> just like <code>YYPARSE_PARAM</code>, as
shown here:

<br></p><pre>%{
struct parser_control
{
  int nastiness;
  int randomness;
};

#define YYPARSE_PARAM parm
#define YYLEX_PARAM parm
%}
</pre>

<p>You should then define <code>yylex</code> to accept one additional
argument--the value of <code>parm</code>.  (This makes either two or three
arguments in total, depending on whether an argument of type
<code>YYLTYPE</code> is passed.)  You can declare the argument as a pointer to
the proper object type, or you can declare it as <code>void *</code> and
access the contents as shown above.

</p><p>You can use <code>%pure_parser</code> to request a reentrant parser without
also using <code>YYPARSE_PARAM</code>.  Then you should call <code>yyparse</code>
with no arguments, as usual.

</p><p></p><hr>
Node:<a name="Error%20Reporting">Error Reporting</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Action Features</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>
<br>

<h3>The Error Reporting Function <code>yyerror</code></h3>

<p>The Bison parser detects a <dfn>parse error</dfn> or <dfn>syntax error</dfn>
whenever it reads a token which cannot satisfy any syntax rule.  An
action in the grammar can also explicitly proclaim an error, using the
macro <code>YYERROR</code> (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>).

</p><p>The Bison parser expects to report the error by calling an error
reporting function named <code>yyerror</code>, which you must supply.  It is
called by <code>yyparse</code> whenever a syntax error is found, and it
receives one argument.  For a parse error, the string is normally
<code>"parse&nbsp;error"</code>.

</p><p>If you define the macro <code>YYERROR_VERBOSE</code> in the Bison declarations
section (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">The Bison Declarations Section</a>),
then Bison provides a more verbose and specific error message string
instead of just plain <code>"parse&nbsp;error"</code>.  It doesn't matter what
definition you use for <code>YYERROR_VERBOSE</code>, just whether you define
it.

</p><p>The parser can detect one other kind of error: stack overflow.  This
happens when the input contains constructions that are very deeply
nested.  It isn't likely you will encounter this, since the Bison
parser extends its stack automatically up to a very large limit.  But
if overflow happens, <code>yyparse</code> calls <code>yyerror</code> in the usual
fashion, except that the argument string is <code>"parser&nbsp;stack&nbsp;overflow"</code>.

</p><p>The following definition suffices in simple programs:

<br></p><pre>void
yyerror (char *s)
{
  fprintf (stderr, "%s\n", s);
}
</pre>

<p>After <code>yyerror</code> returns to <code>yyparse</code>, the latter will attempt
error recovery if you have written suitable error recovery grammar rules
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>).  If recovery is impossible, <code>yyparse</code> will
immediately return 1.

</p><p>The variable <code>yynerrs</code> contains the number of syntax errors
encountered so far.  Normally this variable is global; but if you
request a pure parser (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>) then it is a local variable
which only the actions can access.

</p><p></p><hr>
Node:<a name="Action%20Features">Action Features</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>
<br>

<h3>Special Features for Use in Actions</h3>

<p>Here is a table of Bison constructs, variables and macros that
are useful in actions.

</p><dl>
<dt><code>$$</code>
</dt><dd>Acts like a variable that contains the semantic value for the
grouping made by the current rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>.

<br></dd><dt><code>$<var>n</var></code>
</dt><dd>Acts like a variable that contains the semantic value for the
<var>n</var>th component of the current rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>.

<br></dd><dt><code>$&lt;<var>typealt</var>&gt;$</code>
</dt><dd>Like <code>$$</code> but specifies alternative <var>typealt</var> in the union
specified by the <code>%union</code> declaration.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Data Types of Values in Actions</a>.

<br></dd><dt><code>$&lt;<var>typealt</var>&gt;<var>n</var></code>
</dt><dd>Like <code>$<var>n</var></code> but specifies alternative <var>typealt</var> in the
union specified by the <code>%union</code> declaration. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Data Types of Values in Actions</a>.

<br></dd><dt><code>YYABORT;</code>
</dt><dd>Return immediately from <code>yyparse</code>, indicating failure. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">The Parser Function <code>yyparse</code></a>.

<br></dd><dt><code>YYACCEPT;</code>
</dt><dd>Return immediately from <code>yyparse</code>, indicating success. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">The Parser Function <code>yyparse</code></a>.

<br></dd><dt><code>YYBACKUP (<var>token</var>, <var>value</var>);</code>
</dt><dd>Unshift a token.  This macro is allowed only for rules that reduce
a single value, and only when there is no look-ahead token. 
It installs a look-ahead token with token type <var>token</var> and
semantic value <var>value</var>; then it discards the value that was
going to be reduced by this rule.

<p>If the macro is used when it is not valid, such as when there is
a look-ahead token already, then it reports a syntax error with
a message <code>cannot back up</code> and performs ordinary error
recovery.

</p><p>In either case, the rest of the action is not executed.

<br></p></dd><dt><code>YYEMPTY</code>
</dt><dd>Value stored in <code>yychar</code> when there is no look-ahead token.

<br></dd><dt><code>YYERROR;</code>
</dt><dd>Cause an immediate syntax error.  This statement initiates error
recovery just as if the parser itself had detected an error; however, it
does not call <code>yyerror</code>, and does not print any message.  If you
want to print an error message, call <code>yyerror</code> explicitly before
the <code>YYERROR;</code> statement.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>YYRECOVERING</code>
</dt><dd>This macro stands for an expression that has the value 1 when the parser
is recovering from a syntax error, and 0 the rest of the time. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>yychar</code>
</dt><dd>Variable containing the current look-ahead token.  (In a pure parser,
this is actually a local variable within <code>yyparse</code>.)  When there is
no look-ahead token, the value <code>YYEMPTY</code> is stored in the variable. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead Tokens</a>.

<br></dd><dt><code>yyclearin;</code>
</dt><dd>Discard the current look-ahead token.  This is useful primarily in
error rules.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>yyerrok;</code>
</dt><dd>Resume generating error messages immediately for subsequent syntax
errors.  This is useful primarily in error rules. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>@$</code>
</dt><dd>Acts like a structure variable containing information on the textual position
of the grouping made by the current rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Tracking Locations</a>.

<br></dd><dt><code>@<var>n</var></code>
</dt><dd>Acts like a structure variable containing information on the textual position
of the <var>n</var>th component of the current rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Tracking Locations</a>.

</dd></dl>

<p></p><hr>
Node:<a name="Algorithm">Algorithm</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>The Bison Parser Algorithm</h2>

<p>As Bison reads tokens, it pushes them onto a stack along with their
semantic values.  The stack is called the <dfn>parser stack</dfn>.  Pushing a
token is traditionally called <dfn>shifting</dfn>.

</p><p>For example, suppose the infix calculator has read <code>1 + 5 *</code>, with a
<code>3</code> to come.  The stack will have four elements, one for each token
that was shifted.

</p><p>But the stack does not always have an element for each token read.  When
the last <var>n</var> tokens and groupings shifted match the components of a
grammar rule, they can be combined according to that rule.  This is called
<dfn>reduction</dfn>.  Those tokens and groupings are replaced on the stack by a
single grouping whose symbol is the result (left hand side) of that rule. 
Running the rule's action is part of the process of reduction, because this
is what computes the semantic value of the resulting grouping.

</p><p>For example, if the infix calculator's parser stack contains this:

<br></p><pre>1 + 5 * 3
</pre>

<p>and the next input token is a newline character, then the last three
elements can be reduced to 15 via the rule:

<br></p><pre>expr: expr '*' expr;
</pre>

<p>Then the stack contains just these three elements:

<br></p><pre>1 + 15
</pre>

<p>At this point, another reduction can be made, resulting in the single value
16.  Then the newline token can be shifted.

</p><p>The parser tries, by shifts and reductions, to reduce the entire input down
to a single grouping whose symbol is the grammar's start-symbol
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>).

</p><p>This kind of parser is known in the literature as a bottom-up parser.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead</a>:         Parser looks one token ahead when deciding what to do. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>:       Conflicts: when either shifting or reduction is valid. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>:         Operator precedence works by resolving conflicts. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>:   When an operator's precedence depends on context. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>:      The parser is a finite-state-machine with stack. 
</li><li><a accesskey="6" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce</a>:      When two rules are applicable in the same situation. 
</li><li><a accesskey="7" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mystery Conflicts</a>:   Reduce/reduce conflicts that look unjustified. 
</li><li><a accesskey="8" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>:     What happens when stack gets full.  How to avoid it. 
</li></ul>

<p></p><hr>
Node:<a name="Look-Ahead">Look-Ahead</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Look-Ahead Tokens</h3>

<p>The Bison parser does <em>not</em> always reduce immediately as soon as the
last <var>n</var> tokens and groupings match a rule.  This is because such a
simple strategy is inadequate to handle most languages.  Instead, when a
reduction is possible, the parser sometimes "looks ahead" at the next
token in order to decide what to do.

</p><p>When a token is read, it is not immediately shifted; first it becomes the
<dfn>look-ahead token</dfn>, which is not on the stack.  Now the parser can
perform one or more reductions of tokens and groupings on the stack, while
the look-ahead token remains off to the side.  When no more reductions
should take place, the look-ahead token is shifted onto the stack.  This
does not mean that all possible reductions have been done; depending on the
token type of the look-ahead token, some rules may choose to delay their
application.

</p><p>Here is a simple case where look-ahead is needed.  These three rules define
expressions which contain binary addition operators and postfix unary
factorial operators (<code>!</code>), and allow parentheses for grouping.

<br></p><pre>expr:     term '+' expr
        | term
        ;

term:     '(' expr ')'
        | term '!'
        | NUMBER
        ;
</pre>

<p>Suppose that the tokens <code>1&nbsp;+&nbsp;2</code> have been read and shifted; what
should be done?  If the following token is <code>)</code>, then the first three
tokens must be reduced to form an <code>expr</code>.  This is the only valid
course, because shifting the <code>)</code> would produce a sequence of symbols
<code>term&nbsp;')'</code>, and no rule allows this.

</p><p>If the following token is <code>!</code>, then it must be shifted immediately so
that <code>2&nbsp;!</code> can be reduced to make a <code>term</code>.  If instead the
parser were to reduce before shifting, <code>1&nbsp;+&nbsp;2</code> would become an
<code>expr</code>.  It would then be impossible to shift the <code>!</code> because
doing so would produce on the stack the sequence of symbols <code>expr
'!'</code>.  No rule allows that sequence.

</p><p>The current look-ahead token is stored in the variable <code>yychar</code>. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>.

</p><p></p><hr>
Node:<a name="Shift%2fReduce">Shift/Reduce</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Shift/Reduce Conflicts</h3>

<p>Suppose we are parsing a language which has if-then and if-then-else
statements, with a pair of rules like this:

<br></p><pre>if_stmt:
          IF expr THEN stmt
        | IF expr THEN stmt ELSE stmt
        ;
</pre>

<p>Here we assume that <code>IF</code>, <code>THEN</code> and <code>ELSE</code> are
terminal symbols for specific keyword tokens.

</p><p>When the <code>ELSE</code> token is read and becomes the look-ahead token, the
contents of the stack (assuming the input is valid) are just right for
reduction by the first rule.  But it is also legitimate to shift the
<code>ELSE</code>, because that would lead to eventual reduction by the second
rule.

</p><p>This situation, where either a shift or a reduction would be valid, is
called a <dfn>shift/reduce conflict</dfn>.  Bison is designed to resolve
these conflicts by choosing to shift, unless otherwise directed by
operator precedence declarations.  To see the reason for this, let's
contrast it with the other alternative.

</p><p>Since the parser prefers to shift the <code>ELSE</code>, the result is to attach
the else-clause to the innermost if-statement, making these two inputs
equivalent:

<br></p><pre>if x then if y then win (); else lose;

if x then do; if y then win (); else lose; end;
</pre>

<p>But if the parser chose to reduce when possible rather than shift, the
result would be to attach the else-clause to the outermost if-statement,
making these two inputs equivalent:

<br></p><pre>if x then if y then win (); else lose;

if x then do; if y then win (); end; else lose;
</pre>

<p>The conflict exists because the grammar as written is ambiguous: either
parsing of the simple nested if-statement is legitimate.  The established
convention is that these ambiguities are resolved by attaching the
else-clause to the innermost if-statement; this is what Bison accomplishes
by choosing to shift rather than reduce.  (It would ideally be cleaner to
write an unambiguous grammar, but that is very hard to do in this case.) 
This particular ambiguity was first encountered in the specifications of
Algol 60 and is called the "dangling <code>else</code>" ambiguity.

</p><p>To avoid warnings from Bison about predictable, legitimate shift/reduce
conflicts, use the <code>%expect <var>n</var></code> declaration.  There will be no
warning as long as the number of shift/reduce conflicts is exactly <var>n</var>. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Suppressing Conflict Warnings</a>.

</p><p>The definition of <code>if_stmt</code> above is solely to blame for the
conflict, but the conflict does not actually appear without additional
rules.  Here is a complete Bison input file that actually manifests the
conflict:

<br></p><pre>%token IF THEN ELSE variable
%%
stmt:     expr
        | if_stmt
        ;

if_stmt:
          IF expr THEN stmt
        | IF expr THEN stmt ELSE stmt
        ;

expr:     variable
        ;
</pre>

<p></p><hr>
Node:<a name="Precedence">Precedence</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Operator Precedence</h3>

<p>Another situation where shift/reduce conflicts appear is in arithmetic
expressions.  Here shifting is not always the preferred resolution; the
Bison declarations for operator precedence allow you to specify when to
shift and when to reduce.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Why%20Precedence">Why Precedence</a>:     An example showing why precedence is needed. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Using%20Precedence">Using Precedence</a>:   How to specify precedence in Bison grammars. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Examples">Precedence Examples</a>:   How these features are used in the previous example. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#How%20Precedence">How Precedence</a>:     How they work. 
</li></ul>

<p></p><hr>
Node:<a name="Why%20Precedence">Why Precedence</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Using%20Precedence">Using Precedence</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>
<br>

<h4>When Precedence is Needed</h4>

<p>Consider the following ambiguous grammar fragment (ambiguous because the
input <code>1&nbsp;-&nbsp;2&nbsp;*&nbsp;3</code> can be parsed in two different ways):

<br></p><pre>expr:     expr '-' expr
        | expr '*' expr
        | expr '&lt;' expr
        | '(' expr ')'
        <small>...</small>
        ;
</pre>

<p>Suppose the parser has seen the tokens <code>1</code>, <code>-</code> and <code>2</code>;
should it reduce them via the rule for the subtraction operator?  It
depends on the next token.  Of course, if the next token is <code>)</code>, we
must reduce; shifting is invalid because no single rule can reduce the
token sequence <code>-&nbsp;2&nbsp;)</code> or anything starting with that.  But if
the next token is <code>*</code> or <code>&lt;</code>, we have a choice: either
shifting or reduction would allow the parse to complete, but with
different results.

</p><p>To decide which one Bison should do, we must consider the results.  If
the next operator token <var>op</var> is shifted, then it must be reduced
first in order to permit another opportunity to reduce the difference. 
The result is (in effect) <code>1&nbsp;-&nbsp;(2&nbsp;<var>op</var>&nbsp;3)</code>.  On the other
hand, if the subtraction is reduced before shifting <var>op</var>, the result
is <code>(1&nbsp;-&nbsp;2)&nbsp;<var>op</var>&nbsp;3</code>.  Clearly, then, the choice of shift or
reduce should depend on the relative precedence of the operators
<code>-</code> and <var>op</var>: <code>*</code> should be shifted first, but not
<code>&lt;</code>.

</p><p>What about input such as <code>1&nbsp;-&nbsp;2&nbsp;-&nbsp;5</code>; should this be
<code>(1&nbsp;-&nbsp;2)&nbsp;-&nbsp;5</code> or should it be <code>1&nbsp;-&nbsp;(2&nbsp;-&nbsp;5)</code>?  For most
operators we prefer the former, which is called <dfn>left association</dfn>. 
The latter alternative, <dfn>right association</dfn>, is desirable for
assignment operators.  The choice of left or right association is a
matter of whether the parser chooses to shift or reduce when the stack
contains <code>1&nbsp;-&nbsp;2</code> and the look-ahead token is <code>-</code>: shifting
makes right-associativity.

</p><p></p><hr>
Node:<a name="Using%20Precedence">Using Precedence</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Examples">Precedence Examples</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Why%20Precedence">Why Precedence</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>
<br>

<h4>Specifying Operator Precedence</h4>

<p>Bison allows you to specify these choices with the operator precedence
declarations <code>%left</code> and <code>%right</code>.  Each such declaration
contains a list of tokens, which are operators whose precedence and
associativity is being declared.  The <code>%left</code> declaration makes all
those operators left-associative and the <code>%right</code> declaration makes
them right-associative.  A third alternative is <code>%nonassoc</code>, which
declares that it is a syntax error to find the same operator twice "in a
row".

</p><p>The relative precedence of different operators is controlled by the
order in which they are declared.  The first <code>%left</code> or
<code>%right</code> declaration in the file declares the operators whose
precedence is lowest, the next such declaration declares the operators
whose precedence is a little higher, and so on.

</p><p></p><hr>
Node:<a name="Precedence%20Examples">Precedence Examples</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#How%20Precedence">How Precedence</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Using%20Precedence">Using Precedence</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>
<br>

<h4>Precedence Examples</h4>

<p>In our example, we would want the following declarations:

<br></p><pre>%left '&lt;'
%left '-'
%left '*'
</pre>

<p>In a more complete example, which supports other operators as well, we
would declare them in groups of equal precedence.  For example, <code>'+'</code> is
declared with <code>'-'</code>:

<br></p><pre>%left '&lt;' '&gt;' '=' NE LE GE
%left '+' '-'
%left '*' '/'
</pre>

<p>(Here <code>NE</code> and so on stand for the operators for "not equal"
and so on.  We assume that these tokens are more than one character long
and therefore are represented by names, not character literals.)

</p><p></p><hr>
Node:<a name="How%20Precedence">How Precedence</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Examples">Precedence Examples</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>
<br>

<h4>How Precedence Works</h4>

<p>The first effect of the precedence declarations is to assign precedence
levels to the terminal symbols declared.  The second effect is to assign
precedence levels to certain rules: each rule gets its precedence from the
last terminal symbol mentioned in the components.  (You can also specify
explicitly the precedence of a rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Context-Dependent Precedence</a>.)

</p><p>Finally, the resolution of conflicts works by comparing the
precedence of the rule being considered with that of the
look-ahead token.  If the token's precedence is higher, the
choice is to shift.  If the rule's precedence is higher, the
choice is to reduce.  If they have equal precedence, the choice
is made based on the associativity of that precedence level.  The
verbose output file made by <code>-v</code> (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>) says
how each conflict was resolved.

</p><p>Not all rules and not all tokens have precedence.  If either the rule or
the look-ahead token has no precedence, then the default is to shift.

</p><p></p><hr>
Node:<a name="Contextual%20Precedence">Contextual Precedence</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Context-Dependent Precedence</h3>

<p>Often the precedence of an operator depends on the context.  This sounds
outlandish at first, but it is really very common.  For example, a minus
sign typically has a very high precedence as a unary operator, and a
somewhat lower precedence (lower than multiplication) as a binary operator.

</p><p>The Bison precedence declarations, <code>%left</code>, <code>%right</code> and
<code>%nonassoc</code>, can only be used once for a given token; so a token has
only one precedence declared in this way.  For context-dependent
precedence, you need to use an additional mechanism: the <code>%prec</code>
modifier for rules.

</p><p>The <code>%prec</code> modifier declares the precedence of a particular rule by
specifying a terminal symbol whose precedence should be used for that rule. 
It's not necessary for that symbol to appear otherwise in the rule.  The
modifier's syntax is:

<br></p><pre>%prec <var>terminal-symbol</var>
</pre>

<p>and it is written after the components of the rule.  Its effect is to
assign the rule the precedence of <var>terminal-symbol</var>, overriding
the precedence that would be deduced for it in the ordinary way.  The
altered rule precedence then affects how conflicts involving that rule
are resolved (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Operator Precedence</a>).

</p><p>Here is how <code>%prec</code> solves the problem of unary minus.  First, declare
a precedence for a fictitious terminal symbol named <code>UMINUS</code>.  There
are no tokens of this type, but the symbol serves to stand for its
precedence:

<br></p><pre><small>...</small>
%left '+' '-'
%left '*'
%left UMINUS
</pre>

<p>Now the precedence of <code>UMINUS</code> can be used in specific rules:

<br></p><pre>exp:    <small>...</small>
        | exp '-' exp
        <small>...</small>
        | '-' exp %prec UMINUS
</pre>

<p></p><hr>
Node:<a name="Parser%20States">Parser States</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Parser States</h3>

<p>The function <code>yyparse</code> is implemented using a finite-state machine. 
The values pushed on the parser stack are not simply token type codes; they
represent the entire sequence of terminal and nonterminal symbols at or
near the top of the stack.  The current state collects all the information
about previous input which is relevant to deciding what to do next.

</p><p>Each time a look-ahead token is read, the current parser state together
with the type of look-ahead token are looked up in a table.  This table
entry can say, "Shift the look-ahead token."  In this case, it also
specifies the new parser state, which is pushed onto the top of the
parser stack.  Or it can say, "Reduce using rule number <var>n</var>." 
This means that a certain number of tokens or groupings are taken off
the top of the stack, and replaced by one grouping.  In other words,
that number of states are popped from the stack, and one new state is
pushed.

</p><p>There is one other alternative: the table can say that the look-ahead token
is erroneous in the current state.  This causes error processing to begin
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>).

</p><p></p><hr>
Node:<a name="Reduce%2fReduce">Reduce/Reduce</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mystery Conflicts</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Reduce/Reduce Conflicts</h3>

<p>A reduce/reduce conflict occurs if there are two or more rules that apply
to the same sequence of input.  This usually indicates a serious error
in the grammar.

</p><p>For example, here is an erroneous attempt to define a sequence
of zero or more <code>word</code> groupings.

<br></p><pre>sequence: /* empty */
                { printf ("empty sequence\n"); }
        | maybeword
        | sequence word
                { printf ("added word %s\n", $2); }
        ;

maybeword: /* empty */
                { printf ("empty maybeword\n"); }
        | word
                { printf ("single word %s\n", $1); }
        ;
</pre>

<p>The error is an ambiguity: there is more than one way to parse a single
<code>word</code> into a <code>sequence</code>.  It could be reduced to a
<code>maybeword</code> and then into a <code>sequence</code> via the second rule. 
Alternatively, nothing-at-all could be reduced into a <code>sequence</code>
via the first rule, and this could be combined with the <code>word</code>
using the third rule for <code>sequence</code>.

</p><p>There is also more than one way to reduce nothing-at-all into a
<code>sequence</code>.  This can be done directly via the first rule,
or indirectly via <code>maybeword</code> and then the second rule.

</p><p>You might think that this is a distinction without a difference, because it
does not change whether any particular input is valid or not.  But it does
affect which actions are run.  One parsing order runs the second rule's
action; the other runs the first rule's action and the third rule's action. 
In this example, the output of the program changes.

</p><p>Bison resolves a reduce/reduce conflict by choosing to use the rule that
appears first in the grammar, but it is very risky to rely on this.  Every
reduce/reduce conflict must be studied and usually eliminated.  Here is the
proper way to define <code>sequence</code>:

<br></p><pre>sequence: /* empty */
                { printf ("empty sequence\n"); }
        | sequence word
                { printf ("added word %s\n", $2); }
        ;
</pre>

<p>Here is another common error that yields a reduce/reduce conflict:

<br></p><pre>sequence: /* empty */
        | sequence words
        | sequence redirects
        ;

words:    /* empty */
        | words word
        ;

redirects:/* empty */
        | redirects redirect
        ;
</pre>

<p>The intention here is to define a sequence which can contain either
<code>word</code> or <code>redirect</code> groupings.  The individual definitions of
<code>sequence</code>, <code>words</code> and <code>redirects</code> are error-free, but the
three together make a subtle ambiguity: even an empty input can be parsed
in infinitely many ways!

</p><p>Consider: nothing-at-all could be a <code>words</code>.  Or it could be two
<code>words</code> in a row, or three, or any number.  It could equally well be a
<code>redirects</code>, or two, or any number.  Or it could be a <code>words</code>
followed by three <code>redirects</code> and another <code>words</code>.  And so on.

</p><p>Here are two ways to correct these rules.  First, to make it a single level
of sequence:

<br></p><pre>sequence: /* empty */
        | sequence word
        | sequence redirect
        ;
</pre>

<p>Second, to prevent either a <code>words</code> or a <code>redirects</code>
from being empty:

<br></p><pre>sequence: /* empty */
        | sequence words
        | sequence redirects
        ;

words:    word
        | words word
        ;

redirects:redirect
        | redirects redirect
        ;
</pre>

<p></p><hr>
Node:<a name="Mystery%20Conflicts">Mystery Conflicts</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Mysterious Reduce/Reduce Conflicts</h3>

<p>Sometimes reduce/reduce conflicts can occur that don't look warranted. 
Here is an example:

<br></p><pre>%token ID

%%
def:    param_spec return_spec ','
        ;
param_spec:
             type
        |    name_list ':' type
        ;
return_spec:
             type
        |    name ':' type
        ;
type:        ID
        ;
name:        ID
        ;
name_list:
             name
        |    name ',' name_list
        ;
</pre>

<p>It would seem that this grammar can be parsed with only a single token
of look-ahead: when a <code>param_spec</code> is being read, an <code>ID</code> is
a <code>name</code> if a comma or colon follows, or a <code>type</code> if another
<code>ID</code> follows.  In other words, this grammar is LR(1).

</p><p>However, Bison, like most parser generators, cannot actually handle all
LR(1) grammars.  In this grammar, two contexts, that after an <code>ID</code>
at the beginning of a <code>param_spec</code> and likewise at the beginning of
a <code>return_spec</code>, are similar enough that Bison assumes they are the
same.  They appear similar because the same set of rules would be
active--the rule for reducing to a <code>name</code> and that for reducing to
a <code>type</code>.  Bison is unable to determine at that stage of processing
that the rules would require different look-ahead tokens in the two
contexts, so it makes a single parser state for them both.  Combining
the two contexts causes a conflict later.  In parser terminology, this
occurrence means that the grammar is not LALR(1).

</p><p>In general, it is better to fix deficiencies than to document them.  But
this particular deficiency is intrinsically hard to fix; parser
generators that can handle LR(1) grammars are hard to write and tend to
produce parsers that are very large.  In practice, Bison is more useful
as it is now.

</p><p>When the problem arises, you can often fix it by identifying the two
parser states that are being confused, and adding something to make them
look distinct.  In the above example, adding one rule to
<code>return_spec</code> as follows makes the problem go away:

<br></p><pre>%token BOGUS
<small>...</small>
%%
<small>...</small>
return_spec:
             type
        |    name ':' type
        /* This rule is never used.  */
        |    ID BOGUS
        ;
</pre>

<p>This corrects the problem because it introduces the possibility of an
additional active rule in the context after the <code>ID</code> at the beginning of
<code>return_spec</code>.  This rule is not active in the corresponding context
in a <code>param_spec</code>, so the two contexts receive distinct parser states. 
As long as the token <code>BOGUS</code> is never generated by <code>yylex</code>,
the added rule cannot alter the way actual input is parsed.

</p><p>In this particular example, there is another way to solve the problem:
rewrite the rule for <code>return_spec</code> to use <code>ID</code> directly
instead of via <code>name</code>.  This also causes the two confusing
contexts to have different sets of active rules, because the one for
<code>return_spec</code> activates the altered rule for <code>return_spec</code>
rather than the one for <code>name</code>.

<br></p><pre>param_spec:
             type
        |    name_list ':' type
        ;
return_spec:
             type
        |    ID ':' type
        ;
</pre>

<p></p><hr>
Node:<a name="Stack%20Overflow">Stack Overflow</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mystery Conflicts</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
<br>

<h3>Stack Overflow, and How to Avoid It</h3>

<p>The Bison parser stack can overflow if too many tokens are shifted and
not reduced.  When this happens, the parser function <code>yyparse</code>
returns a nonzero value, pausing only to call <code>yyerror</code> to report
the overflow.

</p><p>By defining the macro <code>YYMAXDEPTH</code>, you can control how deep the
parser stack can become before a stack overflow occurs.  Define the
macro with a value that is an integer.  This value is the maximum number
of tokens that can be shifted (and not reduced) before overflow. 
It must be a constant expression whose value is known at compile time.

</p><p>The stack space allowed is not necessarily allocated.  If you specify a
large value for <code>YYMAXDEPTH</code>, the parser actually allocates a small
stack at first, and then makes it bigger by stages as needed.  This
increasing allocation happens automatically and silently.  Therefore,
you do not need to make <code>YYMAXDEPTH</code> painfully small merely to save
space for ordinary inputs that do not need much stack.

</p><p>The default value of <code>YYMAXDEPTH</code>, if you do not define it, is
10000.

</p><p>You can control how much stack is allocated initially by defining the
macro <code>YYINITDEPTH</code>.  This value too must be a compile-time
constant integer.  The default is 200.

</p><p></p><hr>
Node:<a name="Error%20Recovery">Error Recovery</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Context Dependency</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Error Recovery</h2>

<p>It is not usually acceptable to have a program terminate on a parse
error.  For example, a compiler should recover sufficiently to parse the
rest of the input file and check it for errors; a calculator should accept
another expression.

</p><p>In a simple interactive command parser where each input is one line, it may
be sufficient to allow <code>yyparse</code> to return 1 on error and have the
caller ignore the rest of the input line when that happens (and then call
<code>yyparse</code> again).  But this is inadequate for a compiler, because it
forgets all the syntactic context leading up to the error.  A syntax error
deep within a function in the compiler input should not cause the compiler
to treat the following line like the beginning of a source file.

</p><p>You can define how to recover from a syntax error by writing rules to
recognize the special token <code>error</code>.  This is a terminal symbol that
is always defined (you need not declare it) and reserved for error
handling.  The Bison parser generates an <code>error</code> token whenever a
syntax error happens; if you have provided a rule to recognize this token
in the current context, the parse can continue.

</p><p>For example:

<br></p><pre>stmnts:  /* empty string */
        | stmnts '\n'
        | stmnts exp '\n'
        | stmnts error '\n'
</pre>

<p>The fourth rule in this example says that an error followed by a newline
makes a valid addition to any <code>stmnts</code>.

</p><p>What happens if a syntax error occurs in the middle of an <code>exp</code>?  The
error recovery rule, interpreted strictly, applies to the precise sequence
of a <code>stmnts</code>, an <code>error</code> and a newline.  If an error occurs in
the middle of an <code>exp</code>, there will probably be some additional tokens
and subexpressions on the stack after the last <code>stmnts</code>, and there
will be tokens to read before the next newline.  So the rule is not
applicable in the ordinary way.

</p><p>But Bison can force the situation to fit the rule, by discarding part of
the semantic context and part of the input.  First it discards states and
objects from the stack until it gets back to a state in which the
<code>error</code> token is acceptable.  (This means that the subexpressions
already parsed are discarded, back to the last complete <code>stmnts</code>.)  At
this point the <code>error</code> token can be shifted.  Then, if the old
look-ahead token is not acceptable to be shifted next, the parser reads
tokens and discards them until it finds a token which is acceptable.  In
this example, Bison reads and discards input until the next newline
so that the fourth rule can apply.

</p><p>The choice of error rules in the grammar is a choice of strategies for
error recovery.  A simple and useful strategy is simply to skip the rest of
the current input line or current statement if an error is detected:

<br></p><pre>stmnt: error ';'  /* on error, skip until ';' is read */
</pre>

<p>It is also useful to recover to the matching close-delimiter of an
opening-delimiter that has already been parsed.  Otherwise the
close-delimiter will probably appear to be unmatched, and generate another,
spurious error message:

<br></p><pre>primary:  '(' expr ')'
        | '(' error ')'
        <small>...</small>
        ;
</pre>

<p>Error recovery strategies are necessarily guesses.  When they guess wrong,
one syntax error often leads to another.  In the above example, the error
recovery rule guesses that an error is due to bad input within one
<code>stmnt</code>.  Suppose that instead a spurious semicolon is inserted in the
middle of a valid <code>stmnt</code>.  After the error recovery rule recovers
from the first error, another syntax error will be found straightaway,
since the text following the spurious semicolon is also an invalid
<code>stmnt</code>.

</p><p>To prevent an outpouring of error messages, the parser will output no error
message for another syntax error that happens shortly after the first; only
after three consecutive input tokens have been successfully shifted will
error messages resume.

</p><p>Note that rules which accept the <code>error</code> token may have actions, just
as any other rules can.

</p><p>You can make error messages resume immediately by using the macro
<code>yyerrok</code> in an action.  If you do this in the error rule's action, no
error messages will be suppressed.  This macro requires no arguments;
<code>yyerrok;</code> is a valid C statement.

</p><p>The previous look-ahead token is reanalyzed immediately after an error.  If
this is unacceptable, then the macro <code>yyclearin</code> may be used to clear
this token.  Write the statement <code>yyclearin;</code> in the error rule's
action.

</p><p>For example, suppose that on a parse error, an error handling routine is
called that advances the input stream to some point where parsing should
once again commence.  The next symbol returned by the lexical scanner is
probably correct.  The previous look-ahead token ought to be discarded
with <code>yyclearin;</code>.

</p><p>The macro <code>YYRECOVERING</code> stands for an expression that has the
value 1 when the parser is recovering from a syntax error, and 0 the
rest of the time.  A value of 1 indicates that error messages are
currently suppressed for new syntax errors.

</p><p></p><hr>
Node:<a name="Context%20Dependency">Context Dependency</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Handling Context Dependencies</h2>

<p>The Bison paradigm is to parse tokens first, then group them into larger
syntactic units.  In many languages, the meaning of a token is affected by
its context.  Although this violates the Bison paradigm, certain techniques
(known as <dfn>kludges</dfn>) may enable you to write Bison parsers for such
languages.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Tokens">Semantic Tokens</a>:    Token parsing can depend on the semantic context. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>:    Token parsing can depend on the syntactic context. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Tie-in%20Recovery">Tie-in Recovery</a>:    Lexical tie-ins have implications for how
                        error recovery rules must be written. 
</li></ul>

<p>(Actually, "kludge" means any technique that gets its job done but is
neither clean nor robust.)

</p><p></p><hr>
Node:<a name="Semantic%20Tokens">Semantic Tokens</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Context Dependency</a>
<br>

<h3>Semantic Info in Token Types</h3>

<p>The C language has a context dependency: the way an identifier is used
depends on what its current meaning is.  For example, consider this:

<br></p><pre>foo (x);
</pre>

<p>This looks like a function call statement, but if <code>foo</code> is a typedef
name, then this is actually a declaration of <code>x</code>.  How can a Bison
parser for C decide how to parse this input?

</p><p>The method used in GNU C is to have two different token types,
<code>IDENTIFIER</code> and <code>TYPENAME</code>.  When <code>yylex</code> finds an
identifier, it looks up the current declaration of the identifier in order
to decide which token type to return: <code>TYPENAME</code> if the identifier is
declared as a typedef, <code>IDENTIFIER</code> otherwise.

</p><p>The grammar rules can then express the context dependency by the choice of
token type to recognize.  <code>IDENTIFIER</code> is accepted as an expression,
but <code>TYPENAME</code> is not.  <code>TYPENAME</code> can start a declaration, but
<code>IDENTIFIER</code> cannot.  In contexts where the meaning of the identifier
is <em>not</em> significant, such as in declarations that can shadow a
typedef name, either <code>TYPENAME</code> or <code>IDENTIFIER</code> is
accepted--there is one rule for each of the two token types.

</p><p>This technique is simple to use if the decision of which kinds of
identifiers to allow is made at a place close to where the identifier is
parsed.  But in C this is not always so: C allows a declaration to
redeclare a typedef name provided an explicit type has been specified
earlier:

<br></p><pre>typedef int foo, bar, lose;
static foo (bar);        /* redeclare <code>bar</code> as static variable */
static int foo (lose);   /* redeclare <code>foo</code> as function */
</pre>

<p>Unfortunately, the name being declared is separated from the declaration
construct itself by a complicated syntactic structure--the "declarator".

</p><p>As a result, part of the Bison parser for C needs to be duplicated, with
all the nonterminal names changed: once for parsing a declaration in
which a typedef name can be redefined, and once for parsing a
declaration in which that can't be done.  Here is a part of the
duplication, with actions omitted for brevity:

<br></p><pre>initdcl:
          declarator maybeasm '='
          init
        | declarator maybeasm
        ;

notype_initdcl:
          notype_declarator maybeasm '='
          init
        | notype_declarator maybeasm
        ;
</pre>

<p>Here <code>initdcl</code> can redeclare a typedef name, but <code>notype_initdcl</code>
cannot.  The distinction between <code>declarator</code> and
<code>notype_declarator</code> is the same sort of thing.

</p><p>There is some similarity between this technique and a lexical tie-in
(described next), in that information which alters the lexical analysis is
changed during parsing by other parts of the program.  The difference is
here the information is global, and is used for other purposes in the
program.  A true lexical tie-in has a special-purpose flag controlled by
the syntactic context.

</p><p></p><hr>
Node:<a name="Lexical%20Tie-ins">Lexical Tie-ins</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Tie-in%20Recovery">Tie-in Recovery</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Tokens">Semantic Tokens</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Context Dependency</a>
<br>

<h3>Lexical Tie-ins</h3>

<p>One way to handle context-dependency is the <dfn>lexical tie-in</dfn>: a flag
which is set by Bison actions, whose purpose is to alter the way tokens are
parsed.

</p><p>For example, suppose we have a language vaguely like C, but with a special
construct <code>hex (<var>hex-expr</var>)</code>.  After the keyword <code>hex</code> comes
an expression in parentheses in which all integers are hexadecimal.  In
particular, the token <code>a1b</code> must be treated as an integer rather than
as an identifier if it appears in that context.  Here is how you can do it:

<br></p><pre>%{
int hexflag;
%}
%%
<small>...</small>
expr:   IDENTIFIER
        | constant
        | HEX '('
                { hexflag = 1; }
          expr ')'
                { hexflag = 0;
                   $$ = $4; }
        | expr '+' expr
                { $$ = make_sum ($1, $3); }
        <small>...</small>
        ;

constant:
          INTEGER
        | STRING
        ;
</pre>

<p>Here we assume that <code>yylex</code> looks at the value of <code>hexflag</code>; when
it is nonzero, all integers are parsed in hexadecimal, and tokens starting
with letters are parsed as integers if possible.

</p><p>The declaration of <code>hexflag</code> shown in the C declarations section of
the parser file is needed to make it accessible to the actions
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">The C Declarations Section</a>).  You must also write the code in <code>yylex</code>
to obey the flag.

</p><p></p><hr>
Node:<a name="Tie-in%20Recovery">Tie-in Recovery</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Context Dependency</a>
<br>

<h3>Lexical Tie-ins and Error Recovery</h3>

<p>Lexical tie-ins make strict demands on any error recovery rules you have. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

</p><p>The reason for this is that the purpose of an error recovery rule is to
abort the parsing of one construct and resume in some larger construct. 
For example, in C-like languages, a typical error recovery rule is to skip
tokens until the next semicolon, and then start a new statement, like this:

<br></p><pre>stmt:   expr ';'
        | IF '(' expr ')' stmt { <small>...</small> }
        <small>...</small>
        error ';'
                { hexflag = 0; }
        ;
</pre>

<p>If there is a syntax error in the middle of a <code>hex (<var>expr</var>)</code>
construct, this error rule will apply, and then the action for the
completed <code>hex (<var>expr</var>)</code> will never run.  So <code>hexflag</code> would
remain set for the entire rest of the input, or until the next <code>hex</code>
keyword, causing identifiers to be misinterpreted as integers.

</p><p>To avoid this problem the error recovery rule itself clears <code>hexflag</code>.

</p><p>There may also be an error recovery rule that works within expressions. 
For example, there could be a rule which applies within parentheses
and skips to the close-parenthesis:

<br></p><pre>expr:   <small>...</small>
        | '(' expr ')'
                { $$ = $2; }
        | '(' error ')'
        <small>...</small>
</pre>

<p>If this rule acts within the <code>hex</code> construct, it is not going to abort
that construct (since it applies to an inner level of parentheses within
the construct).  Therefore, it should not clear the flag: the rest of
the <code>hex</code> construct should be parsed with the flag still in effect.

</p><p>What if there is an error recovery rule which might abort out of the
<code>hex</code> construct or might not, depending on circumstances?  There is no
way you can write the action to determine whether a <code>hex</code> construct is
being aborted or not.  So if you are using a lexical tie-in, you had better
make sure your error recovery rules are not of this kind.  Each rule must
be such that you can be sure that it always will, or always won't, have to
clear the flag.

</p><p></p><hr>
Node:<a name="Debugging">Debugging</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Context%20Dependency">Context Dependency</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Debugging Your Parser</h2>

<p>If a Bison grammar compiles properly but doesn't do what you want when it
runs, the <code>yydebug</code> parser-trace feature can help you figure out why.

</p><p>To enable compilation of trace facilities, you must define the macro
<code>YYDEBUG</code> to a nonzero value when you compile the parser.  You
could use <code>-DYYDEBUG=1</code> as a compiler option or you could put
<code>#define YYDEBUG 1</code> in the C declarations section of the grammar
file (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">The C Declarations Section</a>). 
Alternatively, use the <code>-t</code> option when you run Bison
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>) or the <code>%debug</code> declaration
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Bison Declaration Summary</a>).  We suggest that
you always define <code>YYDEBUG</code> so that debugging is always possible.

</p><p>The trace facility outputs messages with macro calls of the form
<code>YYFPRINTF (stderr, <var>format</var>, <var>args</var>)</code> where
<var>format</var> and <var>args</var> are the usual <code>printf</code> format and
arguments.  If you define <code>YYDEBUG</code> to a nonzero value but do not
define <code>YYFPRINTF</code>, <code>&lt;stdio.h&gt;</code> is automatically included
and <code>YYPRINTF</code> is defined to <code>fprintf</code>.

</p><p>Once you have compiled the program with trace facilities, the way to
request a trace is to store a nonzero value in the variable <code>yydebug</code>. 
You can do this by making the C code do it (in <code>main</code>, perhaps), or
you can alter the value with a C debugger.

</p><p>Each step taken by the parser when <code>yydebug</code> is nonzero produces a
line or two of trace information, written on <code>stderr</code>.  The trace
messages tell you these things:

</p><ul>
<li>Each time the parser calls <code>yylex</code>, what kind of token was read.

</li><li>Each time a token is shifted, the depth and complete contents of the
state stack (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>).

</li><li>Each time a rule is reduced, which rule it is, and the complete contents
of the state stack afterward. 
</li></ul>

<p>To make sense of this information, it helps to refer to the listing file
produced by the Bison <code>-v</code> option (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invoking Bison</a>).  This file
shows the meaning of each state in terms of positions in various rules, and
also what each state will do with each possible input token.  As you read
the successive trace messages, you can see that the parser is functioning
according to its specification in the listing file.  Eventually you will
arrive at the place where something undesirable happens, and you will see
which parts of the grammar are to blame.

</p><p>The parser file is a C program and you can use C debuggers on it, but it's
not easy to interpret what it is doing.  The parser function is a
finite-state machine interpreter, and aside from the actions it executes
the same code over and over.  Only the values of variables show where in
the grammar it is working.

</p><p>The debugging information normally gives the token type of each token
read, but not its semantic value.  You can optionally define a macro
named <code>YYPRINT</code> to provide a way to print the value.  If you define
<code>YYPRINT</code>, it should take three arguments.  The parser will pass a
standard I/O stream, the numeric code for the token type, and the token
value (from <code>yylval</code>).

</p><p>Here is an example of <code>YYPRINT</code> suitable for the multi-function
calculator (see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Decl">Declarations for <code>mfcalc</code></a>):

<br></p><pre>#define YYPRINT(file, type, value)   yyprint (file, type, value)

static void
yyprint (FILE *file, int type, YYSTYPE value)
{
  if (type == VAR)
    fprintf (file, " %s", value.tptr-&gt;name);
  else if (type == NUM)
    fprintf (file, " %d", value.val);
}
</pre>

<p></p><hr>
Node:<a name="Invocation">Invocation</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Table%20of%20Symbols">Table of Symbols</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Invoking Bison</h2>

<p>The usual way to invoke Bison is as follows:

<br></p><pre>bison <var>infile</var>
</pre>

<p>Here <var>infile</var> is the grammar file name, which usually ends in
<code>.y</code>.  The parser file's name is made by replacing the <code>.y</code>
with <code>.tab.c</code>.  Thus, the <code>bison foo.y</code> filename yields
<code>foo.tab.c</code>, and the <code>bison hack/foo.y</code> filename yields
<code>hack/foo.tab.c</code>. It's is also possible, in case you are writing
C++ code instead of C in your grammar file, to name it <code>foo.ypp</code>
or <code>foo.y++</code>. Then, the output files will take an extention like
the given one as input (repectively <code>foo.tab.cpp</code> and <code>foo.tab.c++</code>). 
This feature takes effect with all options that manipulate filenames like
<code>-o</code> or <code>-d</code>.

</p><p>For example :

<br></p><pre>bison -d <var>infile.yxx</var>
</pre>

<p>will produce <code>infile.tab.cxx</code> and <code>infile.tab.hxx</code>. and

<br></p><pre>bison -d <var>infile.y</var> -o <var>output.c++</var>
</pre>

<p>will produce <code>output.c++</code> and <code>outfile.h++</code>.

</p><ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Options">Bison Options</a>:      All the options described in detail,
			in alphabetical order by short options. 
</li><li><a accesskey="2" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>:   Variables which affect Bison execution. 
</li><li><a accesskey="3" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Option%20Cross%20Key">Option Cross Key</a>:   Alphabetical list of long options. 
</li><li><a accesskey="4" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>:   Bison output files extension differences
					depending on the DOS/Windows file system flavour used. 
</li><li><a accesskey="5" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#VMS%20Invocation">VMS Invocation</a>:     Bison command syntax on VMS. 
</li></ul>

<p></p><hr>
Node:<a name="Bison%20Options">Bison Options</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
<br>

<h3>Bison Options</h3>

<p>Bison supports both traditional single-letter options and mnemonic long
option names.  Long option names are indicated with <code>--</code> instead of
<code>-</code>.  Abbreviations for option names are allowed as long as they
are unique.  When a long option takes an argument, like
<code>--file-prefix</code>, connect the option name and the argument with
<code>=</code>.

</p><p>Here is a list of options that can be used with Bison, alphabetized by
short option.  It is followed by a cross key alphabetized by long
option.

</p><p>Operations modes:
</p><dl>
<dt><code>-h</code>
</dt><dt><code>--help</code>
</dt><dd>Print a summary of the command-line options to Bison and exit.

<br></dd><dt><code>-V</code>
</dt><dt><code>--version</code>
</dt><dd>Print the version number of Bison and exit.

<br></dd><dt><code>-y</code>
</dt><dt><code>--yacc</code>
</dt><dt><code>--fixed-output-files</code>
</dt><dd>Equivalent to <code>-o y.tab.c</code>; the parser output file is called
<code>y.tab.c</code>, and the other outputs are called <code>y.output</code> and
<code>y.tab.h</code>.  The purpose of this option is to imitate Yacc's output
file name conventions.  Thus, the following shell script can substitute
for Yacc:

<br><pre>bison -y $*
</pre>
</dd></dl>

<p>Tuning the parser:

</p><dl>
<dt><code>-S <var>file</var></code>
</dt><dt><code>--skeleton=<var>file</var></code>
</dt><dd>Specify the skeleton to use.  You probably don't need this option unless
you are developing Bison.

<br></dd><dt><code>-t</code>
</dt><dt><code>--debug</code>
</dt><dd>In the parser file, define the macro <code>YYDEBUG</code> to 1 if it is not
already defined, so that the debugging facilities are compiled. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging Your Parser</a>.

<br></dd><dt><code>--locations</code>
</dt><dd>Pretend that <code>%locations</code> was specified.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>-p <var>prefix</var></code>
</dt><dt><code>--name-prefix=<var>prefix</var></code>
</dt><dd>Pretend that <code>%name-prefix="<var>prefix</var>"</code> was specified. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>-l</code>
</dt><dt><code>--no-lines</code>
</dt><dd>Don't put any <code>#line</code> preprocessor commands in the parser file. 
Ordinarily Bison puts them in the parser file so that the C compiler
and debuggers will associate errors with your source file, the
grammar file.  This option causes them to associate errors with the
parser file, treating it as an independent source file in its own right.

<br></dd><dt><code>-n</code>
</dt><dt><code>--no-parser</code>
</dt><dd>Pretend that <code>%no-parser</code> was specified.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>-k</code>
</dt><dt><code>--token-table</code>
</dt><dd>Pretend that <code>%token-table</code> was specified.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>. 
</dd></dl>

<p>Adjust the output:

</p><dl>
<dt><code>-d</code>
</dt><dt><code>--defines</code>
</dt><dd>Pretend that <code>%defines</code> was specified, i.e., write an extra output
file containing macro definitions for the token type names defined in
the grammar and the semantic value type <code>YYSTYPE</code>, as well as a few
<code>extern</code> variable declarations.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>--defines=<var>defines-file</var></code>
</dt><dd>Same as above, but save in the file <var>defines-file</var>.

<br></dd><dt><code>-b <var>file-prefix</var></code>
</dt><dt><code>--file-prefix=<var>prefix</var></code>
</dt><dd>Pretend that <code>%verbose</code> was specified, i.e, specify prefix to use
for all Bison output file names. See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>-v</code>
</dt><dt><code>--verbose</code>
</dt><dd>Pretend that <code>%verbose</code> was specified, i.e, write an extra output
file containing verbose descriptions of the grammar and
parser. See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>-o <var>filename</var></code>
</dt><dt><code>--output=<var>filename</var></code>
</dt><dd>Specify the <var>filename</var> for the parser file.

<p>The other output files' names are constructed from <var>filename</var> as
described under the <code>-v</code> and <code>-d</code> options.

<br></p></dd><dt><code>-g</code>
</dt><dd>Output a VCG definition of the LALR(1) grammar automaton computed by
Bison. If the grammar file is <code>foo.y</code>, the VCG output file will
be <code>foo.vcg</code>.

<br></dd><dt><code>--graph=<var>graph-file</var></code>
</dt><dd>The behaviour of <var>-graph</var> is the same than <code>-g</code>. The only
difference is that it has an optionnal argument which is the name of
the output graph filename. 
</dd></dl>

<p></p><hr>
Node:<a name="Environment%20Variables">Environment Variables</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Option%20Cross%20Key">Option Cross Key</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Options">Bison Options</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
<br>

<h3>Environment Variables</h3>

<p>Here is a list of environment variables which affect the way Bison
runs.

</p><dl>
<dt><code>BISON_SIMPLE</code>
</dt><dt><code>BISON_HAIRY</code>
</dt><dd>Much of the parser generated by Bison is copied verbatim from a file
called <code>bison.simple</code>.  If Bison cannot find that file, or if you
would like to direct Bison to use a different copy, setting the
environment variable <code>BISON_SIMPLE</code> to the path of the file will
cause Bison to use that copy instead.

<p>When the <code>%semantic_parser</code> declaration is used, Bison copies from
a file called <code>bison.hairy</code> instead.  The location of this file can
also be specified or overridden in a similar fashion, with the
<code>BISON_HAIRY</code> environment variable.

</p></dd></dl>

<p></p><hr>
Node:<a name="Option%20Cross%20Key">Option Cross Key</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
<br>

<h3>Option Cross Key</h3>

<p>Here is a list of options, alphabetized by long option, to help you find
the corresponding short option.

</p><p></p><hr>
Node:<a name="Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#VMS%20Invocation">VMS Invocation</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Option%20Cross%20Key">Option Cross Key</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
<br>

<h3>Extension Limitations under DOS</h3>

<p>On DOS/Windows 9X systems the file name extensions of the output files,
like <code>.tab.c</code>, that may be used depend on the file system in use. 
The plain DOS file system has limited file name length, does not allow
the use of a set of certain illicit characters and does not allow more
than a single dot in the file name.

</p><p>The DJGPP port of <code>bison</code> will detect at runtime if (LFN) long file
name support is available or not.  LFN support will be available in a
DOS session under Windows 9X and successors.  Windows NT 4.0 needs a
special LFN driver (<code>ntlfn08b.zip</code>) or later available at any
simtelnet mirror in the /v2misc dir) for proper LFN support in a DOS
session.  If LFN support is available the DJGPP port of <code>bison</code>
will use the standard POSIX file name extensions of the output files. 
If LFN support is not available, then the DJGPP port of <code>bison</code>
will use DOS specific file name extensions.

</p><p>This table summarizes the used extensions:

</p><p><table><tbody><tr align="left"><td valign="top"></td><td valign="top">LFN extension (Win9X) </td><td valign="top">SFN extension (plain DOS)
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.tab.c</code> </td><td valign="top"><code>_tab.c</code>
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.tab.h</code> </td><td valign="top"><code>_tab.h</code>
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.tab.cpp</code> </td><td valign="top"><code>_tab.cpp</code>
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.tab.hpp</code> </td><td valign="top"><code>_tab.hpp</code>
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.output</code> </td><td valign="top"><code>.out</code>
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.stype.h</code> </td><td valign="top"><code>.sth</code>
<br></td></tr><tr align="left"><td valign="top"></td><td valign="top"><code>.guard.c</code> </td><td valign="top"><code>.guc</code>
<br></td></tr></tbody></table>

</p><p></p><hr>
Node:<a name="VMS%20Invocation">VMS Invocation</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
<br>

<h3>Invoking Bison under VMS</h3>

<p>The command line syntax for Bison on VMS is a variant of the usual
Bison command syntax--adapted to fit VMS conventions.

</p><p>To find the VMS equivalent for any Bison option, start with the long
option, and substitute a <code>/</code> for the leading <code>--</code>, and
substitute a <code>_</code> for each <code>-</code> in the name of the long option. 
For example, the following invocation under VMS:

<br></p><pre>bison /debug/name_prefix=bar foo.y
</pre>

<p>is equivalent to the following command under POSIX.

<br></p><pre>bison --debug --name-prefix=bar foo.y
</pre>

<p>The VMS file system does not permit filenames such as
<code>foo.tab.c</code>.  In the above example, the output file
would instead be named <code>foo_tab.c</code>.

</p><p></p><hr>
Node:<a name="Table%20of%20Symbols">Table of Symbols</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Glossary">Glossary</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Bison Symbols</h2>

<dl>
<dt><code>error</code>
</dt><dd>A token name reserved for error recovery.  This token may be used in
grammar rules so as to allow the Bison parser to recognize an error in
the grammar without halting the process.  In effect, a sentence
containing an error may be recognized as valid.  On a parse error, the
token <code>error</code> becomes the current look-ahead token.  Actions
corresponding to <code>error</code> are then executed, and the look-ahead
token is reset to the token that originally caused the violation. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>YYABORT</code>
</dt><dd>Macro to pretend that an unrecoverable syntax error has occurred, by
making <code>yyparse</code> return 1 immediately.  The error reporting
function <code>yyerror</code> is not called.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">The Parser Function <code>yyparse</code></a>.

<br></dd><dt><code>YYACCEPT</code>
</dt><dd>Macro to pretend that a complete utterance of the language has been
read, by making <code>yyparse</code> return 0 immediately. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">The Parser Function <code>yyparse</code></a>.

<br></dd><dt><code>YYBACKUP</code>
</dt><dd>Macro to discard a value from the parser stack and fake a look-ahead
token.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>.

<br></dd><dt><code>YYERROR</code>
</dt><dd>Macro to pretend that a syntax error has just been detected: call
<code>yyerror</code> and then perform normal error recovery if possible
(see <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>), or (if recovery is impossible) make
<code>yyparse</code> return 1.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>YYERROR_VERBOSE</code>
</dt><dd>Macro that you define with <code>#define</code> in the Bison declarations
section to request verbose, specific error message strings when
<code>yyerror</code> is called.

<br></dd><dt><code>YYINITDEPTH</code>
</dt><dd>Macro for specifying the initial size of the parser stack. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>.

<br></dd><dt><code>YYLEX_PARAM</code>
</dt><dd>Macro for specifying an extra argument (or list of extra arguments) for
<code>yyparse</code> to pass to <code>yylex</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Calling Conventions for Pure Parsers</a>.

<br></dd><dt><code>YYLTYPE</code>
</dt><dd>Macro for the data type of <code>yylloc</code>; a structure with four
members.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Data Types of Locations</a>.

<br></dd><dt><code>yyltype</code>
</dt><dd>Default value for YYLTYPE.

<br></dd><dt><code>YYMAXDEPTH</code>
</dt><dd>Macro for specifying the maximum size of the parser stack. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>.

<br></dd><dt><code>YYPARSE_PARAM</code>
</dt><dd>Macro for specifying the name of a parameter that <code>yyparse</code> should
accept.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Calling">Calling Conventions for Pure Parsers</a>.

<br></dd><dt><code>YYRECOVERING</code>
</dt><dd>Macro whose value indicates whether the parser is recovering from a
syntax error.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>.

<br></dd><dt><code>YYSTACK_USE_ALLOCA</code>
</dt><dd>Macro used to control the use of <code>alloca</code>. If defined to <code>0</code>,
the parser will not use <code>alloca</code> but <code>malloc</code> when trying to
grow its internal stacks. Do <em>not</em> define <code>YYSTACK_USE_ALLOCA</code>
to anything else.

<br></dd><dt><code>YYSTYPE</code>
</dt><dd>Macro for the data type of semantic values; <code>int</code> by default. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Data Types of Semantic Values</a>.

<br></dd><dt><code>yychar</code>
</dt><dd>External integer variable that contains the integer value of the current
look-ahead token.  (In a pure parser, it is a local variable within
<code>yyparse</code>.)  Error-recovery rule actions may examine this variable. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Special Features for Use in Actions</a>.

<br></dd><dt><code>yyclearin</code>
</dt><dd>Macro used in error-recovery rule actions.  It clears the previous
look-ahead token.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>yydebug</code>
</dt><dd>External integer variable set to zero by default.  If <code>yydebug</code>
is given a nonzero value, the parser will output information on input
symbols and parser action.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging Your Parser</a>.

<br></dd><dt><code>yyerrok</code>
</dt><dd>Macro to cause parser to recover immediately to its normal mode
after a parse error.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt><code>yyerror</code>
</dt><dd>User-supplied function to be called by <code>yyparse</code> on error.  The
function receives one argument, a pointer to a character string
containing an error message.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">The Error Reporting Function <code>yyerror</code></a>.

<br></dd><dt><code>yylex</code>
</dt><dd>User-supplied lexical analyzer function, called with no arguments
to get the next token.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">The Lexical Analyzer Function <code>yylex</code></a>.

<br></dd><dt><code>yylval</code>
</dt><dd>External variable in which <code>yylex</code> should place the semantic
value associated with a token.  (In a pure parser, it is a local
variable within <code>yyparse</code>, and its address is passed to
<code>yylex</code>.)  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Values">Semantic Values of Tokens</a>.

<br></dd><dt><code>yylloc</code>
</dt><dd>External variable in which <code>yylex</code> should place the line and column
numbers associated with a token.  (In a pure parser, it is a local
variable within <code>yyparse</code>, and its address is passed to
<code>yylex</code>.)  You can ignore this variable if you don't use the
<code>@</code> feature in the grammar actions.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Positions">Textual Positions of Tokens</a>.

<br></dd><dt><code>yynerrs</code>
</dt><dd>Global variable which Bison increments each time there is a parse error. 
(In a pure parser, it is a local variable within <code>yyparse</code>.) 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">The Error Reporting Function <code>yyerror</code></a>.

<br></dd><dt><code>yyparse</code>
</dt><dd>The parser function produced by Bison; call this function to start
parsing.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20Function">The Parser Function <code>yyparse</code></a>.

<br></dd><dt><code>%debug</code>
</dt><dd>Equip the parser for debugging.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%defines</code>
</dt><dd>Bison declaration to create a header file meant for the scanner. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%file-prefix="<var>prefix</var>"</code>
</dt><dd>Bison declaration to set tge prefix of the output files. See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%left</code>
</dt><dd>Bison declaration to assign left associativity to token(s). 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>.

<br></dd><dt><code>%name-prefix="<var>prefix</var>"</code>
</dt><dd>Bison declaration to rename the external symbols. See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%no-lines</code>
</dt><dd>Bison declaration to avoid generating <code>#line</code> directives in the
parser file.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%nonassoc</code>
</dt><dd>Bison declaration to assign non-associativity to token(s). 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>.

<br></dd><dt><code>%output="<var>filename</var>"</code>
</dt><dd>Bison declaration to set the name of the parser file. See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%prec</code>
</dt><dd>Bison declaration to assign a precedence to a specific rule. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Context-Dependent Precedence</a>.

<br></dd><dt><code>%pure-parser</code>
</dt><dd>Bison declaration to request a pure (reentrant) parser. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>.

<br></dd><dt><code>%right</code>
</dt><dd>Bison declaration to assign right associativity to token(s). 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Operator Precedence</a>.

<br></dd><dt><code>%start</code>
</dt><dd>Bison declaration to specify the start symbol.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">The Start-Symbol</a>.

<br></dd><dt><code>%token</code>
</dt><dd>Bison declaration to declare token(s) without specifying precedence. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Type Names</a>.

<br></dd><dt><code>%token-table</code>
</dt><dd>Bison declaration to include a token name table in the parser file. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>.

<br></dd><dt><code>%type</code>
</dt><dd>Bison declaration to declare nonterminals.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Nonterminal Symbols</a>.

<br></dd><dt><code>%union</code>
</dt><dd>Bison declaration to specify several possible data types for semantic
values.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">The Collection of Value Types</a>. 
</dd></dl>

<p>These are the punctuation and delimiters used in Bison input:

</p><dl>
<dt><code>%%</code>
</dt><dd>Delimiter used to separate the grammar rule section from the
Bison declarations section or the additional C code section. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">The Overall Layout of a Bison Grammar</a>.

<br></dd><dt><code>%{ %}</code>
</dt><dd>All code listed between <code>%{</code> and <code>%}</code> is copied directly to
the output file uninterpreted.  Such code forms the "C declarations"
section of the input file.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Outline">Outline of a Bison Grammar</a>.

<br></dd><dt><code>/*<small>...</small>*/</code>
</dt><dd>Comment delimiters, as in C.

<br></dd><dt><code>:</code>
</dt><dd>Separates a rule's result from its components.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Syntax of Grammar Rules</a>.

<br></dd><dt><code>;</code>
</dt><dd>Terminates a rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Syntax of Grammar Rules</a>.

<br></dd><dt><code>|</code>
</dt><dd>Separates alternate rules for the same result nonterminal. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Syntax of Grammar Rules</a>. 
</dd></dl>

<p></p><hr>
Node:<a name="Glossary">Glossary</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying%20This%20Manual">Copying This Manual</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Table%20of%20Symbols">Table of Symbols</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Glossary</h2>

<dl>
<dt>Backus-Naur Form (BNF)
</dt><dd>Formal method of specifying context-free grammars.  BNF was first used
in the <cite>ALGOL-60</cite> report, 1963.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>.

<br></dd><dt>Context-free grammars
</dt><dd>Grammars specified as rules that can be applied regardless of context. 
Thus, if there is a rule which says that an integer can be used as an
expression, integers are allowed <em>anywhere</em> an expression is
permitted.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>.

<br></dd><dt>Dynamic allocation
</dt><dd>Allocation of memory that occurs during execution, rather than at
compile time or on entry to a function.

<br></dd><dt>Empty string
</dt><dd>Analogous to the empty set in set theory, the empty string is a
character string of length zero.

<br></dd><dt>Finite-state stack machine
</dt><dd>A "machine" that has discrete states in which it is said to exist at
each instant in time.  As input to the machine is processed, the
machine moves from state to state as specified by the logic of the
machine.  In the case of the parser, the input is the language being
parsed, and the states correspond to various stages in the grammar
rules.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">The Bison Parser Algorithm</a>.

<br></dd><dt>Grouping
</dt><dd>A language construct that is (in general) grammatically divisible;
for example, `expression' or `declaration' in C. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>.

<br></dd><dt>Infix operator
</dt><dd>An arithmetic operator that is placed between the operands on which it
performs some operation.

<br></dd><dt>Input stream
</dt><dd>A continuous flow of data between devices or programs.

<br></dd><dt>Language construct
</dt><dd>One of the typical usage schemas of the language.  For example, one of
the constructs of the C language is the <code>if</code> statement. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>.

<br></dd><dt>Left associativity
</dt><dd>Operators having left associativity are analyzed from left to right:
<code>a+b+c</code> first computes <code>a+b</code> and then combines with
<code>c</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Operator Precedence</a>.

<br></dd><dt>Left recursion
</dt><dd>A rule whose result symbol is also its first component symbol; for
example, <code>expseq1 : expseq1 ',' exp;</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursive Rules</a>.

<br></dd><dt>Left-to-right parsing
</dt><dd>Parsing a sentence of a language by analyzing it token by token from
left to right.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">The Bison Parser Algorithm</a>.

<br></dd><dt>Lexical analyzer (scanner)
</dt><dd>A function that reads an input stream and returns tokens one by one. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">The Lexical Analyzer Function <code>yylex</code></a>.

<br></dd><dt>Lexical tie-in
</dt><dd>A flag, set by actions in the grammar rules, which alters the way
tokens are parsed.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>.

<br></dd><dt>Literal string token
</dt><dd>A token which consists of two or more fixed characters.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>.

<br></dd><dt>Look-ahead token
</dt><dd>A token already read but not yet shifted.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead Tokens</a>.

<br></dd><dt>LALR(1)
</dt><dd>The class of context-free grammars that Bison (like most other parser
generators) can handle; a subset of LR(1).  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mysterious Reduce/Reduce Conflicts</a>.

<br></dd><dt>LR(1)
</dt><dd>The class of context-free grammars in which at most one token of
look-ahead is needed to disambiguate the parsing of any piece of input.

<br></dd><dt>Nonterminal symbol
</dt><dd>A grammar symbol standing for a grammatical construct that can
be expressed through rules in terms of smaller constructs; in other
words, a construct that is not a token.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>.

<br></dd><dt>Parse error
</dt><dd>An error encountered during parsing of an input stream due to invalid
syntax.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>.

<br></dd><dt>Parser
</dt><dd>A function that recognizes valid sentences of a language by analyzing
the syntax structure of a set of tokens passed to it from a lexical
analyzer.

<br></dd><dt>Postfix operator
</dt><dd>An arithmetic operator that is placed after the operands upon which it
performs some operation.

<br></dd><dt>Reduction
</dt><dd>Replacing a string of nonterminals and/or terminals with a single
nonterminal, according to a grammar rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">The Bison Parser Algorithm</a>.

<br></dd><dt>Reentrant
</dt><dd>A reentrant subprogram is a subprogram which can be in invoked any
number of times in parallel, without interference between the various
invocations.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">A Pure (Reentrant) Parser</a>.

<br></dd><dt>Reverse polish notation
</dt><dd>A language in which all operators are postfix operators.

<br></dd><dt>Right recursion
</dt><dd>A rule whose result symbol is also its last component symbol; for
example, <code>expseq1: exp ',' expseq1;</code>.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursive Rules</a>.

<br></dd><dt>Semantics
</dt><dd>In computer languages, the semantics are specified by the actions
taken for each instance of the language, i.e., the meaning of
each statement.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Defining Language Semantics</a>.

<br></dd><dt>Shift
</dt><dd>A parser is said to shift when it makes the choice of analyzing
further input from the stream rather than reducing immediately some
already-recognized rule.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">The Bison Parser Algorithm</a>.

<br></dd><dt>Single-character literal
</dt><dd>A single character that is recognized and interpreted as is. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">From Formal Rules to Bison Input</a>.

<br></dd><dt>Start symbol
</dt><dd>The nonterminal symbol that stands for a complete valid utterance in
the language being parsed.  The start symbol is usually listed as the
first nonterminal symbol in a language specification. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">The Start-Symbol</a>.

<br></dd><dt>Symbol table
</dt><dd>A data structure where symbol names and associated data are stored
during parsing to allow for recognition and use of existing
information in repeated uses of a symbol.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>.

<br></dd><dt>Token
</dt><dd>A basic, grammatically indivisible unit of a language.  The symbol
that describes a token in the grammar is a terminal symbol. 
The input of the Bison parser is a stream of tokens which comes from
the lexical analyzer.  See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>.

<br></dd><dt>Terminal symbol
</dt><dd>A grammar symbol that has no rules in the grammar and therefore is
grammatically indivisible.  The piece of text it represents is a token. 
See <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Languages and Context-Free Grammars</a>. 
</dd></dl>

<p></p><hr>
Node:<a name="Copying%20This%20Manual">Copying This Manual</a>,
Next:<a rel="next" accesskey="n" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Index">Index</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Glossary">Glossary</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Copying This Manual</h2>

<ul>
<li><a accesskey="1" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>:   License for copying this manual. 
</li></ul>

<p></p><hr>
Node:<a name="GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying%20This%20Manual">Copying This Manual</a>
<br>

<h3>GNU Free Documentation License</h3>

<div align="center">Version 1.1, March 2000</div>
<br><pre>Copyright © 2000 Free Software Foundation, Inc.
59 Temple Place, Suite 330, Boston, MA  02111-1307, USA

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre>

<ol type="1" start="0">
<li>PREAMBLE

<p>The purpose of this License is to make a manual, textbook, or other
written document <dfn>free</dfn> in the sense of freedom: to assure everyone
the effective freedom to copy and redistribute it, with or without
modifying it, either commercially or noncommercially.  Secondarily,
this License preserves for the author and publisher a way to get
credit for their work, while not being considered responsible for
modifications made by others.

</p><p>This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense.  It
complements the GNU General Public License, which is a copyleft
license designed for free software.

</p><p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does.  But this License is not limited to software manuals;
it can be used for any textual work, regardless of subject matter or
whether it is published as a printed book.  We recommend this License
principally for works whose purpose is instruction or reference.

</p></li><li>APPLICABILITY AND DEFINITIONS

<p>This License applies to any manual or other work that contains a
notice placed by the copyright holder saying it can be distributed
under the terms of this License.  The "Document", below, refers to any
such manual or work.  Any member of the public is a licensee, and is
addressed as "you".

</p><p>A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.

</p><p>A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document's overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject.  (For example, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.)  The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.

</p><p>The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.

</p><p>The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.

</p><p>A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the
general public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input
to text formatters.  A copy made in an otherwise Transparent file
format whose markup has been designed to thwart or discourage
subsequent modification by readers is not Transparent.  A copy that is
not "Transparent" is called "Opaque".

</p><p>Examples of suitable formats for Transparent copies include plain
<small>ASCII</small> without markup, Texinfo input format, LaTeX input format,
<small>SGML</small> or <small>XML</small> using a publicly available
<small>DTD</small>, and standard-conforming simple <small>HTML</small> designed
for human modification.  Opaque formats include PostScript,
<small>PDF</small>, proprietary formats that can be read and edited only by
proprietary word processors, <small>SGML</small> or <small>XML</small> for which
the <small>DTD</small> and/or processing tools are not generally available,
and the machine-generated <small>HTML</small> produced by some word
processors for output purposes only.

</p><p>The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page.  For works in
formats which do not have any title page as such, "Title Page" means
the text near the most prominent appearance of the work's title,
preceding the beginning of the body of the text.

</p></li><li>VERBATIM COPYING

<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License.  You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute.  However, you may accept
compensation in exchange for copies.  If you distribute a large enough
number of copies you must also follow the conditions in section 3.

</p><p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.

</p></li><li>COPYING IN QUANTITY

<p>If you publish printed copies of the Document numbering more than 100,
and the Document's license notice requires Cover Texts, you must enclose
the copies in covers that carry, clearly and legibly, all these Cover
Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on
the back cover.  Both covers must also clearly and legibly identify
you as the publisher of these copies.  The front cover must present
the full title with all words of the title equally prominent and
visible.  You may add other material on the covers in addition. 
Copying with changes limited to the covers, as long as they preserve
the title of the Document and satisfy these conditions, can be treated
as verbatim copying in other respects.

</p><p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.

</p><p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a publicly-accessible computer-network location containing a complete
Transparent copy of the Document, free of added material, which the
general network-using public has access to download anonymously at no
charge using public-standard network protocols.  If you use the latter
option, you must take reasonably prudent steps, when you begin
distribution of Opaque copies in quantity, to ensure that this
Transparent copy will remain thus accessible at the stated location
until at least one year after the last time you distribute an Opaque
copy (directly or through your agents or retailers) of that edition to
the public.

</p><p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.

</p></li><li>MODIFICATIONS

<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release
the Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy
of it.  In addition, you must do these things in the Modified Version:

</p><ol type="A" start="1">
<p></p><li>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions
(which should, if there were any, be listed in the History section
of the Document).  You may use the same title as a previous version
if the original publisher of that version gives permission.

</li><li>List on the Title Page, as authors, one or more persons or entities
responsible for authorship of the modifications in the Modified
Version, together with at least five of the principal authors of the
Document (all of its principal authors, if it has less than five).

</li><li>State on the Title page the name of the publisher of the
Modified Version, as the publisher.

</li><li>Preserve all the copyright notices of the Document.

</li><li>Add an appropriate copyright notice for your modifications
adjacent to the other copyright notices.

</li><li>Include, immediately after the copyright notices, a license notice
giving the public permission to use the Modified Version under the
terms of this License, in the form shown in the Addendum below.

</li><li>Preserve in that license notice the full lists of Invariant Sections
and required Cover Texts given in the Document's license notice.

</li><li>Include an unaltered copy of this License.

</li><li>Preserve the section entitled "History", and its title, and add to
it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page.  If
there is no section entitled "History" in the Document, create one
stating the title, year, authors, and publisher of the Document as
given on its Title Page, then add an item describing the Modified
Version as stated in the previous sentence.

</li><li>Preserve the network location, if any, given in the Document for
public access to a Transparent copy of the Document, and likewise
the network locations given in the Document for previous versions
it was based on.  These may be placed in the "History" section. 
You may omit a network location for a work that was published at
least four years before the Document itself, or if the original
publisher of the version it refers to gives permission.

</li><li>In any section entitled "Acknowledgments" or "Dedications",
preserve the section's title, and preserve in the section all the
substance and tone of each of the contributor acknowledgments
and/or dedications given therein.

</li><li>Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles.  Section numbers
or the equivalent are not considered part of the section titles.

</li><li>Delete any section entitled "Endorsements".  Such a section
may not be included in the Modified Version.

</li><li>Do not retitle any existing section as "Endorsements"
or to conflict in title with any Invariant Section.
</li></ol>

<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant.  To do this, add their titles to the
list of Invariant Sections in the Modified Version's license notice. 
These titles must be distinct from any other section titles.

</p><p>You may add a section entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties--for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.

</p><p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version.  Only one passage of
Front-Cover Text and one of Back-Cover Text may be added by (or
through arrangements made by) any one entity.  If the Document already
includes a cover text for the same cover, previously added by you or
by arrangement made by the same entity you are acting on behalf of,
you may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.

</p><p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.

</p></li><li>COMBINING DOCUMENTS

<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice.

</p><p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy.  If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number. 
Make the same adjustment to the section titles in the list of
Invariant Sections in the license notice of the combined work.

</p><p>In the combination, you must combine any sections entitled "History"
in the various original documents, forming one section entitled
"History"; likewise combine any sections entitled "Acknowledgments",
and any sections entitled "Dedications".  You must delete all sections
entitled "Endorsements."

</p></li><li>COLLECTIONS OF DOCUMENTS

<p>You may make a collection consisting of the Document and other documents
released under this License, and replace the individual copies of this
License in the various documents with a single copy that is included in
the collection, provided that you follow the rules of this License for
verbatim copying of each of the documents in all other respects.

</p><p>You may extract a single document from such a collection, and distribute
it individually under this License, provided you insert a copy of this
License into the extracted document, and follow this License in all
other respects regarding verbatim copying of that document.

</p></li><li>AGGREGATION WITH INDEPENDENT WORKS

<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, does not as a whole count as a Modified Version
of the Document, provided no compilation copyright is claimed for the
compilation.  Such a compilation is called an "aggregate", and this
License does not apply to the other self-contained works thus compiled
with the Document, on account of their being thus compiled, if they
are not themselves derivative works of the Document.

</p><p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one quarter
of the entire aggregate, the Document's Cover Texts may be placed on
covers that surround only the Document within the aggregate. 
Otherwise they must appear on covers around the whole aggregate.

</p></li><li>TRANSLATION

<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4. 
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections.  You may include a
translation of this License provided that you also include the
original English version of this License.  In case of a disagreement
between the translation and the original English version of this
License, the original English version will prevail.

</p></li><li>TERMINATION

<p>You may not copy, modify, sublicense, or distribute the Document except
as expressly provided for under this License.  Any other attempt to
copy, modify, sublicense or distribute the Document is void, and will
automatically terminate your rights under this License.  However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such
parties remain in full compliance.

</p></li><li>FUTURE REVISIONS OF THIS LICENSE

<p>The Free Software Foundation may publish new, revised versions
of the GNU Free Documentation License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.  See
<a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.

</p><p>Each version of the License is given a distinguishing version number. 
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation.  If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.
</p></li></ol>

<h4>ADDENDUM: How to use this License for your documents</h4>

<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and
license notices just after the title page:

<br></p><pre>  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.1
  or any later version published by the Free Software Foundation;
  with the Invariant Sections being <var>list their titles</var>, with the
  Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts being <var>list</var>.
  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre>

<p>If you have no Invariant Sections, write "with no Invariant Sections"
instead of saying which ones are invariant.  If you have no
Front-Cover Texts, write "no Front-Cover Texts" instead of
"Front-Cover Texts being <var>list</var>"; likewise for Back-Cover Texts.

</p><p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License,
to permit their use in free software.

</p><p></p><hr>
Node:<a name="Index">Index</a>,
Previous:<a rel="previous" accesskey="p" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Copying%20This%20Manual">Copying This Manual</a>,
Up:<a rel="up" accesskey="u" href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Top">Top</a>
<br>

<h2>Index</h2>

<ul compact="">
<li>action: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>
</li><li>action data types: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Action Types</a>
</li><li>action features summary: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Action Features</a>
</li><li>actions in mid-rule: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Mid-Rule Actions</a>
</li><li>actions, location: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions%20and%20Locations">Actions and Locations</a>
</li><li>actions, semantic: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>
</li><li>additional C code section: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Code">C Code</a>
</li><li>algorithm of parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
</li><li>associativity: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Why%20Precedence">Why Precedence</a>
</li><li>Backus-Naur form: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>Bison declaration summary: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>
</li><li>Bison declarations: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
</li><li>Bison declarations (introduction): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">Bison Declarations</a>
</li><li>Bison grammar: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>
</li><li>Bison invocation: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
</li><li>Bison parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>
</li><li>Bison parser algorithm: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
</li><li>Bison symbols, table of: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Table%20of%20Symbols">Table of Symbols</a>
</li><li>Bison utility: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>
</li><li>BISON_HAIRY: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>
</li><li>BISON_SIMPLE: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>
</li><li>BNF: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>C code, section for additional: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Code">C Code</a>
</li><li>C declarations section: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">C Declarations</a>
</li><li>C-language interface: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>
</li><li><code>calc</code>: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>
</li><li>calculator, infix notation: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>
</li><li>calculator, location tracking: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>
</li><li>calculator, multi-function: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>
</li><li>calculator, simple: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
</li><li>character token: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>compiling the parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Compile">Rpcalc Compile</a>
</li><li>conflicts: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>
</li><li>conflicts, reduce/reduce: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce</a>
</li><li>conflicts, suppressing warnings of: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>
</li><li>context-dependent precedence: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>
</li><li>context-free grammar: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>controlling function: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">Rpcalc Main</a>
</li><li>dangling <code>else</code>: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>
</li><li>data type of locations: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Location Type</a>
</li><li>data types in actions: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Types">Action Types</a>
</li><li>data types of semantic values: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>
</li><li>debugging: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging</a>
</li><li>declaration summary: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>
</li><li>declarations, Bison: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Declarations">Declarations</a>
</li><li>declarations, Bison (introduction): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Declarations">Bison Declarations</a>
</li><li>declarations, C: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#C%20Declarations">C Declarations</a>
</li><li>declaring literal string tokens: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Decl</a>
</li><li>declaring operator precedence: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>
</li><li>declaring the start symbol: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>
</li><li>declaring token type names: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Decl</a>
</li><li>declaring value types: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">Union Decl</a>
</li><li>declaring value types, nonterminals: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Type Decl</a>
</li><li>default action: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions">Actions</a>
</li><li>default data type: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>
</li><li>default location type: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Type">Location Type</a>
</li><li>default stack limit: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>
</li><li>default start symbol: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>
</li><li>defining language semantics: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
</li><li>DOS: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>
</li><li><code>else</code>, dangling: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>
</li><li>environment variables: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Environment%20Variables">Environment Variables</a>
</li><li>error recovery: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>
</li><li>error recovery, simple: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Simple%20Error%20Recovery">Simple Error Recovery</a>
</li><li>error reporting function: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>
</li><li>error reporting routine: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Error">Rpcalc Error</a>
</li><li>examples, simple: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
</li><li>exercises: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Exercises">Exercises</a>
</li><li>extension limitations under DOS: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Extension%20Limitations%20Under%20DOS">Extension Limitations Under DOS</a>
</li><li>FDL, GNU Free Documentation License: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#GNU%20Free%20Documentation%20License">GNU Free Documentation License</a>
</li><li>file format: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>
</li><li>finite-state machine: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>
</li><li>formal grammar: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>
</li><li>format of grammar file: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>
</li><li>glossary: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Glossary">Glossary</a>
</li><li>grammar file: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>
</li><li>grammar rule syntax: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>
</li><li>grammar rules section: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">Grammar Rules</a>
</li><li>grammar, Bison: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20in%20Bison">Grammar in Bison</a>
</li><li>grammar, context-free: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>grouping, syntactic: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>infix notation calculator: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Infix%20Calc">Infix Calc</a>
</li><li>interface: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Interface">Interface</a>
</li><li>introduction: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Introduction">Introduction</a>
</li><li>invoking Bison: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
</li><li>invoking Bison under VMS: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#VMS%20Invocation">VMS Invocation</a>
</li><li>LALR(1): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mystery Conflicts</a>
</li><li>language semantics, defining: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantics">Semantics</a>
</li><li>layout of Bison grammar: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Layout">Grammar Layout</a>
</li><li>left recursion: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>
</li><li>lexical analyzer: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical">Lexical</a>
</li><li>lexical analyzer, purpose: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>
</li><li>lexical analyzer, writing: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">Rpcalc Lexer</a>
</li><li>lexical tie-in: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Lexical%20Tie-ins">Lexical Tie-ins</a>
</li><li>literal string token: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>literal token: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>location: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>, <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations Overview</a>
</li><li>location actions: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Actions%20and%20Locations">Actions and Locations</a>
</li><li>location tracking calculator: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>
</li><li>look-ahead token: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Look-Ahead">Look-Ahead</a>
</li><li>LR(1): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mystery%20Conflicts">Mystery Conflicts</a>
</li><li><code>ltcalc</code>: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Location%20Tracking%20Calc">Location Tracking Calc</a>
</li><li>main function in simple example: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Main">Rpcalc Main</a>
</li><li><code>mfcalc</code>: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>
</li><li>mid-rule actions: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mid-Rule%20Actions">Mid-Rule Actions</a>
</li><li>multi-function calculator: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Multi-function%20Calc">Multi-function Calc</a>
</li><li>multicharacter literal: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>mutual recursion: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>
</li><li>nonterminal symbol: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>operator precedence: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>
</li><li>operator precedence, declaring: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>
</li><li>options for invoking Bison: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Invocation">Invocation</a>
</li><li>overflow of parser stack: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>
</li><li>parse error: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>
</li><li>parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Bison%20Parser">Bison Parser</a>
</li><li>parser stack: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
</li><li>parser stack overflow: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>
</li><li>parser state: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>
</li><li>polish notation calculator: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
</li><li>position, textual: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>, <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations Overview</a>
</li><li>precedence declarations: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence%20Decl">Precedence Decl</a>
</li><li>precedence of operators: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Precedence">Precedence</a>
</li><li>precedence, context-dependent: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>
</li><li>precedence, unary operator: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>
</li><li>preventing warnings about conflicts: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>
</li><li>pure parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">Pure Decl</a>
</li><li>recovery from errors: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Recovery">Error Recovery</a>
</li><li>recursive rule: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>
</li><li>reduce/reduce conflict: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Reduce%2fReduce">Reduce/Reduce</a>
</li><li>reduction: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
</li><li>reentrant parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Pure%20Decl">Pure Decl</a>
</li><li>reverse polish notation: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
</li><li>right recursion: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Recursion">Recursion</a>
</li><li><code>rpcalc</code>: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#RPN%20Calc">RPN Calc</a>
</li><li>rule syntax: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>
</li><li>rules section for grammar: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Grammar%20Rules">Grammar Rules</a>
</li><li>running Bison (introduction): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Gen">Rpcalc Gen</a>
</li><li>semantic actions: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Actions">Semantic Actions</a>
</li><li>semantic value: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>
</li><li>semantic value type: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>
</li><li>shift/reduce conflicts: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Shift%2fReduce">Shift/Reduce</a>
</li><li>shifting: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
</li><li>simple examples: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Examples">Examples</a>
</li><li>single-character literal: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>stack overflow: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stack%20Overflow">Stack Overflow</a>
</li><li>stack, parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Algorithm">Algorithm</a>
</li><li>stages in using Bison: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages</a>
</li><li>start symbol: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>start symbol, declaring: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Start%20Decl">Start Decl</a>
</li><li>state (of parser): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Parser%20States">Parser States</a>
</li><li>string token: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>summary, action features: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Action%20Features">Action Features</a>
</li><li>summary, Bison declaration: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Decl%20Summary">Decl Summary</a>
</li><li>suppressing conflict warnings: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>
</li><li>symbol: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>symbol table example: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Mfcalc%20Symtab">Mfcalc Symtab</a>
</li><li>symbols (abstract): <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>symbols in Bison, table of: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Table%20of%20Symbols">Table of Symbols</a>
</li><li>syntactic grouping: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>syntax error: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Error%20Reporting">Error Reporting</a>
</li><li>syntax of grammar rules: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rules">Rules</a>
</li><li>terminal symbol: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>textual position: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations">Locations</a>, <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Locations%20Overview">Locations Overview</a>
</li><li>token: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Language%20and%20Grammar">Language and Grammar</a>
</li><li>token type: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Symbols">Symbols</a>
</li><li>token type names, declaring: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Token%20Decl">Token Decl</a>
</li><li>tracing the parser: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Debugging">Debugging</a>
</li><li>unary operator precedence: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Contextual%20Precedence">Contextual Precedence</a>
</li><li>using Bison: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Stages">Stages</a>
</li><li>value type, semantic: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Value%20Type">Value Type</a>
</li><li>value types, declaring: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Union%20Decl">Union Decl</a>
</li><li>value types, nonterminals, declaring: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Type%20Decl">Type Decl</a>
</li><li>value, semantic: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Semantic%20Values">Semantic Values</a>
</li><li>VMS: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#VMS%20Invocation">VMS Invocation</a>
</li><li>warnings, preventing: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Expect%20Decl">Expect Decl</a>
</li><li>writing a lexical analyzer: <a href="ftp://ftp.gnu.org/old-gnu/Manuals/bison-1.35/html_mono/bison.html#Rpcalc%20Lexer">Rpcalc Lexer</a>
</li></ul>




</body></html>