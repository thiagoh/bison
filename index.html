<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>Bison 3.0.4</title>

    <meta name="description" content="Bison 3.0.4">
    <meta name="keywords" content="Bison 3.0.4">
    <meta name="resource-type" content="document">
    <meta name="distribution" content="global">
    <meta name="Generator" content="makeinfo">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href="#Top" rel="start" title="Top">
    <link href="#Index-of-Terms" rel="index" title="Index of Terms">
    <link href="#SEC_Contents" rel="contents" title="Table of Contents">
    <link href="dir.html#Top" rel="up" title="(dir)">
    <style type="text/css">
        body {
            margin: 0 auto;
            text-align: justify;
            color: #111;
            background: #f9f9f9;
            font-family: 'Open Sans', Verdana, Helvetica, Arial, sans-serif;
            line-height: 1.7;
        }
        
        main {
            margin: 0 auto;
            width: 80%;
            font-size: 1.2em;
            margin-top: 100px;
        }
        
        .nav {
            position: fixed;
            width: 100%;
            background: #f9f9f9;
            padding: 10px;
            box-sizing: border-box;
            top: 0;
            border-bottom: 1px solid #cab6a3;
        }
        
        a {
            color: #111;
        }
        
        a.repo {
            float: right;
        }
        
        .button {
            cursor: pointer;
        }
        
        .button:hover {
            text-decoration: underline;
        }
        
        .spacer-20 {
            margin: 0 20px 0 0;
            display: inline;
        }
        
        strike {
            background: #c66;
            padding: 0 4px;
        }
        
        @media screen and (max-width: 1024px) {
            .nav {
                font-size: 2em;
            }
            main {
                width: 94%;
                font-size: 0.9em;
            }
        }
        
        @media print {
            main {
                width: 100%;
                font-size: 0.9em;
            }
        }
        
        a.summary-letter {
            text-decoration: none
        }
        
        blockquote.smallquotation {
            font-size: smaller
        }
        
        div.display {
            margin-left: 3.2em
        }
        
        div.example {
            margin-left: 3.2em
        }
        
        div.indentedblock {
            margin-left: 3.2em
        }
        
        div.lisp {
            margin-left: 3.2em
        }
        
        div.smalldisplay {
            margin-left: 3.2em
        }
        
        div.smallexample {
            margin-left: 3.2em
        }
        
        div.smallindentedblock {
            margin-left: 3.2em;
            font-size: smaller
        }
        
        div.smalllisp {
            margin-left: 3.2em
        }
        
        kbd {
            font-style: oblique
        }
        
        pre.display {
            font-family: inherit
        }
        
        pre.format {
            font-family: inherit
        }
        
        pre.menu-comment {
            font-family: serif
        }
        
        pre.menu-preformatted {
            font-family: serif
        }
        
        pre.smalldisplay {
            font-family: inherit;
            font-size: smaller
        }
        
        pre.smallexample {
            font-size: smaller
        }
        
        pre.smallformat {
            font-family: inherit;
            font-size: smaller
        }
        
        pre.smalllisp {
            font-size: smaller
        }
        
        span.nocodebreak {
            white-space: nowrap
        }
        
        span.nolinebreak {
            white-space: nowrap
        }
        
        span.roman {
            font-family: serif;
            font-weight: normal
        }
        
        span.sansserif {
            font-family: sans-serif;
            font-weight: normal
        }
        
        ul.no-bullet {
            list-style: none
        }
    </style>

    <script>
        var initialFontSize = window.innerWidth <= 1024 ? '0.9em' : '1.2em',
            bgColors = [
                ['#f9f9f9', '#111'],
                // ['#e3ceb9', '#111'],
                ['#e8d4c1', '#111'],
                ['#111', '#f9f9f9'],
            ],
            bgColorIndex = 0;

        function changeBgColor() {

            var colors,
                nav = document.getElementById('nav'),
                arras = document.getElementsByTagName('a');

            if (++bgColorIndex >= bgColors.length) {
                bgColorIndex = 0;
            }

            colors = bgColors[bgColorIndex];

            document.body.style.backgroundColor = colors[0];
            nav.style.backgroundColor = colors[0];
            document.body.style.color = colors[1];

            for (var i = 0; i < arras.length; i++) {
                arras[i].style.color = colors[1];
            }
        }

        function fontSize(delta) {

            var main = document.getElementById('main');

            if (main.style.fontSize.trim() === '') {
                main.style.fontSize = initialFontSize;
            }

            var size = parseFloat(main.style.fontSize);

            if (delta > 0) {
                size += 0.1;
            } else if (delta < 0) {
                size -= 0.1;
            } else {
                return;
            }

            main.style.fontSize = size + 'em';
            // console.log(main.style.fontSize);
        }
    </script>

</head>

<body>

    <div id="nav" class="nav">
        <a href="https://www.gnu.org/software/bison/manual/bison.html">Bison 3.0.4 Manual</a>
        <div class="spacer-20">&nbsp;</div>
        <span class="button" onclick="fontSize(+1)"> +A</span>
        <span> | </span>
        <span class="button" onclick="fontSize(-1)"> -a</span>
        <span> | </span>
        <span class="button" onclick="changeBgColor()"> change bgColor</span>
        <a class="repo" href="https://github.com/thiagoh/bison"> GitHub</a>
    </div>
    <main id="main">
        <div class="title">
            <h1 class="settitle" align="center">Bison 3.0.4</h1>
        </div>

        <a name="SEC_Contents"></a>
        <h2 class="contents-heading">Table of Contents</h2>

        <div class="contents">

            <ul class="no-bullet">
                <li><a name="toc-Introduction-1" href="#Introduction">Introduction</a></li>
                <li><a name="toc-Conditions-for-Using-Bison" href="#Conditions">Conditions for Using Bison</a></li>
                <li><a name="toc-GNU-GENERAL-PUBLIC-LICENSE" href="#Copying">GNU GENERAL PUBLIC LICENSE</a></li>
                <li><a name="toc-The-Concepts-of-Bison" href="#Concepts">1 The Concepts of Bison</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Languages-and-Context_002dFree-Grammars" href="#Language-and-Grammar">1.1 Languages and Context-Free Grammars</a></li>
                        <li><a name="toc-From-Formal-Rules-to-Bison-Input" href="#Grammar-in-Bison">1.2 From Formal Rules to Bison Input</a></li>
                        <li><a name="toc-Semantic-Values-1" href="#Semantic-Values">1.3 Semantic Values</a></li>
                        <li><a name="toc-Semantic-Actions-1" href="#Semantic-Actions">1.4 Semantic Actions</a></li>
                        <li><a name="toc-Writing-GLR-Parsers" href="#GLR-Parsers">1.5 Writing GLR Parsers</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Using-GLR-on-Unambiguous-Grammars" href="#Simple-GLR-Parsers">1.5.1 Using GLR on Unambiguous Grammars</a></li>
                                <li><a name="toc-Using-GLR-to-Resolve-Ambiguities" href="#Merging-GLR-Parses">1.5.2 Using GLR to Resolve Ambiguities</a></li>
                                <li><a name="toc-GLR-Semantic-Actions-1" href="#GLR-Semantic-Actions">1.5.3 GLR Semantic Actions</a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-Deferred-semantic-actions" href="#Deferred-semantic-actions">1.5.3.1 Deferred semantic actions</a></li>
                                        <li><a name="toc-YYERROR" href="#YYERROR">1.5.3.2 YYERROR</a></li>
                                        <li><a name="toc-Restrictions-on-semantic-values-and-locations" href="#Restrictions-on-semantic-values-and-locations">1.5.3.3 Restrictions on semantic values and locations</a></li>
                                    </ul>
                                </li>
                                <li><a name="toc-Controlling-a-Parse-with-Arbitrary-Predicates" href="#Semantic-Predicates">1.5.4 Controlling a Parse with Arbitrary Predicates</a></li>
                                <li><a name="toc-Considerations-when-Compiling-GLR-Parsers" href="#Compiler-Requirements">1.5.5 Considerations when Compiling GLR Parsers</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Locations-1" href="#Locations">1.6 Locations</a></li>
                        <li><a name="toc-Bison-Output_003a-the-Parser-Implementation-File" href="#Bison-Parser">1.7 Bison Output: the Parser Implementation File</a></li>
                        <li><a name="toc-Stages-in-Using-Bison" href="#Stages">1.8 Stages in Using Bison</a></li>
                        <li><a name="toc-The-Overall-Layout-of-a-Bison-Grammar" href="#Grammar-Layout">1.9 The Overall Layout of a Bison Grammar</a></li>
                    </ul>
                </li>
                <li><a name="toc-Examples-1" href="#Examples">2 Examples</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Reverse-Polish-Notation-Calculator" href="#RPN-Calc">2.1 Reverse Polish Notation Calculator</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Declarations-for-rpcalc" href="#Rpcalc-Declarations">2.1.1 Declarations for <code>rpcalc</code></a></li>
                                <li><a name="toc-Grammar-Rules-for-rpcalc" href="#Rpcalc-Rules">2.1.2 Grammar Rules for <code>rpcalc</code></a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-Explanation-of-input" href="#Rpcalc-Input">2.1.2.1 Explanation of <code>input</code></a></li>
                                        <li><a name="toc-Explanation-of-line" href="#Rpcalc-Line">2.1.2.2 Explanation of <code>line</code></a></li>
                                        <li><a name="toc-Explanation-of-expr" href="#Rpcalc-Expr">2.1.2.3 Explanation of <code>expr</code></a></li>
                                    </ul>
                                </li>
                                <li><a name="toc-The-rpcalc-Lexical-Analyzer" href="#Rpcalc-Lexer">2.1.3 The <code>rpcalc</code> Lexical Analyzer</a></li>
                                <li><a name="toc-The-Controlling-Function" href="#Rpcalc-Main">2.1.4 The Controlling Function</a></li>
                                <li><a name="toc-The-Error-Reporting-Routine" href="#Rpcalc-Error">2.1.5 The Error Reporting Routine</a></li>
                                <li><a name="toc-Running-Bison-to-Make-the-Parser" href="#Rpcalc-Generate">2.1.6 Running Bison to Make the Parser</a></li>
                                <li><a name="toc-Compiling-the-Parser-Implementation-File" href="#Rpcalc-Compile">2.1.7 Compiling the Parser Implementation File</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Infix-Notation-Calculator_003a-calc" href="#Infix-Calc">2.2 Infix Notation Calculator: <code>calc</code></a></li>
                        <li><a name="toc-Simple-Error-Recovery-1" href="#Simple-Error-Recovery">2.3 Simple Error Recovery</a></li>
                        <li><a name="toc-Location-Tracking-Calculator_003a-ltcalc" href="#Location-Tracking-Calc">2.4 Location Tracking Calculator: <code>ltcalc</code></a>
                            <ul class="no-bullet">
                                <li><a name="toc-Declarations-for-ltcalc" href="#Ltcalc-Declarations">2.4.1 Declarations for <code>ltcalc</code></a></li>
                                <li><a name="toc-Grammar-Rules-for-ltcalc" href="#Ltcalc-Rules">2.4.2 Grammar Rules for <code>ltcalc</code></a></li>
                                <li><a name="toc-The-ltcalc-Lexical-Analyzer_002e" href="#Ltcalc-Lexer">2.4.3 The <code>ltcalc</code> Lexical Analyzer.</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Multi_002dFunction-Calculator_003a-mfcalc" href="#Multi_002dfunction-Calc">2.5 Multi-Function Calculator: <code>mfcalc</code></a>
                            <ul class="no-bullet">
                                <li><a name="toc-Declarations-for-mfcalc" href="#Mfcalc-Declarations">2.5.1 Declarations for <code>mfcalc</code></a></li>
                                <li><a name="toc-Grammar-Rules-for-mfcalc" href="#Mfcalc-Rules">2.5.2 Grammar Rules for <code>mfcalc</code></a></li>
                                <li><a name="toc-The-mfcalc-Symbol-Table" href="#Mfcalc-Symbol-Table">2.5.3 The <code>mfcalc</code> Symbol Table</a></li>
                                <li><a name="toc-The-mfcalc-Lexer" href="#Mfcalc-Lexer">2.5.4 The <code>mfcalc</code> Lexer</a></li>
                                <li><a name="toc-The-mfcalc-Main" href="#Mfcalc-Main">2.5.5 The <code>mfcalc</code> Main</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Exercises-1" href="#Exercises">2.6 Exercises</a></li>
                    </ul>
                </li>
                <li><a name="toc-Bison-Grammar-Files" href="#Grammar-File">3 Bison Grammar Files</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Outline-of-a-Bison-Grammar" href="#Grammar-Outline">3.1 Outline of a Bison Grammar</a>
                            <ul class="no-bullet">
                                <li><a name="toc-The-prologue" href="#Prologue">3.1.1 The prologue</a></li>
                                <li><a name="toc-Prologue-Alternatives-1" href="#Prologue-Alternatives">3.1.2 Prologue Alternatives</a></li>
                                <li><a name="toc-The-Bison-Declarations-Section" href="#Bison-Declarations">3.1.3 The Bison Declarations Section</a></li>
                                <li><a name="toc-The-Grammar-Rules-Section" href="#Grammar-Rules">3.1.4 The Grammar Rules Section</a></li>
                                <li><a name="toc-The-epilogue" href="#Epilogue">3.1.5 The epilogue</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Symbols_002c-Terminal-and-Nonterminal" href="#Symbols">3.2 Symbols, Terminal and Nonterminal</a></li>
                        <li><a name="toc-Grammar-Rules-1" href="#Rules">3.3 Grammar Rules</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Syntax-of-Grammar-Rules" href="#Rules-Syntax">3.3.1 Syntax of Grammar Rules</a></li>
                                <li><a name="toc-Empty-Rules-1" href="#Empty-Rules">3.3.2 Empty Rules</a></li>
                                <li><a name="toc-Recursive-Rules" href="#Recursion">3.3.3 Recursive Rules</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Defining-Language-Semantics" href="#Semantics">3.4 Defining Language Semantics</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Data-Types-of-Semantic-Values" href="#Value-Type">3.4.1 Data Types of Semantic Values</a></li>
                                <li><a name="toc-More-Than-One-Value-Type" href="#Multiple-Types">3.4.2 More Than One Value Type</a></li>
                                <li><a name="toc-Generating-the-Semantic-Value-Type" href="#Type-Generation">3.4.3 Generating the Semantic Value Type</a></li>
                                <li><a name="toc-The-Union-Declaration" href="#Union-Decl">3.4.4 The Union Declaration</a></li>
                                <li><a name="toc-Providing-a-Structured-Semantic-Value-Type" href="#Structured-Value-Type">3.4.5 Providing a Structured Semantic Value Type</a></li>
                                <li><a name="toc-Actions-1" href="#Actions">3.4.6 Actions</a></li>
                                <li><a name="toc-Data-Types-of-Values-in-Actions" href="#Action-Types">3.4.7 Data Types of Values in Actions</a></li>
                                <li><a name="toc-Actions-in-Mid_002dRule" href="#Mid_002dRule-Actions">3.4.8 Actions in Mid-Rule</a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-Using-Mid_002dRule-Actions-1" href="#Using-Mid_002dRule-Actions">3.4.8.1 Using Mid-Rule Actions</a></li>
                                        <li><a name="toc-Mid_002dRule-Action-Translation-1" href="#Mid_002dRule-Action-Translation">3.4.8.2 Mid-Rule Action Translation</a></li>
                                        <li><a name="toc-Conflicts-due-to-Mid_002dRule-Actions" href="#Mid_002dRule-Conflicts">3.4.8.3 Conflicts due to Mid-Rule Actions</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a name="toc-Tracking-Locations-1" href="#Tracking-Locations">3.5 Tracking Locations</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Data-Type-of-Locations" href="#Location-Type">3.5.1 Data Type of Locations</a></li>
                                <li><a name="toc-Actions-and-Locations-1" href="#Actions-and-Locations">3.5.2 Actions and Locations</a></li>
                                <li><a name="toc-Default-Action-for-Locations" href="#Location-Default-Action">3.5.3 Default Action for Locations</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Named-References-1" href="#Named-References">3.6 Named References</a></li>
                        <li><a name="toc-Bison-Declarations-1" href="#Declarations">3.7 Bison Declarations</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Require-a-Version-of-Bison" href="#Require-Decl">3.7.1 Require a Version of Bison</a></li>
                                <li><a name="toc-Token-Type-Names" href="#Token-Decl">3.7.2 Token Type Names</a></li>
                                <li><a name="toc-Operator-Precedence" href="#Precedence-Decl">3.7.3 Operator Precedence</a></li>
                                <li><a name="toc-Nonterminal-Symbols" href="#Type-Decl">3.7.4 Nonterminal Symbols</a></li>
                                <li><a name="toc-Performing-Actions-before-Parsing" href="#Initial-Action-Decl">3.7.5 Performing Actions before Parsing</a></li>
                                <li><a name="toc-Freeing-Discarded-Symbols" href="#Destructor-Decl">3.7.6 Freeing Discarded Symbols</a></li>
                                <li><a name="toc-Printing-Semantic-Values" href="#Printer-Decl">3.7.7 Printing Semantic Values</a></li>
                                <li><a name="toc-Suppressing-Conflict-Warnings" href="#Expect-Decl">3.7.8 Suppressing Conflict Warnings</a></li>
                                <li><a name="toc-The-Start_002dSymbol" href="#Start-Decl">3.7.9 The Start-Symbol</a></li>
                                <li><a name="toc-A-Pure-_0028Reentrant_0029-Parser" href="#Pure-Decl">3.7.10 A Pure (Reentrant) Parser</a></li>
                                <li><a name="toc-A-Push-Parser" href="#Push-Decl">3.7.11 A Push Parser</a></li>
                                <li><a name="toc-Bison-Declaration-Summary" href="#Decl-Summary">3.7.12 Bison Declaration Summary</a></li>
                                <li><a name="toc-_0025define-Summary-1" href="#g_t_0025define-Summary">3.7.13 %define Summary</a></li>
                                <li><a name="toc-_0025code-Summary-1" href="#g_t_0025code-Summary">3.7.14 %code Summary</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Multiple-Parsers-in-the-Same-Program" href="#Multiple-Parsers">3.8 Multiple Parsers in the Same Program</a></li>
                    </ul>
                </li>
                <li><a name="toc-Parser-C_002dLanguage-Interface" href="#Interface">4 Parser C-Language Interface</a>
                    <ul class="no-bullet">
                        <li><a name="toc-The-Parser-Function-yyparse" href="#Parser-Function">4.1 The Parser Function <code>yyparse</code></a></li>
                        <li><a name="toc-The-Push-Parser-Function-yypush_005fparse" href="#Push-Parser-Function">4.2 The Push Parser Function <code>yypush_parse</code></a></li>
                        <li><a name="toc-The-Pull-Parser-Function-yypull_005fparse" href="#Pull-Parser-Function">4.3 The Pull Parser Function <code>yypull_parse</code></a></li>
                        <li><a name="toc-The-Parser-Create-Function-yystate_005fnew" href="#Parser-Create-Function">4.4 The Parser Create Function <code>yystate_new</code></a></li>
                        <li><a name="toc-The-Parser-Delete-Function-yystate_005fdelete" href="#Parser-Delete-Function">4.5 The Parser Delete Function <code>yystate_delete</code></a></li>
                        <li><a name="toc-The-Lexical-Analyzer-Function-yylex" href="#Lexical">4.6 The Lexical Analyzer Function <code>yylex</code></a>
                            <ul class="no-bullet">
                                <li><a name="toc-Calling-Convention-for-yylex" href="#Calling-Convention">4.6.1 Calling Convention for <code>yylex</code></a></li>
                                <li><a name="toc-Semantic-Values-of-Tokens" href="#Token-Values">4.6.2 Semantic Values of Tokens</a></li>
                                <li><a name="toc-Textual-Locations-of-Tokens" href="#Token-Locations">4.6.3 Textual Locations of Tokens</a></li>
                                <li><a name="toc-Calling-Conventions-for-Pure-Parsers" href="#Pure-Calling">4.6.4 Calling Conventions for Pure Parsers</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-The-Error-Reporting-Function-yyerror" href="#Error-Reporting">4.7 The Error Reporting Function <code>yyerror</code></a></li>
                        <li><a name="toc-Special-Features-for-Use-in-Actions" href="#Action-Features">4.8 Special Features for Use in Actions</a></li>
                        <li><a name="toc-Parser-Internationalization" href="#Internationalization">4.9 Parser Internationalization</a></li>
                    </ul>
                </li>
                <li><a name="toc-The-Bison-Parser-Algorithm" href="#Algorithm">5 The Bison Parser Algorithm</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Lookahead-Tokens" href="#Lookahead">5.1 Lookahead Tokens</a></li>
                        <li><a name="toc-Shift_002fReduce-Conflicts" href="#Shift_002fReduce">5.2 Shift/Reduce Conflicts</a></li>
                        <li><a name="toc-Operator-Precedence-1" href="#Precedence">5.3 Operator Precedence</a>
                            <ul class="no-bullet">
                                <li><a name="toc-When-Precedence-is-Needed" href="#Why-Precedence">5.3.1 When Precedence is Needed</a></li>
                                <li><a name="toc-Specifying-Operator-Precedence" href="#Using-Precedence">5.3.2 Specifying Operator Precedence</a></li>
                                <li><a name="toc-Specifying-Precedence-Only" href="#Precedence-Only">5.3.3 Specifying Precedence Only</a></li>
                                <li><a name="toc-Precedence-Examples-1" href="#Precedence-Examples">5.3.4 Precedence Examples</a></li>
                                <li><a name="toc-How-Precedence-Works" href="#How-Precedence">5.3.5 How Precedence Works</a></li>
                                <li><a name="toc-Using-Precedence-For-Non-Operators" href="#Non-Operators">5.3.6 Using Precedence For Non Operators</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Context_002dDependent-Precedence" href="#Contextual-Precedence">5.4 Context-Dependent Precedence</a></li>
                        <li><a name="toc-Parser-States-1" href="#Parser-States">5.5 Parser States</a></li>
                        <li><a name="toc-Reduce_002fReduce-Conflicts" href="#Reduce_002fReduce">5.6 Reduce/Reduce Conflicts</a></li>
                        <li><a name="toc-Mysterious-Conflicts-1" href="#Mysterious-Conflicts">5.7 Mysterious Conflicts</a></li>
                        <li><a name="toc-Tuning-LR-1" href="#Tuning-LR">5.8 Tuning LR</a>
                            <ul class="no-bullet">
                                <li><a name="toc-LR-Table-Construction-1" href="#LR-Table-Construction">5.8.1 LR Table Construction</a></li>
                                <li><a name="toc-Default-Reductions-1" href="#Default-Reductions">5.8.2 Default Reductions</a></li>
                                <li><a name="toc-LAC-1" href="#LAC">5.8.3 LAC</a></li>
                                <li><a name="toc-Unreachable-States-1" href="#Unreachable-States">5.8.4 Unreachable States</a></li>
                            </ul>
                        </li>
                        <li><a name="toc-Generalized-LR-_0028GLR_0029-Parsing" href="#Generalized-LR-Parsing">5.9 Generalized LR (GLR) Parsing</a></li>
                        <li><a name="toc-Memory-Management_002c-and-How-to-Avoid-Memory-Exhaustion" href="#Memory-Management">5.10 Memory Management, and How to Avoid Memory Exhaustion</a></li>
                    </ul>
                </li>
                <li><a name="toc-Error-Recovery-1" href="#Error-Recovery">6 Error Recovery</a></li>
                <li><a name="toc-Handling-Context-Dependencies" href="#Context-Dependency">7 Handling Context Dependencies</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Semantic-Info-in-Token-Types" href="#Semantic-Tokens">7.1 Semantic Info in Token Types</a></li>
                        <li><a name="toc-Lexical-Tie_002dins-1" href="#Lexical-Tie_002dins">7.2 Lexical Tie-ins</a></li>
                        <li><a name="toc-Lexical-Tie_002dins-and-Error-Recovery" href="#Tie_002din-Recovery">7.3 Lexical Tie-ins and Error Recovery</a></li>
                    </ul>
                </li>
                <li><a name="toc-Debugging-Your-Parser" href="#Debugging">8 Debugging Your Parser</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Understanding-Your-Parser" href="#Understanding">8.1 Understanding Your Parser</a></li>
                        <li><a name="toc-Visualizing-Your-Parser" href="#Graphviz">8.2 Visualizing Your Parser</a></li>
                        <li><a name="toc-Visualizing-your-parser-in-multiple-formats" href="#Xml">8.3 Visualizing your parser in multiple formats</a></li>
                        <li><a name="toc-Tracing-Your-Parser" href="#Tracing">8.4 Tracing Your Parser</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Enabling-Traces-1" href="#Enabling-Traces">8.4.1 Enabling Traces</a></li>
                                <li><a name="toc-Enabling-Debug-Traces-for-mfcalc" href="#Mfcalc-Traces">8.4.2 Enabling Debug Traces for <code>mfcalc</code></a></li>
                                <li><a name="toc-The-YYPRINT-Macro-1" href="#The-YYPRINT-Macro">8.4.3 The <code>YYPRINT</code> Macro</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a name="toc-Invoking-Bison" href="#Invocation">9 Invoking Bison</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Bison-Options-1" href="#Bison-Options">9.1 Bison Options</a></li>
                        <li><a name="toc-Option-Cross-Key-1" href="#Option-Cross-Key">9.2 Option Cross Key</a></li>
                        <li><a name="toc-Yacc-Library-1" href="#Yacc-Library">9.3 Yacc Library</a></li>
                    </ul>
                </li>
                <li><a name="toc-Parsers-Written-In-Other-Languages" href="#Other-Languages">10 Parsers Written In Other Languages</a>
                    <ul class="no-bullet">
                        <li><a name="toc-C_002b_002b-Parsers-1" href="#C_002b_002b-Parsers">10.1 C++ Parsers</a>
                            <ul class="no-bullet">
                                <li><a name="toc-C_002b_002b-Bison-Interface-1" href="#C_002b_002b-Bison-Interface">10.1.1 C++ Bison Interface</a></li>
                                <li><a name="toc-C_002b_002b-Semantic-Values-1" href="#C_002b_002b-Semantic-Values">10.1.2 C++ Semantic Values</a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-C_002b_002b-Unions-1" href="#C_002b_002b-Unions">10.1.2.1 C++ Unions</a></li>
                                        <li><a name="toc-C_002b_002b-Variants-1" href="#C_002b_002b-Variants">10.1.2.2 C++ Variants</a></li>
                                    </ul>
                                </li>
                                <li><a name="toc-C_002b_002b-Location-Values-1" href="#C_002b_002b-Location-Values">10.1.3 C++ Location Values</a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-C_002b_002b-position-1" href="#C_002b_002b-position">10.1.3.1 C++ <code>position</code></a></li>
                                        <li><a name="toc-C_002b_002b-location-1" href="#C_002b_002b-location">10.1.3.2 C++ <code>location</code></a></li>
                                        <li><a name="toc-User-Defined-Location-Type-1" href="#User-Defined-Location-Type">10.1.3.3 User Defined Location Type</a></li>
                                    </ul>
                                </li>
                                <li><a name="toc-C_002b_002b-Parser-Interface-1" href="#C_002b_002b-Parser-Interface">10.1.4 C++ Parser Interface</a></li>
                                <li><a name="toc-C_002b_002b-Scanner-Interface-1" href="#C_002b_002b-Scanner-Interface">10.1.5 C++ Scanner Interface</a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-Split-Symbols-1" href="#Split-Symbols">10.1.5.1 Split Symbols</a></li>
                                        <li><a name="toc-Complete-Symbols-1" href="#Complete-Symbols">10.1.5.2 Complete Symbols</a></li>
                                    </ul>
                                </li>
                                <li><a name="toc-A-Complete-C_002b_002b-Example-1" href="#A-Complete-C_002b_002b-Example">10.1.6 A Complete C++ Example</a>
                                    <ul class="no-bullet">
                                        <li><a name="toc-Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator-1" href="#Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator">10.1.6.1 Calc++ &mdash; C++ Calculator</a></li>
                                        <li><a name="toc-Calc_002b_002b-Parsing-Driver-1" href="#Calc_002b_002b-Parsing-Driver">10.1.6.2 Calc++ Parsing Driver</a></li>
                                        <li><a name="toc-Calc_002b_002b-Parser-1" href="#Calc_002b_002b-Parser">10.1.6.3 Calc++ Parser</a></li>
                                        <li><a name="toc-Calc_002b_002b-Scanner-1" href="#Calc_002b_002b-Scanner">10.1.6.4 Calc++ Scanner</a></li>
                                        <li><a name="toc-Calc_002b_002b-Top-Level-1" href="#Calc_002b_002b-Top-Level">10.1.6.5 Calc++ Top Level</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a name="toc-Java-Parsers-1" href="#Java-Parsers">10.2 Java Parsers</a>
                            <ul class="no-bullet">
                                <li><a name="toc-Java-Bison-Interface-1" href="#Java-Bison-Interface">10.2.1 Java Bison Interface</a></li>
                                <li><a name="toc-Java-Semantic-Values-1" href="#Java-Semantic-Values">10.2.2 Java Semantic Values</a></li>
                                <li><a name="toc-Java-Location-Values-1" href="#Java-Location-Values">10.2.3 Java Location Values</a></li>
                                <li><a name="toc-Java-Parser-Interface-1" href="#Java-Parser-Interface">10.2.4 Java Parser Interface</a></li>
                                <li><a name="toc-Java-Scanner-Interface-1" href="#Java-Scanner-Interface">10.2.5 Java Scanner Interface</a></li>
                                <li><a name="toc-Special-Features-for-Use-in-Java-Actions" href="#Java-Action-Features">10.2.6 Special Features for Use in Java Actions</a></li>
                                <li><a name="toc-Java-Push-Parser-Interface-1" href="#Java-Push-Parser-Interface">10.2.7 Java Push Parser Interface</a></li>
                                <li><a name="toc-Differences-between-C_002fC_002b_002b-and-Java-Grammars" href="#Java-Differences">10.2.8 Differences between C/C++ and Java Grammars</a></li>
                                <li><a name="toc-Java-Declarations-Summary-1" href="#Java-Declarations-Summary">10.2.9 Java Declarations Summary</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a name="toc-Frequently-Asked-Questions" href="#FAQ">11 Frequently Asked Questions</a>
                    <ul class="no-bullet">
                        <li><a name="toc-Memory-Exhausted-1" href="#Memory-Exhausted">11.1 Memory Exhausted</a></li>
                        <li><a name="toc-How-Can-I-Reset-the-Parser-1" href="#How-Can-I-Reset-the-Parser">11.2 How Can I Reset the Parser</a></li>
                        <li><a name="toc-Strings-are-Destroyed-1" href="#Strings-are-Destroyed">11.3 Strings are Destroyed</a></li>
                        <li><a name="toc-Implementing-Gotos_002fLoops-1" href="#Implementing-Gotos_002fLoops">11.4 Implementing Gotos/Loops</a></li>
                        <li><a name="toc-Multiple-start_002dsymbols-1" href="#Multiple-start_002dsymbols">11.5 Multiple start-symbols</a></li>
                        <li><a name="toc-Secure_003f-Conform_003f-1" href="#Secure_003f-Conform_003f">11.6 Secure?  Conform?</a></li>
                        <li><a name="toc-I-can_0027t-build-Bison-1" href="#I-can_0027t-build-Bison">11.7 I can&rsquo;t build Bison</a></li>
                        <li><a name="toc-Where-can-I-find-help_003f-1" href="#Where-can-I-find-help_003f">11.8 Where can I find help?</a></li>
                        <li><a name="toc-Bug-Reports-1" href="#Bug-Reports">11.9 Bug Reports</a></li>
                        <li><a name="toc-More-Languages-1" href="#More-Languages">11.10 More Languages</a></li>
                        <li><a name="toc-Beta-Testing-1" href="#Beta-Testing">11.11 Beta Testing</a></li>
                        <li><a name="toc-Mailing-Lists-1" href="#Mailing-Lists">11.12 Mailing Lists</a></li>
                    </ul>
                </li>
                <li><a name="toc-Bison-Symbols" href="#Table-of-Symbols">Appendix A Bison Symbols</a></li>
                <li><a name="toc-Glossary-1" href="#Glossary">Appendix B Glossary</a></li>
                <li><a name="toc-Copying-This-Manual-1" href="#Copying-This-Manual">Appendix C Copying This Manual</a></li>
                <li><a name="toc-Bibliography-1" href="#Bibliography">Bibliography</a></li>
                <li><a name="toc-Index-of-Terms-1" href="#Index-of-Terms">Index of Terms</a></li>
            </ul>
        </div>


        <a name="Top"></a>
        <div class="header">
            <p>
                Next: <a href="#Introduction" accesskey="n" rel="next">Introduction</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison"></a>
        <h1 class="top">Bison</h1>

        <p>This manual (23 January 2015) is for GNU Bison (version 3.0.4), the GNU parser generator.
        </p>
        <p>Copyright &copy; 1988-1993, 1995, 1998-2015 Free Software Foundation, Inc.
        </p>
        <blockquote>
            <p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, with the Front-Cover
                texts being &ldquo;A GNU Manual,&rdquo; and with the Back-Cover Texts as in (a) below. A copy of the license is included in the section entitled &ldquo;GNU Free Documentation License.&rdquo;
            </p>
            <p>(a) The FSF&rsquo;s Back-Cover Text is: &ldquo;You have the freedom to copy and modify this GNU manual. Buying copies from the FSF supports it in developing GNU and promoting software freedom.&rdquo;
            </p>
        </blockquote>


        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Introduction" accesskey="1">Introduction</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Conditions" accesskey="2">Conditions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Copying" accesskey="3">Copying</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The GNU General Public License says how you can copy and share Bison.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Tutorial sections:
</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Concepts" accesskey="4">Concepts</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Basic concepts for understanding Bison.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Examples" accesskey="5">Examples</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Three simple explained examples of using Bison.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Reference sections:
</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-File" accesskey="6">Grammar File</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Writing Bison declarations and rules.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Interface" accesskey="7">Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">C-language interface to the parser function <code>yyparse</code>.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Algorithm" accesskey="8">Algorithm</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How the Bison parser works at run-time.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Error-Recovery" accesskey="9">Error Recovery</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Writing rules for error recovery.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Context-Dependency">Context Dependency</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">What to do if your language syntax is too messy for Bison to handle straightforwardly.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Debugging">Debugging</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Understanding or debugging Bison parsers.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Invocation">Invocation</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to run Bison (to produce the parser implementation).
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Other-Languages">Other Languages</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Creating C++ and Java parsers.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#FAQ">FAQ</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Frequently Asked Questions
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Table-of-Symbols">Table of Symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">All the keywords of the Bison language are explained.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Glossary">Glossary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Basic concepts are explained.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Copying-This-Manual">Copying This Manual</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">License for copying this manual.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bibliography">Bibliography</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Publications cited in this manual.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Index-of-Terms">Index of Terms</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Cross-references to the text.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment"> &mdash; The Detailed Node Listing &mdash;

The Concepts of Bison

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Language-and-Grammar">Language and Grammar</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Languages and context-free grammars, as mathematical ideas.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-in-Bison">Grammar in Bison</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How we represent grammars for Bison&rsquo;s sake.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Values">Semantic Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Each token or syntactic grouping can have a semantic value (the value of an integer, the name of an identifier, etc.).
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Actions">Semantic Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Each rule can have an action containing C code.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#GLR-Parsers">GLR Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Writing parsers for general context-free languages.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Locations">Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Overview of location tracking.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bison-Parser">Bison Parser</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">What are Bison&rsquo;s input and output, how is the output used?
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Stages">Stages</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Stages in writing and running Bison grammars.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-Layout">Grammar Layout</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Overall structure of a Bison grammar file.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Writing GLR Parsers

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Simple-GLR-Parsers">Simple GLR Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using GLR parsers on unambiguous grammars.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Merging-GLR-Parses">Merging GLR Parses</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using GLR parsers to resolve ambiguities.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#GLR-Semantic-Actions">GLR Semantic Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Considerations for semantic values and deferred actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Predicates">Semantic Predicates</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Controlling a parse with arbitrary computations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Compiler-Requirements">Compiler Requirements</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">GLR parsers require a modern C compiler.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Examples

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#RPN-Calc">RPN Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Reverse polish notation calculator; a first example with no operator precedence.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Infix-Calc">Infix Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Infix (algebraic) notation calculator. Operator precedence is introduced.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Simple-Error-Recovery">Simple Error Recovery</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Continuing after syntax errors.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Location-Tracking-Calc">Location Tracking Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Demonstrating the use of @<var>n</var> and @$.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multi_002dfunction-Calc">Multi-function Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Calculator with memory and trig functions. It uses multiple data-types for semantic values.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Exercises">Exercises</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Ideas for improving the multi-function calculator.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Reverse Polish Notation Calculator

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Declarations">Rpcalc Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Prologue (declarations) for rpcalc.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Rules">Rpcalc Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Grammar Rules for rpcalc, with explanation.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Lexer">Rpcalc Lexer</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The lexical analyzer.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Main">Rpcalc Main</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The controlling function.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Error">Rpcalc Error</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The error reporting function.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Generate">Rpcalc Generate</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Running Bison on the grammar file.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Compile">Rpcalc Compile</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Run the C compiler on the output code.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Grammar Rules for <code>rpcalc</code>

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Input">Rpcalc Input</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Explanation of the <code>input</code> nonterminal
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Line">Rpcalc Line</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Explanation of the <code>line</code> nonterminal
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Expr">Rpcalc Expr</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Explanation of the <code>expr</code> nonterminal
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Location Tracking Calculator: <code>ltcalc</code>

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Ltcalc-Declarations">Ltcalc Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Bison and C declarations for ltcalc.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Ltcalc-Rules">Ltcalc Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Grammar rules for ltcalc, with explanations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Ltcalc-Lexer">Ltcalc Lexer</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The lexical analyzer.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Multi-Function Calculator: <code>mfcalc</code>

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Declarations">Mfcalc Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Bison declarations for multi-function calculator.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Rules">Mfcalc Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Grammar rules for the calculator.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Symbol-Table">Mfcalc Symbol Table</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Symbol table management subroutines.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Lexer">Mfcalc Lexer</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The lexical analyzer.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Main">Mfcalc Main</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The controlling function.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Bison Grammar Files

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-Outline">Grammar Outline</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Overall layout of the grammar file.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Symbols">Symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Terminal and nonterminal symbols.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rules">Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to write grammar rules.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantics">Semantics</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Semantic values and actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tracking-Locations">Tracking Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Locations and actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Named-References">Named References</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using named references in actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Declarations">Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">All kinds of Bison declarations are described here.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multiple-Parsers">Multiple Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Putting more than one Bison parser in one program.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Outline of a Bison Grammar

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Prologue">Prologue</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the prologue.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Prologue-Alternatives">Prologue Alternatives</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of alternatives to the prologue.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bison-Declarations">Bison Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the Bison declarations section.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-Rules">Grammar Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the grammar rules section.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Epilogue">Epilogue</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the epilogue.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Grammar Rules

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rules-Syntax">Rules Syntax</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax of the rules.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Empty-Rules">Empty Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Symbols that can match the empty string.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Recursion">Recursion</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Writing recursive rules.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">

Defining Language Semantics

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Value-Type">Value Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying one data type for all semantic values.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multiple-Types">Multiple Types</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying several alternative data types.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Type-Generation">Type Generation</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Generating the semantic value type.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Union-Decl">Union Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring the set of all semantic value types.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Structured-Value-Type">Structured Value Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Providing a structured semantic value type.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Actions">Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">An action is the semantic definition of a grammar rule.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Action-Types">Action Types</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying data types for actions to operate on.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mid_002dRule-Actions">Mid-Rule Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Most actions go at the end of a rule. This says when, why and how to use the exceptional action in the middle of a rule.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Actions in Mid-Rule

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Using-Mid_002dRule-Actions">Using Mid-Rule Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Putting an action in the middle of a rule.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mid_002dRule-Action-Translation">Mid-Rule Action Translation</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How mid-rule actions are actually processed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mid_002dRule-Conflicts">Mid-Rule Conflicts</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Mid-rule actions can cause conflicts.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Tracking Locations

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Location-Type">Location Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying a data type for locations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Actions-and-Locations">Actions and Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using locations in actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Location-Default-Action">Location Default Action</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Defining a general way to compute locations.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Bison Declarations

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Require-Decl">Require Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Requiring a Bison version.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Token-Decl">Token Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring terminal symbols.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence-Decl">Precedence Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring terminals with precedence and associativity.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Type-Decl">Type Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring the choice of type for a nonterminal symbol.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Initial-Action-Decl">Initial Action Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Code run before parsing starts.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Destructor-Decl">Destructor Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring how symbols are freed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Printer-Decl">Printer Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring how symbol values are displayed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Expect-Decl">Expect Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Suppressing warnings about parsing conflicts.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Start-Decl">Start Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying the start symbol.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Pure-Decl">Pure Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Requesting a reentrant parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Push-Decl">Push Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Requesting a push parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Decl-Summary">Decl Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Table of all Bison declarations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#g_t_0025define-Summary">%define Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Defining variables to adjust Bison&rsquo;s behavior.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#g_t_0025code-Summary">%code Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Inserting code into the parser source.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Parser C-Language Interface

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-Function">Parser Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yyparse</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Push-Parser-Function">Push Parser Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypush_parse</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Pull-Parser-Function">Pull Parser Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypull_parse</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-Create-Function">Parser Create Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypstate_new</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-Delete-Function">Parser Delete Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypstate_delete</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Lexical">Lexical</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">You must supply a function <code>yylex</code> which reads tokens.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Error-Reporting">Error Reporting</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">You must supply a function <code>yyerror</code>.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Action-Features">Action Features</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Special features for use in actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Internationalization">Internationalization</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to let the parser speak in the user&rsquo;s native language.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
The Lexical Analyzer Function <code>yylex</code>

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calling-Convention">Calling Convention</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How <code>yyparse</code> calls <code>yylex</code>.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Token-Values">Token Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How <code>yylex</code> must return the semantic value of the token it has read.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Token-Locations">Token Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How <code>yylex</code> must return the text location (line number, etc.) of the token, if the actions want that.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Pure-Calling">Pure Calling</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How the calling convention differs in a pure parser (see <a href="#Pure-Decl">A Pure (Reentrant) Parser</a>).
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
The Bison Parser Algorithm

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Lookahead">Lookahead</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Parser looks one token ahead when deciding what to do.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Shift_002fReduce">Shift/Reduce</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Conflicts: when either shifting or reduction is valid.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence">Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Operator precedence works by resolving conflicts.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Contextual-Precedence">Contextual Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">When an operator&rsquo;s precedence depends on context.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-States">Parser States</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The parser is a finite-state-machine with stack.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Reduce_002fReduce">Reduce/Reduce</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">When two rules are applicable in the same situation.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mysterious-Conflicts">Mysterious Conflicts</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Conflicts that look unjustified.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tuning-LR">Tuning LR</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to tune fundamental aspects of LR-based parsing.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Generalized-LR-Parsing">Generalized LR Parsing</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Parsing arbitrary context-free grammars.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Memory-Management">Memory Management</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">What happens when memory is exhausted. How to avoid it.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Operator Precedence

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Why-Precedence">Why Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">An example showing why precedence is needed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Using-Precedence">Using Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to specify precedence and associativity.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence-Only">Precedence Only</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to specify precedence only.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence-Examples">Precedence Examples</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How these features are used in the previous example.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#How-Precedence">How Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How they work.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Non-Operators">Non Operators</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using precedence for general conflicts.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Tuning LR

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#LR-Table-Construction">LR Table Construction</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Choose a different construction algorithm.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Default-Reductions">Default Reductions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Disable default reductions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#LAC">LAC</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Correct lookahead sets in the parser states.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Unreachable-States">Unreachable States</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Keep unreachable parser states for debugging.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Handling Context Dependencies

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Tokens">Semantic Tokens</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Token parsing can depend on the semantic context.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Lexical-Tie_002dins">Lexical Tie-ins</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Token parsing can depend on the syntactic context.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tie_002din-Recovery">Tie-in Recovery</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Lexical tie-ins have implications for how error recovery rules must be written.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Debugging Your Parser

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Understanding">Understanding</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Understanding the structure of your parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Graphviz">Graphviz</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Getting a visual representation of the parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Xml">Xml</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Getting a markup representation of the parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tracing">Tracing</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Tracing the execution of your parser.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Tracing Your Parser

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Enabling-Traces">Enabling Traces</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Activating run-time trace support
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Traces">Mfcalc Traces</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Extending <code>mfcalc</code> to support traces
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#The-YYPRINT-Macro">The YYPRINT Macro</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Obsolete interface for semantic value reports
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Invoking Bison

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bison-Options">Bison Options</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">All the options described in detail, in alphabetical order by short options.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Option-Cross-Key">Option Cross Key</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Alphabetical list of long options.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Yacc-Library">Yacc Library</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Yacc-compatible <code>yylex</code> and <code>main</code>.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Parsers Written In Other Languages

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Parsers">C++ Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The interface to generate C++ parser classes
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Parsers">Java Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The interface to generate Java parser classes
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
C++ Parsers

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Bison-Interface">C++ Bison Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Asking for C++ parser generation
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Semantic-Values">C++ Semantic Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">%union vs. C++
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Location-Values">C++ Location Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The position and location classes
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Instantiating and running the parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Scanner-Interface">C++ Scanner Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Exchanges between yylex and parse
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#A-Complete-C_002b_002b-Example">A Complete C++ Example</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Demonstrating their use
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
C++ Location Values

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-position">C++ position</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">One point in the source file
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-location">C++ location</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Two points in the source file
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#User-Defined-Location-Type">User Defined Location Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Required interface for locations
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
A Complete C++ Example

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator">Calc++ --- C++ Calculator</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The specifications
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Parsing-Driver">Calc++ Parsing Driver</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">An active parsing context
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Parser">Calc++ Parser</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">A parser class
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Scanner">Calc++ Scanner</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">A pure C++ Flex scanner
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Top-Level">Calc++ Top Level</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Conducting the band
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Java Parsers

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Bison-Interface">Java Bison Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Asking for Java parser generation
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Semantic-Values">Java Semantic Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">%type and %token vs. Java
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Location-Values">Java Location Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The position and location classes
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Parser-Interface">Java Parser Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Instantiating and running the parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Scanner-Interface">Java Scanner Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying the scanner for the parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Action-Features">Java Action Features</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Special features for use in actions
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Push-Parser-Interface">Java Push Parser Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Instantiating and running the a push parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Differences">Java Differences</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Differences between C/C++ and Java Grammars
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Declarations-Summary">Java Declarations Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">List of Bison declarations used with Java
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Frequently Asked Questions

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Memory-Exhausted">Memory Exhausted</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Breaking the Stack Limits
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#How-Can-I-Reset-the-Parser">How Can I Reset the Parser</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top"><code>yyparse</code> Keeps some State
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Strings-are-Destroyed">Strings are Destroyed</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top"><code>yylval</code> Loses Track of Strings
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Implementing-Gotos_002fLoops">Implementing Gotos/Loops</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Control Flow in the Calculator
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multiple-start_002dsymbols">Multiple start-symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Factoring closely related grammars
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Secure_003f-Conform_003f">Secure?  Conform?</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Is Bison POSIX safe?
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#I-can_0027t-build-Bison">I can't build Bison</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Troubleshooting
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Where-can-I-find-help_003f">Where can I find help?</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Troubleshouting
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bug-Reports">Bug Reports</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Troublereporting
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#More-Languages">More Languages</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Parsers in C++, Java, and so on
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Beta-Testing">Beta Testing</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Experimenting development versions
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mailing-Lists">Mailing Lists</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Meeting other Bison users
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
Copying This Manual

</pre></th>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Copying-This-Manual">Copying This Manual</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">License for copying this manual.
                </td>
            </tr>
            <tr>
                <th colspan="3" align="left" valign="top"><pre class="menu-comment">
</pre></th>
            </tr>
        </table>

        <hr>
        <a name="Introduction"></a>
        <div class="header">
            <p>
                Next: <a href="#Conditions" accesskey="n" rel="next">Conditions</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Introduction-1"></a>
        <h2 class="unnumbered">Introduction</h2>
        <a name="index-introduction"></a>

        <p><em>Bison</em> is a general-purpose parser generator that converts an annotated context-free grammar into a deterministic LR or generalized LR (GLR) parser employing LALR(1) parser tables. As an experimental feature, Bison can also generate IELR(1)
            or canonical LR(1) parser tables. Once you are proficient with Bison, you can use it to develop a wide range of language parsers, from those used in simple desk calculators to complex programming languages.
        </p>
        <p>Bison is upward compatible with Yacc: all properly-written Yacc grammars ought to work with Bison with no change. Anyone familiar with Yacc should be able to use Bison with little trouble. You need to be fluent in C or C++ programming in order
            to use Bison or to understand this manual. Java is also supported as an experimental feature.
        </p>
        <p>We begin with tutorial chapters that explain the basic concepts of using Bison and show three explained examples, each building on the last. If you don&rsquo;t know Bison or Yacc, start by reading these chapters. Reference chapters follow, which
            describe specific aspects of Bison in detail.
        </p>
        <p>Bison was written originally by Robert Corbett. Richard Stallman made it Yacc-compatible. Wilfred Hansen of Carnegie Mellon University added multi-character string literals and other features. Since then, Bison has grown more robust and evolved
            many other new features thanks to the hard work of a long list of volunteers. For details, see the
            <samp>THANKS</samp> and <samp>ChangeLog</samp> files included in the Bison distribution.
        </p>
        <p>This edition corresponds to version 3.0.4 of Bison.
        </p>
        <hr>
        <a name="Conditions"></a>
        <div class="header">
            <p>
                Next: <a href="#Copying" accesskey="n" rel="next">Copying</a>, Previous: <a href="#Introduction" accesskey="p" rel="prev">Introduction</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Conditions-for-Using-Bison"></a>
        <h2 class="unnumbered">Conditions for Using Bison</h2>

        <p>The distribution terms for Bison-generated parsers permit using the parsers in nonfree programs. Before Bison version 2.2, these extra permissions applied only when Bison was generating LALR(1) parsers in C. And before Bison version 1.24, Bison-generated
            parsers could be used only in programs that were free software.
        </p>
        <p>The other GNU programming tools, such as the GNU C compiler, have never had such a requirement. They could always be used for nonfree software. The reason Bison was different was not due to a special policy decision; it resulted from applying
            the usual General Public License to all of the Bison source code.
        </p>
        <p>The main output of the Bison utility&mdash;the Bison parser implementation file&mdash;contains a verbatim copy of a sizable piece of Bison, which is the code for the parser&rsquo;s implementation. (The actions from your grammar are inserted into
            this implementation at one point, but most of the rest of the implementation is not changed.) When we applied the GPL terms to the skeleton code for the parser&rsquo;s implementation, the effect was to restrict the use of Bison output to free
            software.
        </p>
        <p>We didn&rsquo;t change the terms because of sympathy for people who want to make software proprietary. <strong>Software should be free.</strong> But we concluded that limiting Bison&rsquo;s use to free software was doing little to encourage people
            to make other software free. So we decided to make the practical conditions for using Bison match the practical conditions for using the other GNU tools.
        </p>
        <p>This exception applies when Bison is generating code for a parser. You can tell whether the exception applies to a Bison output file by inspecting the file for text beginning with &ldquo;As a special exception&hellip;&rdquo;. The text spells out
            the exact terms of the exception.
        </p>
        <hr>
        <a name="Copying"></a>
        <div class="header">
            <p>
                Next: <a href="#Concepts" accesskey="n" rel="next">Concepts</a>, Previous: <a href="#Conditions" accesskey="p" rel="prev">Conditions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="GNU-GENERAL-PUBLIC-LICENSE"></a>
        <h2 class="unnumbered">GNU GENERAL PUBLIC LICENSE</h2>
        <div align="center">Version 3, 29 June 2007
        </div>

        <div class="display">
            <pre class="display">Copyright &copy; 2007 Free Software Foundation, Inc. <a href="http://fsf.org/">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies of this
license document, but changing it is not allowed.
</pre></div>

        <a name="Preamble"></a>
        <h3 class="heading">Preamble</h3>

        <p>The GNU General Public License is a free, copyleft license for software and other kinds of works.
        </p>
        <p>The licenses for most software and other practical works are designed to take away your freedom to share and change the works. By contrast, the GNU General Public License is intended to guarantee your freedom to share and change all versions of
            a program&mdash;to make sure it remains free software for all its users. We, the Free Software Foundation, use the GNU General Public License for most of our software; it applies also to any other work released this way by its authors. You
            can apply it to your programs, too.
        </p>
        <p>When we speak of free software, we are referring to freedom, not price. Our General Public Licenses are designed to make sure that you have the freedom to distribute copies of free software (and charge for them if you wish), that you receive source
            code or can get it if you want it, that you can change the software or use pieces of it in new free programs, and that you know you can do these things.
        </p>
        <p>To protect your rights, we need to prevent others from denying you these rights or asking you to surrender the rights. Therefore, you have certain responsibilities if you distribute copies of the software, or if you modify it: responsibilities
            to respect the freedom of others.
        </p>
        <p>For example, if you distribute copies of such a program, whether gratis or for a fee, you must pass on to the recipients the same freedoms that you received. You must make sure that they, too, receive or can get the source code. And you must show
            them these terms so they know their rights.
        </p>
        <p>Developers that use the GNU GPL protect your rights with two steps: (1) assert copyright on the software, and (2) offer you this License giving you legal permission to copy, distribute and/or modify it.
        </p>
        <p>For the developers&rsquo; and authors&rsquo; protection, the GPL clearly explains that there is no warranty for this free software. For both users&rsquo; and authors&rsquo; sake, the GPL requires that modified versions be marked as changed, so
            that their problems will not be attributed erroneously to authors of previous versions.
        </p>
        <p>Some devices are designed to deny users access to install or run modified versions of the software inside them, although the manufacturer can do so. This is fundamentally incompatible with the aim of protecting users&rsquo; freedom to change the
            software. The systematic pattern of such abuse occurs in the area of products for individuals to use, which is precisely where it is most unacceptable. Therefore, we have designed this version of the GPL to prohibit the practice for those
            products. If such problems arise substantially in other domains, we stand ready to extend this provision to those domains in future versions of the GPL, as needed to protect the freedom of users.
        </p>
        <p>Finally, every program is threatened constantly by software patents. States should not allow patents to restrict development and use of software on general-purpose computers, but in those that do, we wish to avoid the special danger that patents
            applied to a free program could make it effectively proprietary. To prevent this, the GPL assures that patents cannot be used to render the program non-free.
        </p>
        <p>The precise terms and conditions for copying, distribution and modification follow.
        </p>
        <a name="TERMS-AND-CONDITIONS"></a>
        <h3 class="heading">TERMS AND CONDITIONS</h3>

        <ol>
            <li> Definitions.

                <p>&ldquo;This License&rdquo; refers to version 3 of the GNU General Public License.
                </p>
                <p>&ldquo;Copyright&rdquo; also means copyright-like laws that apply to other kinds of works, such as semiconductor masks.
                </p>
                <p>&ldquo;The Program&rdquo; refers to any copyrightable work licensed under this License. Each licensee is addressed as &ldquo;you&rdquo;. &ldquo;Licensees&rdquo; and &ldquo;recipients&rdquo; may be individuals or organizations.
                </p>
                <p>To &ldquo;modify&rdquo; a work means to copy from or adapt all or part of the work in a fashion requiring copyright permission, other than the making of an exact copy. The resulting work is called a &ldquo;modified version&rdquo; of the
                    earlier work or a work &ldquo;based on&rdquo; the earlier work.
                </p>
                <p>A &ldquo;covered work&rdquo; means either the unmodified Program or a work based on the Program.
                </p>
                <p>To &ldquo;propagate&rdquo; a work means to do anything with it that, without permission, would make you directly or secondarily liable for infringement under applicable copyright law, except executing it on a computer or modifying a private
                    copy. Propagation includes copying, distribution (with or without modification), making available to the public, and in some countries other activities as well.
                </p>
                <p>To &ldquo;convey&rdquo; a work means any kind of propagation that enables other parties to make or receive copies. Mere interaction with a user through a computer network, with no transfer of a copy, is not conveying.
                </p>
                <p>An interactive user interface displays &ldquo;Appropriate Legal Notices&rdquo; to the extent that it includes a convenient and prominently visible feature that (1) displays an appropriate copyright notice, and (2) tells the user that there
                    is no warranty for the work (except to the extent that warranties are provided), that licensees may convey the work under this License, and how to view a copy of this License. If the interface presents a list of user commands or options,
                    such as a menu, a prominent item in the list meets this criterion.
                </p>
            </li>
            <li> Source Code.

                <p>The &ldquo;source code&rdquo; for a work means the preferred form of the work for making modifications to it. &ldquo;Object code&rdquo; means any non-source form of a work.
                </p>
                <p>A &ldquo;Standard Interface&rdquo; means an interface that either is an official standard defined by a recognized standards body, or, in the case of interfaces specified for a particular programming language, one that is widely used among
                    developers working in that language.
                </p>
                <p>The &ldquo;System Libraries&rdquo; of an executable work include anything, other than the work as a whole, that (a) is included in the normal form of packaging a Major Component, but which is not part of that Major Component, and (b) serves
                    only to enable use of the work with that Major Component, or to implement a Standard Interface for which an implementation is available to the public in source code form. A &ldquo;Major Component&rdquo;, in this context, means a major
                    essential component (kernel, window system, and so on) of the specific operating system (if any) on which the executable work runs, or a compiler used to produce the work, or an object code interpreter used to run it.
                </p>
                <p>The &ldquo;Corresponding Source&rdquo; for a work in object code form means all the source code needed to generate, install, and (for an executable work) run the object code and to modify the work, including scripts to control those activities.
                    However, it does not include the work&rsquo;s System Libraries, or general-purpose tools or generally available free programs which are used unmodified in performing those activities but which are not part of the work. For example,
                    Corresponding Source includes interface definition files associated with source files for the work, and the source code for shared libraries and dynamically linked subprograms that the work is specifically designed to require, such
                    as by intimate data communication or control flow between those subprograms and other parts of the work.
                </p>
                <p>The Corresponding Source need not include anything that users can regenerate automatically from other parts of the Corresponding Source.
                </p>
                <p>The Corresponding Source for a work in source code form is that same work.
                </p>
            </li>
            <li> Basic Permissions.

                <p>All rights granted under this License are granted for the term of copyright on the Program, and are irrevocable provided the stated conditions are met. This License explicitly affirms your unlimited permission to run the unmodified Program.
                    The output from running a covered work is covered by this License only if the output, given its content, constitutes a covered work. This License acknowledges your rights of fair use or other equivalent, as provided by copyright law.
                </p>
                <p>You may make, run and propagate covered works that you do not convey, without conditions so long as your license otherwise remains in force. You may convey covered works to others for the sole purpose of having them make modifications
                    exclusively for you, or provide you with facilities for running those works, provided that you comply with the terms of this License in conveying all material for which you do not control copyright. Those thus making or running the
                    covered works for you must do so exclusively on your behalf, under your direction and control, on terms that prohibit them from making any copies of your copyrighted material outside their relationship with you.
                </p>
                <p>Conveying under any other circumstances is permitted solely under the conditions stated below. Sublicensing is not allowed; section 10 makes it unnecessary.
                </p>
            </li>
            <li> Protecting Users&rsquo; Legal Rights From Anti-Circumvention Law.

                <p>No covered work shall be deemed part of an effective technological measure under any applicable law fulfilling obligations under article 11 of the WIPO copyright treaty adopted on 20 December 1996, or similar laws prohibiting or restricting
                    circumvention of such measures.
                </p>
                <p>When you convey a covered work, you waive any legal power to forbid circumvention of technological measures to the extent such circumvention is effected by exercising rights under this License with respect to the covered work, and you
                    disclaim any intention to limit operation or modification of the work as a means of enforcing, against the work&rsquo;s users, your or third parties&rsquo; legal rights to forbid circumvention of technological measures.
                </p>
            </li>
            <li> Conveying Verbatim Copies.

                <p>You may convey verbatim copies of the Program&rsquo;s source code as you receive it, in any medium, provided that you conspicuously and appropriately publish on each copy an appropriate copyright notice; keep intact all notices stating
                    that this License and any non-permissive terms added in accord with section 7 apply to the code; keep intact all notices of the absence of any warranty; and give all recipients a copy of this License along with the Program.
                </p>
                <p>You may charge any price or no price for each copy that you convey, and you may offer support or warranty protection for a fee.
                </p>
            </li>
            <li> Conveying Modified Source Versions.

                <p>You may convey a work based on the Program, or the modifications to produce it from the Program, in the form of source code under the terms of section 4, provided that you also meet all of these conditions:
                </p>
                <ol>
                    <li> The work must carry prominent notices stating that you modified it, and giving a relevant date.

                    </li>
                    <li> The work must carry prominent notices stating that it is released under this License and any conditions added under section 7. This requirement modifies the requirement in section 4 to &ldquo;keep intact all notices&rdquo;.

                    </li>
                    <li> You must license the entire work, as a whole, under this License to anyone who comes into possession of a copy. This License will therefore apply, along with any applicable section 7 additional terms, to the whole of the work, and
                        all its parts, regardless of how they are packaged. This License gives no permission to license the work in any other way, but it does not invalidate such permission if you have separately received it.

                    </li>
                    <li> If the work has interactive user interfaces, each must display Appropriate Legal Notices; however, if the Program has interactive interfaces that do not display Appropriate Legal Notices, your work need not make them do so.
                    </li>
                </ol>

                <p>A compilation of a covered work with other separate and independent works, which are not by their nature extensions of the covered work, and which are not combined with it such as to form a larger program, in or on a volume of a storage
                    or distribution medium, is called an &ldquo;aggregate&rdquo; if the compilation and its resulting copyright are not used to limit the access or legal rights of the compilation&rsquo;s users beyond what the individual works permit.
                    Inclusion of a covered work in an aggregate does not cause this License to apply to the other parts of the aggregate.
                </p>
            </li>
            <li> Conveying Non-Source Forms.

                <p>You may convey a covered work in object code form under the terms of sections 4 and 5, provided that you also convey the machine-readable Corresponding Source under the terms of this License, in one of these ways:
                </p>
                <ol>
                    <li> Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by the Corresponding Source fixed on a durable physical medium customarily used for software interchange.

                    </li>
                    <li> Convey the object code in, or embodied in, a physical product (including a physical distribution medium), accompanied by a written offer, valid for at least three years and valid for as long as you offer spare parts or customer support
                        for that product model, to give anyone who possesses the object code either (1) a copy of the Corresponding Source for all the software in the product that is covered by this License, on a durable physical medium customarily used
                        for software interchange, for a price no more than your reasonable cost of physically performing this conveying of source, or (2) access to copy the Corresponding Source from a network server at no charge.

                    </li>
                    <li> Convey individual copies of the object code with a copy of the written offer to provide the Corresponding Source. This alternative is allowed only occasionally and noncommercially, and only if you received the object code with such
                        an offer, in accord with subsection 6b.

                    </li>
                    <li> Convey the object code by offering access from a designated place (gratis or for a charge), and offer equivalent access to the Corresponding Source in the same way through the same place at no further charge. You need not require recipients
                        to copy the Corresponding Source along with the object code. If the place to copy the object code is a network server, the Corresponding Source may be on a different server (operated by you or a third party) that supports equivalent
                        copying facilities, provided you maintain clear directions next to the object code saying where to find the Corresponding Source. Regardless of what server hosts the Corresponding Source, you remain obligated to ensure that it
                        is available for as long as needed to satisfy these requirements.

                    </li>
                    <li> Convey the object code using peer-to-peer transmission, provided you inform other peers where the object code and Corresponding Source of the work are being offered to the general public at no charge under subsection 6d.

                    </li>
                </ol>

                <p>A separable portion of the object code, whose source code is excluded from the Corresponding Source as a System Library, need not be included in conveying the object code work.
                </p>
                <p>A &ldquo;User Product&rdquo; is either (1) a &ldquo;consumer product&rdquo;, which means any tangible personal property which is normally used for personal, family, or household purposes, or (2) anything designed or sold for incorporation
                    into a dwelling. In determining whether a product is a consumer product, doubtful cases shall be resolved in favor of coverage. For a particular product received by a particular user, &ldquo;normally used&rdquo; refers to a typical
                    or common use of that class of product, regardless of the status of the particular user or of the way in which the particular user actually uses, or expects or is expected to use, the product. A product is a consumer product regardless
                    of whether the product has substantial commercial, industrial or non-consumer uses, unless such uses represent the only significant mode of use of the product.
                </p>
                <p>&ldquo;Installation Information&rdquo; for a User Product means any methods, procedures, authorization keys, or other information required to install and execute modified versions of a covered work in that User Product from a modified
                    version of its Corresponding Source. The information must suffice to ensure that the continued functioning of the modified object code is in no case prevented or interfered with solely because modification has been made.
                </p>
                <p>If you convey an object code work under this section in, or with, or specifically for use in, a User Product, and the conveying occurs as part of a transaction in which the right of possession and use of the User Product is transferred
                    to the recipient in perpetuity or for a fixed term (regardless of how the transaction is characterized), the Corresponding Source conveyed under this section must be accompanied by the Installation Information. But this requirement
                    does not apply if neither you nor any third party retains the ability to install modified object code on the User Product (for example, the work has been installed in ROM).
                </p>
                <p>The requirement to provide Installation Information does not include a requirement to continue to provide support service, warranty, or updates for a work that has been modified or installed by the recipient, or for the User Product in
                    which it has been modified or installed. Access to a network may be denied when the modification itself materially and adversely affects the operation of the network or violates the rules and protocols for communication across the
                    network.
                </p>
                <p>Corresponding Source conveyed, and Installation Information provided, in accord with this section must be in a format that is publicly documented (and with an implementation available to the public in source code form), and must require
                    no special password or key for unpacking, reading or copying.
                </p>
            </li>
            <li> Additional Terms.

                <p>&ldquo;Additional permissions&rdquo; are terms that supplement the terms of this License by making exceptions from one or more of its conditions. Additional permissions that are applicable to the entire Program shall be treated as though
                    they were included in this License, to the extent that they are valid under applicable law. If additional permissions apply only to part of the Program, that part may be used separately under those permissions, but the entire Program
                    remains governed by this License without regard to the additional permissions.
                </p>
                <p>When you convey a copy of a covered work, you may at your option remove any additional permissions from that copy, or from any part of it. (Additional permissions may be written to require their own removal in certain cases when you modify
                    the work.) You may place additional permissions on material, added by you to a covered work, for which you have or can give appropriate copyright permission.
                </p>
                <p>Notwithstanding any other provision of this License, for material you add to a covered work, you may (if authorized by the copyright holders of that material) supplement the terms of this License with terms:
                </p>
                <ol>
                    <li> Disclaiming warranty or limiting liability differently from the terms of sections 15 and 16 of this License; or

                    </li>
                    <li> Requiring preservation of specified reasonable legal notices or author attributions in that material or in the Appropriate Legal Notices displayed by works containing it; or

                    </li>
                    <li> Prohibiting misrepresentation of the origin of that material, or requiring that modified versions of such material be marked in reasonable ways as different from the original version; or

                    </li>
                    <li> Limiting the use for publicity purposes of names of licensors or authors of the material; or

                    </li>
                    <li> Declining to grant rights under trademark law for use of some trade names, trademarks, or service marks; or

                    </li>
                    <li> Requiring indemnification of licensors and authors of that material by anyone who conveys the material (or modified versions of it) with contractual assumptions of liability to the recipient, for any liability that these contractual
                        assumptions directly impose on those licensors and authors.
                    </li>
                </ol>

                <p>All other non-permissive additional terms are considered &ldquo;further restrictions&rdquo; within the meaning of section 10. If the Program as you received it, or any part of it, contains a notice stating that it is governed by this License
                    along with a term that is a further restriction, you may remove that term. If a license document contains a further restriction but permits relicensing or conveying under this License, you may add to a covered work material governed
                    by the terms of that license document, provided that the further restriction does not survive such relicensing or conveying.
                </p>
                <p>If you add terms to a covered work in accord with this section, you must place, in the relevant source files, a statement of the additional terms that apply to those files, or a notice indicating where to find the applicable terms.
                </p>
                <p>Additional terms, permissive or non-permissive, may be stated in the form of a separately written license, or stated as exceptions; the above requirements apply either way.
                </p>
            </li>
            <li> Termination.

                <p>You may not propagate or modify a covered work except as expressly provided under this License. Any attempt otherwise to propagate or modify it is void, and will automatically terminate your rights under this License (including any patent
                    licenses granted under the third paragraph of section 11).
                </p>
                <p>However, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently,
                    if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation.
                </p>
                <p>Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License
                    (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.
                </p>
                <p>Termination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, you do not qualify
                    to receive new licenses for the same material under section 10.
                </p>
            </li>
            <li> Acceptance Not Required for Having Copies.

                <p>You are not required to accept this License in order to receive or run a copy of the Program. Ancillary propagation of a covered work occurring solely as a consequence of using peer-to-peer transmission to receive a copy likewise does
                    not require acceptance. However, nothing other than this License grants you permission to propagate or modify any covered work. These actions infringe copyright if you do not accept this License. Therefore, by modifying or propagating
                    a covered work, you indicate your acceptance of this License to do so.
                </p>
            </li>
            <li> Automatic Licensing of Downstream Recipients.

                <p>Each time you convey a covered work, the recipient automatically receives a license from the original licensors, to run, modify and propagate that work, subject to this License. You are not responsible for enforcing compliance by third
                    parties with this License.
                </p>
                <p>An &ldquo;entity transaction&rdquo; is a transaction transferring control of an organization, or substantially all assets of one, or subdividing an organization, or merging organizations. If propagation of a covered work results from an
                    entity transaction, each party to that transaction who receives a copy of the work also receives whatever licenses to the work the party&rsquo;s predecessor in interest had or could give under the previous paragraph, plus a right to
                    possession of the Corresponding Source of the work from the predecessor in interest, if the predecessor has it or can get it with reasonable efforts.
                </p>
                <p>You may not impose any further restrictions on the exercise of the rights granted or affirmed under this License. For example, you may not impose a license fee, royalty, or other charge for exercise of rights granted under this License,
                    and you may not initiate litigation (including a cross-claim or counterclaim in a lawsuit) alleging that any patent claim is infringed by making, using, selling, offering for sale, or importing the Program or any portion of it.
                </p>
            </li>
            <li> Patents.

                <p>A &ldquo;contributor&rdquo; is a copyright holder who authorizes use under this License of the Program or a work on which the Program is based. The work thus licensed is called the contributor&rsquo;s &ldquo;contributor version&rdquo;.
                </p>
                <p>A contributor&rsquo;s &ldquo;essential patent claims&rdquo; are all patent claims owned or controlled by the contributor, whether already acquired or hereafter acquired, that would be infringed by some manner, permitted by this License,
                    of making, using, or selling its contributor version, but do not include claims that would be infringed only as a consequence of further modification of the contributor version. For purposes of this definition, &ldquo;control&rdquo;
                    includes the right to grant patent sublicenses in a manner consistent with the requirements of this License.
                </p>
                <p>Each contributor grants you a non-exclusive, worldwide, royalty-free patent license under the contributor&rsquo;s essential patent claims, to make, use, sell, offer for sale, import and otherwise run, modify and propagate the contents
                    of its contributor version.
                </p>
                <p>In the following three paragraphs, a &ldquo;patent license&rdquo; is any express agreement or commitment, however denominated, not to enforce a patent (such as an express permission to practice a patent or covenant not to sue for patent
                    infringement). To &ldquo;grant&rdquo; such a patent license to a party means to make such an agreement or commitment not to enforce a patent against the party.
                </p>
                <p>If you convey a covered work, knowingly relying on a patent license, and the Corresponding Source of the work is not available for anyone to copy, free of charge and under the terms of this License, through a publicly available network
                    server or other readily accessible means, then you must either (1) cause the Corresponding Source to be so available, or (2) arrange to deprive yourself of the benefit of the patent license for this particular work, or (3) arrange,
                    in a manner consistent with the requirements of this License, to extend the patent license to downstream recipients. &ldquo;Knowingly relying&rdquo; means you have actual knowledge that, but for the patent license, your conveying the
                    covered work in a country, or your recipient&rsquo;s use of the covered work in a country, would infringe one or more identifiable patents in that country that you have reason to believe are valid.
                </p>
                <p>If, pursuant to or in connection with a single transaction or arrangement, you convey, or propagate by procuring conveyance of, a covered work, and grant a patent license to some of the parties receiving the covered work authorizing them
                    to use, propagate, modify or convey a specific copy of the covered work, then the patent license you grant is automatically extended to all recipients of the covered work and works based on it.
                </p>
                <p>A patent license is &ldquo;discriminatory&rdquo; if it does not include within the scope of its coverage, prohibits the exercise of, or is conditioned on the non-exercise of one or more of the rights that are specifically granted under
                    this License. You may not convey a covered work if you are a party to an arrangement with a third party that is in the business of distributing software, under which you make payment to the third party based on the extent of your activity
                    of conveying the work, and under which the third party grants, to any of the parties who would receive the covered work from you, a discriminatory patent license (a) in connection with copies of the covered work conveyed by you (or
                    copies made from those copies), or (b) primarily for and in connection with specific products or compilations that contain the covered work, unless you entered into that arrangement, or that patent license was granted, prior to 28
                    March 2007.
                </p>
                <p>Nothing in this License shall be construed as excluding or limiting any implied license or other defenses to infringement that may otherwise be available to you under applicable patent law.
                </p>
            </li>
            <li> No Surrender of Others&rsquo; Freedom.

                <p>If conditions are imposed on you (whether by court order, agreement or otherwise) that contradict the conditions of this License, they do not excuse you from the conditions of this License. If you cannot convey a covered work so as to
                    satisfy simultaneously your obligations under this License and any other pertinent obligations, then as a consequence you may not convey it at all. For example, if you agree to terms that obligate you to collect a royalty for further
                    conveying from those to whom you convey the Program, the only way you could satisfy both those terms and this License would be to refrain entirely from conveying the Program.
                </p>
            </li>
            <li> Use with the GNU Affero General Public License.

                <p>Notwithstanding any other provision of this License, you have permission to link or combine any covered work with a work licensed under version 3 of the GNU Affero General Public License into a single combined work, and to convey the resulting
                    work. The terms of this License will continue to apply to the part which is the covered work, but the special requirements of the GNU Affero General Public License, section 13, concerning interaction through a network will apply to
                    the combination as such.
                </p>
            </li>
            <li> Revised Versions of this License.

                <p>The Free Software Foundation may publish revised and/or new versions of the GNU General Public License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems
                    or concerns.
                </p>
                <p>Each version is given a distinguishing version number. If the Program specifies that a certain numbered version of the GNU General Public License &ldquo;or any later version&rdquo; applies to it, you have the option of following the terms
                    and conditions either of that numbered version or of any later version published by the Free Software Foundation. If the Program does not specify a version number of the GNU General Public License, you may choose any version ever published
                    by the Free Software Foundation.
                </p>
                <p>If the Program specifies that a proxy can decide which future versions of the GNU General Public License can be used, that proxy&rsquo;s public statement of acceptance of a version permanently authorizes you to choose that version for
                    the Program.
                </p>
                <p>Later license versions may give you additional or different permissions. However, no additional obligations are imposed on any author or copyright holder as a result of your choosing to follow a later version.
                </p>
            </li>
            <li> Disclaimer of Warranty.

                <p>THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM &ldquo;AS IS&rdquo; WITHOUT WARRANTY OF ANY KIND, EITHER
                    EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE PROGRAM PROVE
                    DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.
                </p>
            </li>
            <li> Limitation of Liability.

                <p>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL,
                    INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
                    PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
                </p>
            </li>
            <li> Interpretation of Sections 15 and 16.

                <p>If the disclaimer of warranty and limitation of liability provided above cannot be given local legal effect according to their terms, reviewing courts shall apply local law that most closely approximates an absolute waiver of all civil
                    liability in connection with the Program, unless a warranty or assumption of liability accompanies a copy of the Program in return for a fee.
                </p>
            </li>
        </ol>

        <a name="END-OF-TERMS-AND-CONDITIONS"></a>
        <h3 class="heading">END OF TERMS AND CONDITIONS</h3>

        <a name="How-to-Apply-These-Terms-to-Your-New-Programs"></a>
        <h3 class="heading">How to Apply These Terms to Your New Programs</h3>

        <p>If you develop a new program, and you want it to be of the greatest possible use to the public, the best way to achieve this is to make it free software which everyone can redistribute and change under these terms.
        </p>
        <p>To do so, attach the following notices to the program. It is safest to attach them to the start of each source file to most effectively state the exclusion of warranty; and each file should have at least the &ldquo;copyright&rdquo; line and a
            pointer to where the full notice is found.
        </p>
        <div class="smallexample">
            <pre class="smallexample"><var>one line to give the program's name and a brief idea of what it does.</var>
Copyright (C) <var>year</var> <var>name of author</var>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at
your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
</pre></div>

        <p>Also add information on how to contact you by electronic and paper mail.
        </p>
        <p>If the program does terminal interaction, make it output a short notice like this when it starts in an interactive mode:
        </p>
        <div class="smallexample">
            <pre class="smallexample"><var>program</var> Copyright (C) <var>year</var> <var>name of author</var>
This program comes with ABSOLUTELY NO WARRANTY; for details type &lsquo;<samp>show w</samp>&rsquo;.
This is free software, and you are welcome to redistribute it
under certain conditions; type &lsquo;<samp>show c</samp>&rsquo; for details.
</pre></div>

        <p>The hypothetical commands &lsquo;<samp>show w</samp>&rsquo; and &lsquo;<samp>show c</samp>&rsquo; should show the appropriate parts of the General Public License. Of course, your program&rsquo;s commands might be different; for a GUI interface,
            you would use an &ldquo;about box&rdquo;.
        </p>
        <p>You should also get your employer (if you work as a programmer) or school, if any, to sign a &ldquo;copyright disclaimer&rdquo; for the program, if necessary. For more information on this, and how to apply and follow the GNU GPL, see
            <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
        </p>
        <p>The GNU General Public License does not permit incorporating your program into proprietary programs. If your program is a subroutine library, you may consider it more useful to permit linking proprietary applications with the library. If this
            is what you want to do, use the GNU Lesser General Public License instead of this License. But first, please read <a href="http://www.gnu.org/philosophy/why-not-lgpl.html">http://www.gnu.org/philosophy/why-not-lgpl.html</a>.
        </p>
        <hr>
        <a name="Concepts"></a>
        <div class="header">
            <p>
                Next: <a href="#Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#Copying" accesskey="p" rel="prev">Copying</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Concepts-of-Bison"></a>
        <h2 class="chapter">1 The Concepts of Bison</h2>

        <p>This chapter introduces many of the basic concepts without which the details of Bison will not make sense. If you do not already know how to use Bison or Yacc, we suggest you start by reading this chapter carefully.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Language-and-Grammar" accesskey="1">Language and Grammar</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Languages and context-free grammars, as mathematical ideas.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-in-Bison" accesskey="2">Grammar in Bison</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How we represent grammars for Bison&rsquo;s sake.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Values" accesskey="3">Semantic Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Each token or syntactic grouping can have a semantic value (the value of an integer, the name of an identifier, etc.).
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Actions" accesskey="4">Semantic Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Each rule can have an action containing C code.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#GLR-Parsers" accesskey="5">GLR Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Writing parsers for general context-free languages.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Locations" accesskey="6">Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Overview of location tracking.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bison-Parser" accesskey="7">Bison Parser</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">What are Bison&rsquo;s input and output, how is the output used?
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Stages" accesskey="8">Stages</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Stages in writing and running Bison grammars.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-Layout" accesskey="9">Grammar Layout</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Overall structure of a Bison grammar file.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Language-and-Grammar"></a>
        <div class="header">
            <p>
                Next: <a href="#Grammar-in-Bison" accesskey="n" rel="next">Grammar in Bison</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Languages-and-Context_002dFree-Grammars"></a>
        <h3 class="section">1.1 Languages and Context-Free Grammars</h3>

        <a name="index-context_002dfree-grammar"></a>
        <a name="index-grammar_002c-context_002dfree"></a>
        <p>In order for Bison to parse a language, it must be described by a
            <em>context-free grammar</em>. This means that you specify one or more
            <em>syntactic groupings</em> and give rules for constructing them from their parts. For example, in the C language, one kind of grouping is called an &lsquo;expression&rsquo;. One rule for making an expression might be, &ldquo;An expression
            can be made of a minus sign and another expression&rdquo;. Another would be, &ldquo;An expression can be an integer&rdquo;. As you can see, rules are often recursive, but there must be at least one rule which leads out of the recursion.
        </p>
        <a name="index-BNF"></a>
        <a name="index-Backus_002dNaur-form"></a>
        <p>The most common formal system for presenting such rules for humans to read is <em>Backus-Naur Form</em> or &ldquo;BNF&rdquo;, which was developed in order to specify the language Algol 60. Any grammar expressed in BNF is a context-free grammar.
            The input to Bison is essentially machine-readable BNF.
        </p>
        <a name="index-LALR-grammars"></a>
        <a name="index-IELR-grammars"></a>
        <a name="index-LR-grammars"></a>
        <p>There are various important subclasses of context-free grammars. Although it can handle almost all context-free grammars, Bison is optimized for what are called LR(1) grammars. In brief, in these grammars, it must be possible to tell how to parse
            any portion of an input string with just a single token of lookahead. For historical reasons, Bison by default is limited by the additional restrictions of LALR(1), which is hard to explain simply. See <a href="#Mysterious-Conflicts">Mysterious Conflicts</a>,
            for more information on this. As an experimental feature, you can escape these additional restrictions by requesting IELR(1) or canonical LR(1) parser tables. See <a href="#LR-Table-Construction">LR Table Construction</a>, to learn how.
        </p>
        <a name="index-GLR-parsing"></a>
        <a name="index-generalized-LR-_0028GLR_0029-parsing"></a>
        <a name="index-ambiguous-grammars"></a>
        <a name="index-nondeterministic-parsing"></a>

        <p>Parsers for LR(1) grammars are <em>deterministic</em>, meaning roughly that the next grammar rule to apply at any point in the input is uniquely determined by the preceding input and a fixed, finite portion (called a <em>lookahead</em>) of the
            remaining input. A context-free grammar can be <em>ambiguous</em>, meaning that there are multiple ways to apply the grammar rules to get the same inputs. Even unambiguous grammars can be <em>nondeterministic</em>, meaning that no fixed lookahead
            always suffices to determine the next grammar rule to apply. With the proper declarations, Bison is also able to parse these more general context-free grammars, using a technique known as GLR parsing (for Generalized LR). Bison&rsquo;s GLR
            parsers are able to handle any context-free grammar for which the number of possible parses of any given string is finite.
        </p>
        <a name="index-symbols-_0028abstract_0029"></a>
        <a name="index-token"></a>
        <a name="index-syntactic-grouping"></a>
        <a name="index-grouping_002c-syntactic"></a>
        <p>In the formal grammatical rules for a language, each kind of syntactic unit or grouping is named by a <em>symbol</em>. Those which are built by grouping smaller constructs according to grammatical rules are called
            <em>nonterminal symbols</em>; those which can&rsquo;t be subdivided are called
            <em>terminal symbols</em> or <em>token types</em>. We call a piece of input corresponding to a single terminal symbol a <em>token</em>, and a piece corresponding to a single nonterminal symbol a <em>grouping</em>.
        </p>
        <p>We can use the C language as an example of what symbols, terminal and nonterminal, mean. The tokens of C are identifiers, constants (numeric and string), and the various keywords, arithmetic operators and punctuation marks. So the terminal symbols
            of a grammar for C include &lsquo;identifier&rsquo;, &lsquo;number&rsquo;, &lsquo;string&rsquo;, plus one symbol for each keyword, operator or punctuation mark: &lsquo;if&rsquo;, &lsquo;return&rsquo;, &lsquo;const&rsquo;, &lsquo;static&rsquo;,
            &lsquo;int&rsquo;, &lsquo;char&rsquo;, &lsquo;plus-sign&rsquo;, &lsquo;open-brace&rsquo;, &lsquo;close-brace&rsquo;, &lsquo;comma&rsquo; and many more. (These tokens can be subdivided into characters, but that is a matter of lexicography,
            not grammar.)
        </p>
        <p>Here is a simple C function subdivided into tokens:
        </p>
        <div class="example">
            <pre class="example">int             /* <span class="roman">keyword &lsquo;int&rsquo;</span> */
square (int x)  /* <span class="roman">identifier, open-paren, keyword &lsquo;int&rsquo;,</span>
                   <span class="roman">identifier, close-paren</span> */
{               /* <span class="roman">open-brace</span> */
  return x * x; /* <span class="roman">keyword &lsquo;return&rsquo;, identifier, asterisk,</span>
                   <span class="roman">identifier, semicolon</span> */
}               /* <span class="roman">close-brace</span> */
</pre></div>

        <p>The syntactic groupings of C include the expression, the statement, the declaration, and the function definition. These are represented in the grammar of C by nonterminal symbols &lsquo;expression&rsquo;, &lsquo;statement&rsquo;, &lsquo;declaration&rsquo;
            and &lsquo;function definition&rsquo;. The full grammar uses dozens of additional language constructs, each with its own nonterminal symbol, in order to express the meanings of these four. The example above is a function definition; it contains
            one declaration, and one statement. In the statement, each &lsquo;<samp>x</samp>&rsquo; is an expression and so is &lsquo;<samp>x * x</samp>&rsquo;.
        </p>
        <p>Each nonterminal symbol must have grammatical rules showing how it is made out of simpler constructs. For example, one kind of C statement is the
            <code>return</code> statement; this would be described with a grammar rule which reads informally as follows:
        </p>
        <blockquote>
            <p>A &lsquo;statement&rsquo; can be made of a &lsquo;return&rsquo; keyword, an &lsquo;expression&rsquo; and a &lsquo;semicolon&rsquo;.
            </p>
        </blockquote>

        <p>There would be many other rules for &lsquo;statement&rsquo;, one for each kind of statement in C.
        </p>
        <a name="index-start-symbol"></a>
        <p>One nonterminal symbol must be distinguished as the special one which defines a complete utterance in the language. It is called the <em>start
symbol</em>. In a compiler, this means a complete input program. In the C language, the nonterminal symbol &lsquo;sequence of definitions and declarations&rsquo; plays this role.
        </p>
        <p>For example, &lsquo;<samp>1 + 2</samp>&rsquo; is a valid C expression&mdash;a valid part of a C program&mdash;but it is not valid as an <em>entire</em> C program. In the context-free grammar of C, this follows from the fact that &lsquo;expression&rsquo;
            is not the start symbol.
        </p>
        <p>The Bison parser reads a sequence of tokens as its input, and groups the tokens using the grammar rules. If the input is valid, the end result is that the entire token sequence reduces to a single grouping whose symbol is the grammar&rsquo;s start
            symbol. If we use a grammar for C, the entire input must be a &lsquo;sequence of definitions and declarations&rsquo;. If not, the parser reports a syntax error.
        </p>
        <hr>
        <a name="Grammar-in-Bison"></a>
        <div class="header">
            <p>
                Next: <a href="#Semantic-Values" accesskey="n" rel="next">Semantic Values</a>, Previous: <a href="#Language-and-Grammar" accesskey="p" rel="prev">Language and Grammar</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="From-Formal-Rules-to-Bison-Input"></a>
        <h3 class="section">1.2 From Formal Rules to Bison Input</h3>
        <a name="index-Bison-grammar"></a>
        <a name="index-grammar_002c-Bison"></a>
        <a name="index-formal-grammar"></a>

        <p>A formal grammar is a mathematical construct. To define the language for Bison, you must write a file expressing the grammar in Bison syntax: a <em>Bison grammar</em> file. See <a href="#Grammar-File">Bison Grammar Files</a>.
        </p>
        <p>A nonterminal symbol in the formal grammar is represented in Bison input as an identifier, like an identifier in C. By convention, it should be in lower case, such as <code>expr</code>, <code>stmt</code> or <code>declaration</code>.
        </p>
        <p>The Bison representation for a terminal symbol is also called a <em>token
type</em>. Token types as well can be represented as C-like identifiers. By convention, these identifiers should be upper case to distinguish them from nonterminals: for example, <code>INTEGER</code>, <code>IDENTIFIER</code>, <code>IF</code> or
            <code>RETURN</code>. A terminal symbol that stands for a particular keyword in the language should be named after that keyword converted to upper case. The terminal symbol <code>error</code> is reserved for error recovery. See <a href="#Symbols">Symbols</a>.
        </p>
        <p>A terminal symbol can also be represented as a character literal, just like a C character constant. You should do this whenever a token is just a single character (parenthesis, plus-sign, etc.): use that same character in a literal as the terminal
            symbol for that token.
        </p>
        <p>A third way to represent a terminal symbol is with a C string constant containing several characters. See <a href="#Symbols">Symbols</a>, for more information.
        </p>
        <p>The grammar rules also have an expression in Bison syntax. For example, here is the Bison rule for a C <code>return</code> statement. The semicolon in quotes is a literal character token, representing part of the C syntax for the statement; the
            naked semicolon, and the colon, are Bison punctuation used in every rule.
        </p>
        <div class="example">
            <pre class="example">stmt: RETURN expr ';' ;
</pre></div>

        <p>See <a href="#Rules">Syntax of Grammar Rules</a>.
        </p>
        <hr>
        <a name="Semantic-Values"></a>
        <div class="header">
            <p>
                Next: <a href="#Semantic-Actions" accesskey="n" rel="next">Semantic Actions</a>, Previous: <a href="#Grammar-in-Bison" accesskey="p" rel="prev">Grammar in Bison</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Semantic-Values-1"></a>
        <h3 class="section">1.3 Semantic Values</h3>
        <a name="index-semantic-value"></a>
        <a name="index-value_002c-semantic"></a>

        <p>A formal grammar selects tokens only by their classifications: for example, if a rule mentions the terminal symbol &lsquo;integer constant&rsquo;, it means that
            <em>any</em> integer constant is grammatically valid in that position. The precise value of the constant is irrelevant to how to parse the input: if &lsquo;
            <samp>x+4</samp>&rsquo; is grammatical then &lsquo;<samp>x+1</samp>&rsquo; or &lsquo;<samp>x+3989</samp>&rsquo; is equally grammatical.
        </p>
        <p>But the precise value is very important for what the input means once it is parsed. A compiler is useless if it fails to distinguish between 4, 1 and 3989 as constants in the program! Therefore, each token in a Bison grammar has both a token type
            and a <em>semantic value</em>. See <a href="#Semantics">Defining Language Semantics</a>, for details.
        </p>
        <p>The token type is a terminal symbol defined in the grammar, such as
            <code>INTEGER</code>, <code>IDENTIFIER</code> or <code>','</code>. It tells everything you need to know to decide where the token may validly appear and how to group it with other tokens. The grammar rules know nothing about tokens except
            their types.
        </p>
        <p>The semantic value has all the rest of the information about the meaning of the token, such as the value of an integer, or the name of an identifier. (A token such as <code>','</code> which is just punctuation doesn&rsquo;t need to have any semantic
            value.)
        </p>
        <p>For example, an input token might be classified as token type
            <code>INTEGER</code> and have the semantic value 4. Another input token might have the same token type <code>INTEGER</code> but value 3989. When a grammar rule says that <code>INTEGER</code> is allowed, either of these tokens is acceptable
            because each is an <code>INTEGER</code>. When the parser accepts the token, it keeps track of the token&rsquo;s semantic value.
        </p>
        <p>Each grouping can also have a semantic value as well as its nonterminal symbol. For example, in a calculator, an expression typically has a semantic value that is a number. In a compiler for a programming language, an expression typically has
            a semantic value that is a tree structure describing the meaning of the expression.
        </p>
        <hr>
        <a name="Semantic-Actions"></a>
        <div class="header">
            <p>
                Next: <a href="#GLR-Parsers" accesskey="n" rel="next">GLR Parsers</a>, Previous: <a href="#Semantic-Values" accesskey="p" rel="prev">Semantic Values</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Semantic-Actions-1"></a>
        <h3 class="section">1.4 Semantic Actions</h3>
        <a name="index-semantic-actions"></a>
        <a name="index-actions_002c-semantic"></a>

        <p>In order to be useful, a program must do more than parse input; it must also produce some output based on the input. In a Bison grammar, a grammar rule can have an <em>action</em> made up of C statements. Each time the parser recognizes a match
            for that rule, the action is executed. See <a href="#Actions">Actions</a>.
        </p>
        <p>Most of the time, the purpose of an action is to compute the semantic value of the whole construct from the semantic values of its parts. For example, suppose we have a rule which says an expression can be the sum of two expressions. When the
            parser recognizes such a sum, each of the subexpressions has a semantic value which describes how it was built up. The action for this rule should create a similar sort of value for the newly recognized larger expression.
        </p>
        <p>For example, here is a rule that says an expression can be the sum of two subexpressions:
        </p>
        <div class="example">
            <pre class="example">expr: expr '+' expr   { $$ = $1 + $3; } ;
</pre></div>

        <p>The action says how to produce the semantic value of the sum expression from the values of the two subexpressions.
        </p>
        <hr>
        <a name="GLR-Parsers"></a>
        <div class="header">
            <p>
                Next: <a href="#Locations" accesskey="n" rel="next">Locations</a>, Previous: <a href="#Semantic-Actions" accesskey="p" rel="prev">Semantic Actions</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Writing-GLR-Parsers"></a>
        <h3 class="section">1.5 Writing GLR Parsers</h3>
        <a name="index-GLR-parsing-1"></a>
        <a name="index-generalized-LR-_0028GLR_0029-parsing-1"></a>
        <a name="index-_0025glr_002dparser"></a>
        <a name="index-conflicts"></a>
        <a name="index-shift_002freduce-conflicts"></a>
        <a name="index-reduce_002freduce-conflicts"></a>

        <p>In some grammars, Bison&rsquo;s deterministic LR(1) parsing algorithm cannot decide whether to apply a certain grammar rule at a given point. That is, it may not be able to decide (on the basis of the input read so far) which of two possible reductions
            (applications of a grammar rule) applies, or whether to apply a reduction or read more of the input and apply a reduction later in the input. These are known respectively as <em>reduce/reduce</em> conflicts (see <a href="#Reduce_002fReduce">Reduce/Reduce</a>),
            and <em>shift/reduce</em> conflicts (see <a href="#Shift_002fReduce">Shift/Reduce</a>).
        </p>
        <p>To use a grammar that is not easily modified to be LR(1), a more general parsing algorithm is sometimes necessary. If you include
            <code>%glr-parser</code> among the Bison declarations in your file (see <a href="#Grammar-Outline">Grammar Outline</a>), the result is a Generalized LR (GLR) parser. These parsers handle Bison grammars that contain no unresolved conflicts
            (i.e., after applying precedence declarations) identically to deterministic parsers. However, when faced with unresolved shift/reduce and reduce/reduce conflicts, GLR parsers use the simple expedient of doing both, effectively cloning the
            parser to follow both possibilities. Each of the resulting parsers can again split, so that at any given time, there can be any number of possible parses being explored. The parsers proceed in lockstep; that is, all of them consume (shift)
            a given input symbol before any of them proceed to the next. Each of the cloned parsers eventually meets one of two possible fates: either it runs into a parsing error, in which case it simply vanishes, or it merges with another parser, because
            the two of them have reduced the input to an identical set of symbols.
        </p>
        <p>During the time that there are multiple parsers, semantic actions are recorded, but not performed. When a parser disappears, its recorded semantic actions disappear as well, and are never performed. When a reduction makes two parsers identical,
            causing them to merge, Bison records both sets of semantic actions. Whenever the last two parsers merge, reverting to the single-parser case, Bison resolves all the outstanding actions either by precedences given to the grammar rules involved,
            or by performing both actions, and then calling a designated user-defined function on the resulting values to produce an arbitrary merged result.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Simple-GLR-Parsers" accesskey="1">Simple GLR Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using GLR parsers on unambiguous grammars.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Merging-GLR-Parses" accesskey="2">Merging GLR Parses</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using GLR parsers to resolve ambiguities.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#GLR-Semantic-Actions" accesskey="3">GLR Semantic Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Considerations for semantic values and deferred actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Predicates" accesskey="4">Semantic Predicates</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Controlling a parse with arbitrary computations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Compiler-Requirements" accesskey="5">Compiler Requirements</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">GLR parsers require a modern C compiler.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Simple-GLR-Parsers"></a>
        <div class="header">
            <p>
                Next: <a href="#Merging-GLR-Parses" accesskey="n" rel="next">Merging GLR Parses</a>, Up: <a href="#GLR-Parsers" accesskey="u" rel="up">GLR Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Using-GLR-on-Unambiguous-Grammars"></a>
        <h4 class="subsection">1.5.1 Using GLR on Unambiguous Grammars</h4>
        <a name="index-GLR-parsing_002c-unambiguous-grammars"></a>
        <a name="index-generalized-LR-_0028GLR_0029-parsing_002c-unambiguous-grammars"></a>
        <a name="index-_0025glr_002dparser-1"></a>
        <a name="index-_0025expect_002drr"></a>
        <a name="index-conflicts-1"></a>
        <a name="index-reduce_002freduce-conflicts-1"></a>
        <a name="index-shift_002freduce-conflicts-1"></a>

        <p>In the simplest cases, you can use the GLR algorithm to parse grammars that are unambiguous but fail to be LR(1). Such grammars typically require more than one symbol of lookahead.
        </p>
        <p>Consider a problem that arises in the declaration of enumerated and subrange types in the programming language Pascal. Here are some examples:
        </p>
        <div class="example">
            <pre class="example">type subrange = lo .. hi;
type enum = (a, b, c);
</pre></div>

        <p>The original language standard allows only numeric literals and constant identifiers for the subrange bounds (&lsquo;<samp>lo</samp>&rsquo; and &lsquo;<samp>hi</samp>&rsquo;), but Extended Pascal (ISO/IEC 10206) and many other Pascal implementations
            allow arbitrary expressions there. This gives rise to the following situation, containing a superfluous pair of parentheses:
        </p>
        <div class="example">
            <pre class="example">type subrange = (a) .. b;
</pre></div>

        <p>Compare this to the following declaration of an enumerated type with only one value:
        </p>
        <div class="example">
            <pre class="example">type enum = (a);
</pre></div>

        <p>(These declarations are contrived, but they are syntactically valid, and more-complicated cases can come up in practical programs.)
        </p>
        <p>These two declarations look identical until the &lsquo;<samp>..</samp>&rsquo; token. With normal LR(1) one-token lookahead it is not possible to decide between the two forms when the identifier &lsquo;
            <samp>a</samp>&rsquo; is parsed. It is, however, desirable for a parser to decide this, since in the latter case &lsquo;
            <samp>a</samp>&rsquo; must become a new identifier to represent the enumeration value, while in the former case &lsquo;<samp>a</samp>&rsquo; must be evaluated with its current meaning, which may be a constant or even a function call.
        </p>
        <p>You could parse &lsquo;<samp>(a)</samp>&rsquo; as an &ldquo;unspecified identifier in parentheses&rdquo;, to be resolved later, but this typically requires substantial contortions in both semantic actions and large parts of the grammar, where
            the parentheses are nested in the recursive rules for expressions.
        </p>
        <p>You might think of using the lexer to distinguish between the two forms by returning different tokens for currently defined and undefined identifiers. But if these declarations occur in a local scope, and &lsquo;<samp>a</samp>&rsquo; is defined
            in an outer scope, then both forms are possible&mdash;either locally redefining &lsquo;<samp>a</samp>&rsquo;, or using the value of &lsquo;<samp>a</samp>&rsquo; from the outer scope. So this approach cannot work.
        </p>
        <p>A simple solution to this problem is to declare the parser to use the GLR algorithm. When the GLR parser reaches the critical state, it merely splits into two branches and pursues both syntax rules simultaneously. Sooner or later, one of them
            runs into a parsing error. If there is a &lsquo;<samp>..</samp>&rsquo; token before the next &lsquo;
            <samp>;</samp>&rsquo;, the rule for enumerated types fails since it cannot accept &lsquo;<samp>..</samp>&rsquo; anywhere; otherwise, the subrange type rule fails since it requires a &lsquo;<samp>..</samp>&rsquo; token. So one of the branches
            fails silently, and the other one continues normally, performing all the intermediate actions that were postponed during the split.
        </p>
        <p>If the input is syntactically incorrect, both branches fail and the parser reports a syntax error as usual.
        </p>
        <p>The effect of all this is that the parser seems to &ldquo;guess&rdquo; the correct branch to take, or in other words, it seems to use more lookahead than the underlying LR(1) algorithm actually allows for. In this example, LR(2) would suffice,
            but also some cases that are not LR(<em>k</em>) for any <em>k</em> can be handled this way.
        </p>
        <p>In general, a GLR parser can take quadratic or cubic worst-case time, and the current Bison parser even takes exponential time and space for some grammars. In practice, this rarely happens, and for many grammars it is possible to prove that it
            cannot happen. The present example contains only one conflict between two rules, and the type-declaration context containing the conflict cannot be nested. So the number of branches that can exist at any time is limited by the constant 2,
            and the parsing time is still linear.
        </p>
        <p>Here is a Bison grammar corresponding to the example above. It parses a vastly simplified form of Pascal type declarations.
        </p>
        <div class="example">
            <pre class="example">%token TYPE DOTDOT ID

</pre><pre class="example">%left '+' '-'
%left '*' '/'
</pre><pre class="example">
%%
type_decl: TYPE ID '=' type ';' ;

</pre><pre class="example">type:
  '(' id_list ')'
| expr DOTDOT expr
;
</pre><pre class="example">
</pre><pre class="example">id_list:
  ID
| id_list ',' ID
;
</pre><pre class="example">
</pre><pre class="example">expr:
  '(' expr ')'
| expr '+' expr
| expr '-' expr
| expr '*' expr
| expr '/' expr
| ID
;
</pre></div>

        <p>When used as a normal LR(1) grammar, Bison correctly complains about one reduce/reduce conflict. In the conflicting situation the parser chooses one of the alternatives, arbitrarily the one declared first. Therefore the following correct input
            is not recognized:
        </p>
        <div class="example">
            <pre class="example">type t = (a) .. b;
</pre></div>

        <p>The parser can be turned into a GLR parser, while also telling Bison to be silent about the one known reduce/reduce conflict, by adding these two declarations to the Bison grammar file (before the first &lsquo;
            <samp>%%</samp>&rsquo;):
        </p>
        <div class="example">
            <pre class="example">%glr-parser
%expect-rr 1
</pre></div>

        <p>No change in the grammar itself is required. Now the parser recognizes all valid declarations, according to the limited syntax above, transparently. In fact, the user does not even notice when the parser splits.
        </p>
        <p>So here we have a case where we can use the benefits of GLR, almost without disadvantages. Even in simple cases like this, however, there are at least two potential problems to beware. First, always analyze the conflicts reported by Bison to make
            sure that GLR splitting is only done where it is intended. A GLR parser splitting inadvertently may cause problems less obvious than an LR parser statically choosing the wrong alternative in a conflict. Second, consider interactions with the
            lexer (see <a href="#Semantic-Tokens">Semantic Tokens</a>) with great care. Since a split parser consumes tokens without performing any actions during the split, the lexer cannot obtain information via parser actions. Some cases of lexer interactions
            can be eliminated by using GLR to shift the complications from the lexer to the parser. You must check the remaining cases for correctness.
        </p>
        <p>In our example, it would be safe for the lexer to return tokens based on their current meanings in some symbol table, because no new symbols are defined in the middle of a type declaration. Though it is possible for a parser to define the enumeration
            constants as they are parsed, before the type declaration is completed, it actually makes no difference since they cannot be used within the same enumerated type declaration.
        </p>
        <hr>
        <a name="Merging-GLR-Parses"></a>
        <div class="header">
            <p>
                Next: <a href="#GLR-Semantic-Actions" accesskey="n" rel="next">GLR Semantic Actions</a>, Previous: <a href="#Simple-GLR-Parsers" accesskey="p" rel="prev">Simple GLR Parsers</a>, Up: <a href="#GLR-Parsers" accesskey="u" rel="up">GLR Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Using-GLR-to-Resolve-Ambiguities"></a>
        <h4 class="subsection">1.5.2 Using GLR to Resolve Ambiguities</h4>
        <a name="index-GLR-parsing_002c-ambiguous-grammars"></a>
        <a name="index-generalized-LR-_0028GLR_0029-parsing_002c-ambiguous-grammars"></a>
        <a name="index-_0025dprec"></a>
        <a name="index-_0025merge"></a>
        <a name="index-conflicts-2"></a>
        <a name="index-reduce_002freduce-conflicts-2"></a>

        <p>Let&rsquo;s consider an example, vastly simplified from a C++ grammar.
        </p>
        <div class="example">
            <pre class="example">%{
  #include &lt;stdio.h&gt;
  #define YYSTYPE char const *
  int yylex (void);
  void yyerror (char const *);
%}

%token TYPENAME ID

%right '='
%left '+'

%glr-parser

%%

prog:
  %empty
| prog stmt   { printf (&quot;\n&quot;); }
;

stmt:
  expr ';'  %dprec 1
| decl      %dprec 2
;

expr:
  ID               { printf (&quot;%s &quot;, $$); }
| TYPENAME '(' expr ')'
                   { printf (&quot;%s &lt;cast&gt; &quot;, $1); }
| expr '+' expr    { printf (&quot;+ &quot;); }
| expr '=' expr    { printf (&quot;= &quot;); }
;

decl:
  TYPENAME declarator ';'
                   { printf (&quot;%s &lt;declare&gt; &quot;, $1); }
| TYPENAME declarator '=' expr ';'
                   { printf (&quot;%s &lt;init-declare&gt; &quot;, $1); }
;

declarator:
  ID               { printf (&quot;\&quot;%s\&quot; &quot;, $1); }
| '(' declarator ')'
;
</pre></div>

        <p>This models a problematic part of the C++ grammar&mdash;the ambiguity between certain declarations and statements. For example,
        </p>
        <div class="example">
            <pre class="example">T (x) = y+z;
</pre></div>

        <p>parses as either an <code>expr</code> or a <strike><code>stmt</code></strike> <code>decl</code> (assuming that &lsquo;<samp>T</samp>&rsquo; is recognized as a <code>TYPENAME</code> and &lsquo;
            <samp>x</samp>&rsquo; as an <code>ID</code>). Bison detects this as a reduce/reduce conflict between the rules
            <code>expr : ID</code> and <code>declarator : ID</code>, which it cannot resolve at the time it encounters <code>x</code> in the example above. Since this is a GLR parser, it therefore splits the problem into two parses, one for each choice
            of resolving the reduce/reduce conflict. Unlike the example from the previous section (see <a href="#Simple-GLR-Parsers">Simple GLR Parsers</a>), however, neither of these parses &ldquo;dies,&rdquo; because the grammar as it stands is ambiguous.
            One of the parsers eventually reduces <code>stmt : expr ';'</code> and the other reduces <code>stmt : decl</code>, after which both parsers are in an identical state: they&rsquo;ve seen &lsquo;<samp>prog stmt</samp>&rsquo; and have the same
            unprocessed input remaining. We say that these parses have <em>merged.</em>
        </p>
        <p>At this point, the GLR parser requires a specification in the grammar of how to choose between the competing parses. In the example above, the two <code>%dprec</code> declarations specify that Bison is to give precedence to the parse that interprets
            the example as a
            <code>decl</code>, which implies that <code>x</code> is a declarator. The parser therefore prints
        </p>
        <div class="example">
            <pre class="example">&quot;x&quot; y z + T &lt;init-declare&gt;
</pre></div>

        <p>The <code>%dprec</code> declarations only come into play when more than one parse survives. Consider a different input string for this parser:
        </p>
        <div class="example">
            <pre class="example">T (x) + y;
</pre></div>

        <p>This is another example of using GLR to parse an unambiguous construct, as shown in the previous section (see <a href="#Simple-GLR-Parsers">Simple GLR Parsers</a>). Here, there is no ambiguity (this cannot be parsed as a declaration). However,
            at the time the Bison parser encounters <code>x</code>, it does not have enough information to resolve the reduce/reduce conflict (again, between <code>x</code> as an <code>expr</code> or a <code>declarator</code>). In this case, no precedence
            declaration is used. Again, the parser splits into two, one assuming that <code>x</code> is an <code>expr</code>, and the other assuming <code>x</code> is a <code>declarator</code>. The second of these parsers then vanishes when it sees <code>+</code>,
            and the parser prints
        </p>
        <div class="example">
            <pre class="example">x T &lt;cast&gt; y +
</pre></div>

        <p>Suppose that instead of resolving the ambiguity, you wanted to see all the possibilities. For this purpose, you must merge the semantic actions of the two possible parsers, rather than choosing one over the other. To do so, you could change the
            declaration of <code>stmt</code> as follows:
        </p>
        <div class="example">
            <pre class="example">stmt:
  expr ';'  %merge &lt;stmtMerge&gt;
| decl      %merge &lt;stmtMerge&gt;
;
</pre></div>

        <p>and define the <code>stmtMerge</code> function as:
        </p>
        <div class="example">
            <pre class="example">static YYSTYPE
stmtMerge (YYSTYPE x0, YYSTYPE x1)
{
  printf (&quot;&lt;OR&gt; &quot;);
  return &quot;&quot;;
}
</pre></div>

        <p>with an accompanying forward declaration in the C declarations at the beginning of the file:
        </p>
        <div class="example">
            <pre class="example">%{
  #define YYSTYPE char const *
  static YYSTYPE stmtMerge (YYSTYPE x0, YYSTYPE x1);
%}
</pre></div>

        <p>With these declarations, the resulting parser parses the first example as both an <code>expr</code> and a <code>decl</code>, and prints
        </p>
        <div class="example">
            <pre class="example">&quot;x&quot; y z + T &lt;init-declare&gt; x T &lt;cast&gt; y z + = &lt;OR&gt;
</pre></div>

        <p>Bison requires that all of the productions that participate in any particular merge have identical &lsquo;
            <samp>%merge</samp>&rsquo; clauses. Otherwise, the ambiguity would be unresolvable, and the parser will report an error during any parse that results in the offending merge.
        </p>
        <hr>
        <a name="GLR-Semantic-Actions"></a>
        <div class="header">
            <p>
                Next: <a href="#Semantic-Predicates" accesskey="n" rel="next">Semantic Predicates</a>, Previous: <a href="#Merging-GLR-Parses" accesskey="p" rel="prev">Merging GLR Parses</a>, Up: <a href="#GLR-Parsers" accesskey="u" rel="up">GLR Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="GLR-Semantic-Actions-1"></a>
        <h4 class="subsection">1.5.3 GLR Semantic Actions</h4>

        <p>The nature of GLR parsing and the structure of the generated parsers give rise to certain restrictions on semantic values and actions.
        </p>
        <a name="Deferred-semantic-actions"></a>
        <h4 class="subsubsection">1.5.3.1 Deferred semantic actions</h4>
        <a name="index-deferred-semantic-actions"></a>
        <p>By definition, a deferred semantic action is not performed at the same time as the associated reduction. This raises caveats for several Bison features you might use in a semantic action in a GLR parser.
        </p>
        <a name="index-yychar-2"></a>
        <a name="index-GLR-parsers-and-yychar"></a>
        <a name="index-yylval-2"></a>
        <a name="index-GLR-parsers-and-yylval"></a>
        <a name="index-yylloc-2"></a>
        <a name="index-GLR-parsers-and-yylloc"></a>
        <p>In any semantic action, you can examine <code>yychar</code> to determine the type of the lookahead token present at the time of the associated reduction. After checking that <code>yychar</code> is not set to <code>YYEMPTY</code> or <code>YYEOF</code>,
            you can then examine <code>yylval</code> and <code>yylloc</code> to determine the lookahead token&rsquo;s semantic value and location, if any. In a nondeferred semantic action, you can also modify any of these variables to influence syntax
            analysis. See <a href="#Lookahead">Lookahead Tokens</a>.
        </p>
        <a name="index-yyclearin"></a>
        <a name="index-GLR-parsers-and-yyclearin"></a>
        <p>In a deferred semantic action, it&rsquo;s too late to influence syntax analysis. In this case, <code>yychar</code>, <code>yylval</code>, and <code>yylloc</code> are set to shallow copies of the values they had at the time of the associated reduction.
            For this reason alone, modifying them is dangerous. Moreover, the result of modifying them is undefined and subject to change with future versions of Bison. For example, if a semantic action might be deferred, you should never write it to
            invoke
            <code>yyclearin</code> (see <a href="#Action-Features">Action Features</a>) or to attempt to free memory referenced by <code>yylval</code>.
        </p>
        <a name="YYERROR"></a>
        <h4 class="subsubsection">1.5.3.2 YYERROR</h4>
        <a name="index-YYERROR"></a>
        <a name="index-GLR-parsers-and-YYERROR"></a>
        <p>Another Bison feature requiring special consideration is <code>YYERROR</code> (see <a href="#Action-Features">Action Features</a>), which you can invoke in a semantic action to initiate error recovery. During deterministic GLR operation, the effect
            of <code>YYERROR</code> is the same as its effect in a deterministic parser. The effect in a deferred action is similar, but the precise point of the error is undefined; instead, the parser reverts to deterministic operation, selecting an
            unspecified stack on which to continue with a syntax error. In a semantic predicate (see <a href="#Semantic-Predicates">Semantic Predicates</a>) during nondeterministic parsing, <code>YYERROR</code> silently prunes the parse that invoked the
            test.
        </p>
        <a name="Restrictions-on-semantic-values-and-locations"></a>
        <h4 class="subsubsection">1.5.3.3 Restrictions on semantic values and locations</h4>
        <p>GLR parsers require that you use POD (Plain Old Data) types for semantic values and location types when using the generated parsers as C++ code.
        </p>
        <hr>
        <a name="Semantic-Predicates"></a>
        <div class="header">
            <p>
                Next: <a href="#Compiler-Requirements" accesskey="n" rel="next">Compiler Requirements</a>, Previous: <a href="#GLR-Semantic-Actions" accesskey="p" rel="prev">GLR Semantic Actions</a>, Up: <a href="#GLR-Parsers" accesskey="u" rel="up">GLR Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Controlling-a-Parse-with-Arbitrary-Predicates"></a>
        <h4 class="subsection">1.5.4 Controlling a Parse with Arbitrary Predicates</h4>
        <a name="index-_0025_003f"></a>
        <a name="index-Semantic-predicates-in-GLR-parsers"></a>

        <p>In addition to the <code>%dprec</code> and <code>%merge</code> directives, GLR parsers allow you to reject parses on the basis of arbitrary computations executed in user code, without having Bison treat this rejection as an error if there are
            alternative parses. (This feature is experimental and may evolve. We welcome user feedback.) For example,
        </p>
        <div class="example">
            <pre class="example">widget:
  %?{  new_syntax } &quot;widget&quot; id new_args  { $$ = f($3, $4); }
| %?{ !new_syntax } &quot;widget&quot; id old_args  { $$ = f($3, $4); }
;
</pre></div>

        <p>is one way to allow the same parser to handle two different syntaxes for widgets. The clause preceded by <code>%?</code> is treated like an ordinary action, except that its text is treated as an expression and is always evaluated immediately (even
            when in nondeterministic mode). If the expression yields 0 (false), the clause is treated as a syntax error, which, in a nondeterministic parser, causes the stack in which it is reduced to die. In a deterministic parser, it acts like YYERROR.
        </p>
        <p>As the example shows, predicates otherwise look like semantic actions, and therefore you must be take them into account when determining the numbers to use for denoting the semantic values of right-hand side symbols. Predicate actions, however,
            have no defined value, and may not be given labels.
        </p>
        <p>There is a subtle difference between semantic predicates and ordinary actions in nondeterministic mode, since the latter are deferred. For example, we could try to rewrite the previous example as
        </p>
        <div class="example">
            <pre class="example">widget:
  { if (!new_syntax) YYERROR; }
    &quot;widget&quot; id new_args  { $$ = f($3, $4); }
|  { if (new_syntax) YYERROR; }
    &quot;widget&quot; id old_args   { $$ = f($3, $4); }
;
</pre></div>

        <p>(reversing the sense of the predicate tests to cause an error when they are false). However, this does <em>not</em> have the same effect if <code>new_args</code> and <code>old_args</code> have overlapping syntax. Since the mid-rule actions testing
            <code>new_syntax</code> are deferred, a GLR parser first encounters the unresolved ambiguous reduction for cases where <code>new_args</code> and <code>old_args</code> recognize the same string
            <em>before</em> performing the tests of <code>new_syntax</code>. It therefore reports an error.
        </p>
        <p>Finally, be careful in writing predicates: deferred actions have not been evaluated, so that using them in a predicate will have undefined effects.
        </p>
        <hr>
        <a name="Compiler-Requirements"></a>
        <div class="header">
            <p>
                Previous: <a href="#Semantic-Predicates" accesskey="p" rel="prev">Semantic Predicates</a>, Up: <a href="#GLR-Parsers" accesskey="u" rel="up">GLR Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Considerations-when-Compiling-GLR-Parsers"></a>
        <h4 class="subsection">1.5.5 Considerations when Compiling GLR Parsers</h4>
        <a name="index-inline"></a>
        <a name="index-GLR-parsers-and-inline"></a>

        <p>The GLR parsers require a compiler for ISO C89 or later. In addition, they use the <code>inline</code> keyword, which is not C89, but is C99 and is a common extension in pre-C99 compilers. It is up to the user of these parsers to handle portability
            issues. For instance, if using Autoconf and the Autoconf macro <code>AC_C_INLINE</code>, a mere
        </p>
        <div class="example">
            <pre class="example">%{
  #include &lt;config.h&gt;
%}
</pre></div>

        <p>will suffice. Otherwise, we suggest
        </p>
        <div class="example">
            <pre class="example">%{
  #if (__STDC_VERSION__ &lt; 199901 &amp;&amp; ! defined __GNUC__ \
       &amp;&amp; ! defined inline)
  # define inline
  #endif
%}
</pre></div>

        <hr>
        <a name="Locations"></a>
        <div class="header">
            <p>
                Next: <a href="#Bison-Parser" accesskey="n" rel="next">Bison Parser</a>, Previous: <a href="#GLR-Parsers" accesskey="p" rel="prev">GLR Parsers</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Locations-1"></a>
        <h3 class="section">1.6 Locations</h3>
        <a name="index-location"></a>
        <a name="index-textual-location"></a>
        <a name="index-location_002c-textual"></a>

        <p>Many applications, like interpreters or compilers, have to produce verbose and useful error messages. To achieve this, one must be able to keep track of the <em>textual location</em>, or <em>location</em>, of each syntactic construct. Bison provides
            a mechanism for handling these locations.
        </p>
        <p>Each token has a semantic value. In a similar fashion, each token has an associated location, but the type of locations is the same for all tokens and groupings. Moreover, the output parser is equipped with a default data structure for storing
            locations (see <a href="#Tracking-Locations">Tracking Locations</a>, for more details).
        </p>
        <p>Like semantic values, locations can be reached in actions using a dedicated set of constructs. In the example above, the location of the whole grouping is <code>@$</code>, while the locations of the subexpressions are <code>@1</code> and
            <code>@3</code>.
        </p>
        <p>When a rule is matched, a default action is used to compute the semantic value of its left hand side (see <a href="#Actions">Actions</a>). In the same way, another default action is used for locations. However, the action for locations is general
            enough for most cases, meaning there is usually no need to describe for each rule how <code>@$</code> should be formed. When building a new location for a given grouping, the default behavior of the output parser is to take the beginning of
            the first symbol, and the end of the last symbol.
        </p>
        <hr>
        <a name="Bison-Parser"></a>
        <div class="header">
            <p>
                Next: <a href="#Stages" accesskey="n" rel="next">Stages</a>, Previous: <a href="#Locations" accesskey="p" rel="prev">Locations</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison-Output_003a-the-Parser-Implementation-File"></a>
        <h3 class="section">1.7 Bison Output: the Parser Implementation File</h3>
        <a name="index-Bison-parser"></a>
        <a name="index-Bison-utility"></a>
        <a name="index-lexical-analyzer_002c-purpose"></a>
        <a name="index-parser"></a>

        <p>When you run Bison, you give it a Bison grammar file as input. The most important output is a C source file that implements a parser for the language described by the grammar. This parser is called a
            <em>Bison parser</em>, and this file is called a <em>Bison parser
implementation file</em>. Keep in mind that the Bison utility and the Bison parser are two distinct programs: the Bison utility is a program whose output is the Bison parser implementation file that becomes part of your program.
        </p>
        <p>The job of the Bison parser is to group tokens into groupings according to the grammar rules&mdash;for example, to build identifiers and operators into expressions. As it does this, it runs the actions for the grammar rules it uses.
        </p>
        <p>The tokens come from a function called the <em>lexical analyzer</em> that you must supply in some fashion (such as by writing it in C). The Bison parser calls the lexical analyzer each time it wants a new token. It doesn&rsquo;t know what is &ldquo;inside&rdquo;
            the tokens (though their semantic values may reflect this). Typically the lexical analyzer makes the tokens by parsing characters of text, but Bison does not depend on this. See <a href="#Lexical">The Lexical Analyzer Function <code>yylex</code></a>.
        </p>
        <p>The Bison parser implementation file is C code which defines a function named <code>yyparse</code> which implements that grammar. This function does not make a complete C program: you must supply some additional functions. One is the lexical analyzer.
            Another is an error-reporting function which the parser calls to report an error. In addition, a complete C program must start with a function called
            <code>main</code>; you have to provide this, and arrange for it to call
            <code>yyparse</code> or the parser will never run. See <a href="#Interface">Parser
C-Language Interface</a>.
        </p>
        <p>Aside from the token type names and the symbols in the actions you write, all symbols defined in the Bison parser implementation file itself begin with &lsquo;<samp>yy</samp>&rsquo; or &lsquo;<samp>YY</samp>&rsquo;. This includes interface functions
            such as the lexical analyzer function <code>yylex</code>, the error reporting function <code>yyerror</code> and the parser function
            <code>yyparse</code> itself. This also includes numerous identifiers used for internal purposes. Therefore, you should avoid using C identifiers starting with &lsquo;<samp>yy</samp>&rsquo; or &lsquo;<samp>YY</samp>&rsquo; in the Bison grammar
            file except for the ones defined in this manual. Also, you should avoid using the C identifiers &lsquo;<samp>malloc</samp>&rsquo; and &lsquo;<samp>free</samp>&rsquo; for anything other than their usual meanings.
        </p>
        <p>In some cases the Bison parser implementation file includes system headers, and in those cases your code should respect the identifiers reserved by those headers. On some non-GNU hosts, <code>&lt;alloca.h&gt;</code>,
            <code>&lt;malloc.h&gt;</code>, <code>&lt;stddef.h&gt;</code>, and <code>&lt;stdlib.h&gt;</code> are included as needed to declare memory allocators and related types.
            <code>&lt;libintl.h&gt;</code> is included if message translation is in use (see <a href="#Internationalization">Internationalization</a>). Other system headers may be included if you define <code>YYDEBUG</code> to a nonzero value (see
            <a href="#Tracing">Tracing Your Parser</a>).
        </p>
        <hr>
        <a name="Stages"></a>
        <div class="header">
            <p>
                Next: <a href="#Grammar-Layout" accesskey="n" rel="next">Grammar Layout</a>, Previous: <a href="#Bison-Parser" accesskey="p" rel="prev">Bison Parser</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Stages-in-Using-Bison"></a>
        <h3 class="section">1.8 Stages in Using Bison</h3>
        <a name="index-stages-in-using-Bison"></a>
        <a name="index-using-Bison"></a>

        <p>The actual language-design process using Bison, from grammar specification to a working compiler or interpreter, has these parts:
        </p>
        <ol>
            <li> Formally specify the grammar in a form recognized by Bison (see <a href="#Grammar-File">Bison Grammar Files</a>). For each grammatical rule in the language, describe the action that is to be taken when an instance of that rule is recognized.
                The action is described by a sequence of C statements.

            </li>
            <li> Write a lexical analyzer to process input and pass tokens to the parser. The lexical analyzer may be written by hand in C (see <a href="#Lexical">The
Lexical Analyzer Function <code>yylex</code></a>). It could also be produced using Lex, but the use of Lex is not discussed in this manual.

            </li>
            <li> Write a controlling function that calls the Bison-produced parser.

            </li>
            <li> Write error-reporting routines.
            </li>
        </ol>

        <p>To turn this source code as written into a runnable program, you must follow these steps:
        </p>
        <ol>
            <li> Run Bison on the grammar to produce the parser.

            </li>
            <li> Compile the code output by Bison, as well as any other source files.

            </li>
            <li> Link the object files to produce the finished product.
            </li>
        </ol>

        <hr>
        <a name="Grammar-Layout"></a>
        <div class="header">
            <p>
                Previous: <a href="#Stages" accesskey="p" rel="prev">Stages</a>, Up: <a href="#Concepts" accesskey="u" rel="up">Concepts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Overall-Layout-of-a-Bison-Grammar"></a>
        <h3 class="section">1.9 The Overall Layout of a Bison Grammar</h3>
        <a name="index-grammar-file"></a>
        <a name="index-file-format"></a>
        <a name="index-format-of-grammar-file"></a>
        <a name="index-layout-of-Bison-grammar"></a>

        <p>The input file for the Bison utility is a <em>Bison grammar file</em>. The general form of a Bison grammar file is as follows:
        </p>
        <div class="example">
            <pre class="example">%{
<var>Prologue</var>
%}

<var>Bison declarations</var>

%%
<var>Grammar rules</var>
%%
<var>Epilogue</var>
</pre></div>

        <p>The &lsquo;<samp>%%</samp>&rsquo;, &lsquo;<samp>%{</samp>&rsquo; and &lsquo;<samp>%}</samp>&rsquo; are punctuation that appears in every Bison grammar file to separate the sections.
        </p>
        <p>The prologue may define types and variables used in the actions. You can also use preprocessor commands to define macros used there, and use
            <code>#include</code> to include header files that do any of these things. You need to declare the lexical analyzer <code>yylex</code> and the error printer <code>yyerror</code> here, along with any other global identifiers used by the actions
            in the grammar rules.
        </p>
        <p>The Bison declarations declare the names of the terminal and nonterminal symbols, and may also describe operator precedence and the data types of semantic values of various symbols.
        </p>
        <p>The grammar rules define how to construct each nonterminal symbol from its parts.
        </p>
        <p>The epilogue can contain any code you want to use. Often the definitions of functions declared in the prologue go here. In a simple program, all the rest of the program can go here.
        </p>
        <hr>
        <a name="Examples"></a>
        <div class="header">
            <p>
                Next: <a href="#Grammar-File" accesskey="n" rel="next">Grammar File</a>, Previous: <a href="#Concepts" accesskey="p" rel="prev">Concepts</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Examples-1"></a>
        <h2 class="chapter">2 Examples</h2>
        <a name="index-simple-examples"></a>
        <a name="index-examples_002c-simple"></a>

        <p>Now we show and explain several sample programs written using Bison: a reverse polish notation calculator, an algebraic (infix) notation calculator &mdash; later extended to track &ldquo;locations&rdquo; &mdash; and a multi-function calculator.
            All produce usable, though limited, interactive desk-top calculators.
        </p>
        <p>These examples are simple, but Bison grammars for real programming languages are written the same way. You can copy these examples into a source file to try them.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#RPN-Calc" accesskey="1">RPN Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Reverse polish notation calculator; a first example with no operator precedence.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Infix-Calc" accesskey="2">Infix Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Infix (algebraic) notation calculator. Operator precedence is introduced.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Simple-Error-Recovery" accesskey="3">Simple Error Recovery</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Continuing after syntax errors.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Location-Tracking-Calc" accesskey="4">Location Tracking Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Demonstrating the use of @<var>n</var> and @$.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multi_002dfunction-Calc" accesskey="5">Multi-function Calc</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Calculator with memory and trig functions. It uses multiple data-types for semantic values.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Exercises" accesskey="6">Exercises</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Ideas for improving the multi-function calculator.
                </td>
            </tr>
        </table>

        <hr>
        <a name="RPN-Calc"></a>
        <div class="header">
            <p>
                Next: <a href="#Infix-Calc" accesskey="n" rel="next">Infix Calc</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Reverse-Polish-Notation-Calculator"></a>
        <h3 class="section">2.1 Reverse Polish Notation Calculator</h3>
        <a name="index-reverse-polish-notation"></a>
        <a name="index-polish-notation-calculator"></a>
        <a name="index-rpcalc"></a>
        <a name="index-calculator_002c-simple"></a>

        <p>The first example is that of a simple double-precision <em>reverse polish
notation</em> calculator (a calculator using postfix operators). This example provides a good starting point, since operator precedence is not an issue. The second example will illustrate how operator precedence is handled.
        </p>
        <p>The source code for this calculator is named <samp>rpcalc.y</samp>. The &lsquo;
            <samp>.y</samp>&rsquo; extension is a convention used for Bison grammar files.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Declarations" accesskey="1">Rpcalc Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Prologue (declarations) for rpcalc.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Rules" accesskey="2">Rpcalc Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Grammar Rules for rpcalc, with explanation.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Lexer" accesskey="3">Rpcalc Lexer</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The lexical analyzer.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Main" accesskey="4">Rpcalc Main</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The controlling function.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Error" accesskey="5">Rpcalc Error</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The error reporting function.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Generate" accesskey="6">Rpcalc Generate</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Running Bison on the grammar file.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Compile" accesskey="7">Rpcalc Compile</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Run the C compiler on the output code.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Rpcalc-Declarations"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Rules" accesskey="n" rel="next">Rpcalc Rules</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Declarations-for-rpcalc"></a>
        <h4 class="subsection">2.1.1 Declarations for <code>rpcalc</code></h4>

        <p>Here are the C and Bison declarations for the reverse polish notation calculator. As in C, comments are placed between &lsquo;<samp>/*&hellip;*/</samp>&rsquo;.
        </p>
        <div class="example">
            <pre class="example">/* Reverse polish notation calculator.  */

</pre><pre class="example">%{
  #include &lt;stdio.h&gt;
  #include &lt;math.h&gt;
  int yylex (void);
  void yyerror (char const *);
%}
</pre><pre class="example">
%define api.value.type {double}
%token NUM

%% /* Grammar rules and actions follow.  */
</pre></div>

        <p>The declarations section (see <a href="#Prologue">The prologue</a>) contains two preprocessor directives and two forward declarations.
        </p>
        <p>The <code>#include</code> directive is used to declare the exponentiation function <code>pow</code>.
        </p>
        <p>The forward declarations for <code>yylex</code> and <code>yyerror</code> are needed because the C language requires that functions be declared before they are used. These functions will be defined in the epilogue, but the parser calls them so
            they must be declared in the prologue.
        </p>
        <p>The second section, Bison declarations, provides information to Bison about the tokens and their types (see <a href="#Bison-Declarations">The Bison
Declarations Section</a>).
        </p>
        <p>The <code>%define</code> directive defines the variable <code>api.value.type</code>, thus specifying the C data type for semantic values of both tokens and groupings (see <a href="#Value-Type">Data Types of Semantic Values</a>). The Bison parser
            will use whatever type <code>api.value.type</code> is defined as; if you don&rsquo;t define it, <code>int</code> is the default. Because we specify &lsquo;
            <samp>{double}</samp>&rsquo;, each token and each expression has an associated value, which is a floating point number. C code can use <code>YYSTYPE</code> to refer to the value <code>api.value.type</code>.
        </p>
        <p>Each terminal symbol that is not a single-character literal must be declared. (Single-character literals normally don&rsquo;t need to be declared.) In this example, all the arithmetic operators are designated by single-character literals, so the
            only terminal symbol that needs to be declared is <code>NUM</code>, the token type for numeric constants.
        </p>
        <hr>
        <a name="Rpcalc-Rules"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Lexer" accesskey="n" rel="next">Rpcalc Lexer</a>, Previous: <a href="#Rpcalc-Declarations" accesskey="p" rel="prev">Rpcalc Declarations</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Grammar-Rules-for-rpcalc"></a>
        <h4 class="subsection">2.1.2 Grammar Rules for <code>rpcalc</code></h4>

        <p>Here are the grammar rules for the reverse polish notation calculator.
        </p>
        <div class="example">
            <pre class="example">input:
  %empty
| input line
;
</pre><pre class="example">
</pre><pre class="example">line:
  '\n'
| exp '\n'      { printf (&quot;%.10g\n&quot;, $1); }
;
</pre><pre class="example">
</pre><pre class="example">exp:
  NUM           { $$ = $1;           }
| exp exp '+'   { $$ = $1 + $2;      }
| exp exp '-'   { $$ = $1 - $2;      }
| exp exp '*'   { $$ = $1 * $2;      }
| exp exp '/'   { $$ = $1 / $2;      }
| exp exp '^'   { $$ = pow ($1, $2); }  /* Exponentiation */
| exp 'n'       { $$ = -$1;          }  /* Unary minus    */
;
</pre><pre class="example">%%
</pre></div>

        <p>The groupings of the rpcalc &ldquo;language&rdquo; defined here are the expression (given the name <code>exp</code>), the line of input (<code>line</code>), and the complete input transcript (<code>input</code>). Each of these nonterminal symbols
            has several alternate rules, joined by the vertical bar &lsquo;<samp>|</samp>&rsquo; which is read as &ldquo;or&rdquo;. The following sections explain what these rules mean.
        </p>
        <p>The semantics of the language is determined by the actions taken when a grouping is recognized. The actions are the C code that appears inside braces. See <a href="#Actions">Actions</a>.
        </p>
        <p>You must specify these actions in C, but Bison provides the means for passing semantic values between the rules. In each action, the pseudo-variable <code>$$</code> stands for the semantic value for the grouping that the rule is going to construct.
            Assigning a value to <code>$$</code> is the main job of most actions. The semantic values of the components of the rule are referred to as <code>$1</code>, <code>$2</code>, and so on.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Input" accesskey="1">Rpcalc Input</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Explanation of the <code>input</code> nonterminal
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Line" accesskey="2">Rpcalc Line</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Explanation of the <code>line</code> nonterminal
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rpcalc-Expr" accesskey="3">Rpcalc Expr</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Explanation of the <code>expr</code> nonterminal
                </td>
            </tr>
        </table>

        <hr>
        <a name="Rpcalc-Input"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Line" accesskey="n" rel="next">Rpcalc Line</a>, Up: <a href="#Rpcalc-Rules" accesskey="u" rel="up">Rpcalc Rules</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Explanation-of-input"></a>
        <h4 class="subsubsection">2.1.2.1 Explanation of <code>input</code></h4>

        <p>Consider the definition of <code>input</code>:
        </p>
        <div class="example">
            <pre class="example">input:
  %empty
| input line
;
</pre></div>

        <p>This definition reads as follows: &ldquo;A complete input is either an empty string, or a complete input followed by an input line&rdquo;. Notice that &ldquo;complete input&rdquo; is defined in terms of itself. This definition is said to be <em>left recursive</em>            since <code>input</code> appears always as the leftmost symbol in the sequence. See <a href="#Recursion">Recursive Rules</a>.
        </p>
        <p>The first alternative is empty because there are no symbols between the colon and the first &lsquo;<samp>|</samp>&rsquo;; this means that <code>input</code> can match an empty string of input (no tokens). We write the rules this way because it
            is legitimate to type <kbd>Ctrl-d</kbd> right after you start the calculator. It&rsquo;s conventional to put an empty alternative first and to use the (optional) <code>%empty</code> directive, or to write the comment &lsquo;<samp>/* empty
*/</samp>&rsquo; in it (see <a href="#Empty-Rules">Empty Rules</a>).
        </p>
        <p>The second alternate rule (<code>input line</code>) handles all nontrivial input. It means, &ldquo;After reading any number of lines, read one more line if possible.&rdquo; The left recursion makes this rule into a loop. Since the first alternative
            matches empty input, the loop can be executed zero or more times.
        </p>
        <p>The parser function <code>yyparse</code> continues to process input until a grammatical error is seen or the lexical analyzer says there are no more input tokens; we will arrange for the latter to happen at end-of-input.
        </p>
        <hr>
        <a name="Rpcalc-Line"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Expr" accesskey="n" rel="next">Rpcalc Expr</a>, Previous: <a href="#Rpcalc-Input" accesskey="p" rel="prev">Rpcalc Input</a>, Up: <a href="#Rpcalc-Rules" accesskey="u" rel="up">Rpcalc Rules</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Explanation-of-line"></a>
        <h4 class="subsubsection">2.1.2.2 Explanation of <code>line</code></h4>

        <p>Now consider the definition of <code>line</code>:
        </p>
        <div class="example">
            <pre class="example">line:
  '\n'
| exp '\n'  { printf (&quot;%.10g\n&quot;, $1); }
;
</pre></div>

        <p>The first alternative is a token which is a newline character; this means that rpcalc accepts a blank line (and ignores it, since there is no action). The second alternative is an expression followed by a newline. This is the alternative that
            makes rpcalc useful. The semantic value of the <code>exp</code> grouping is the value of <code>$1</code> because the <code>exp</code> in question is the first symbol in the alternative. The action prints this value, which is the result of
            the computation the user asked for.
        </p>
        <p>This action is unusual because it does not assign a value to <code>$$</code>. As a consequence, the semantic value associated with the <code>line</code> is uninitialized (its value will be unpredictable). This would be a bug if that value were
            ever used, but we don&rsquo;t use it: once rpcalc has printed the value of the user&rsquo;s input line, that value is no longer needed.
        </p>
        <hr>
        <a name="Rpcalc-Expr"></a>
        <div class="header">
            <p>
                Previous: <a href="#Rpcalc-Line" accesskey="p" rel="prev">Rpcalc Line</a>, Up: <a href="#Rpcalc-Rules" accesskey="u" rel="up">Rpcalc Rules</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Explanation-of-expr"></a>
        <h4 class="subsubsection">2.1.2.3 Explanation of <code>expr</code></h4>

        <p>The <code>exp</code> grouping has several rules, one for each kind of expression. The first rule handles the simplest expressions: those that are just numbers. The second handles an addition-expression, which looks like two expressions followed
            by a plus-sign. The third handles subtraction, and so on.
        </p>
        <div class="example">
            <pre class="example">exp:
  NUM
| exp exp '+'     { $$ = $1 + $2;    }
| exp exp '-'     { $$ = $1 - $2;    }
&hellip;
;
</pre></div>

        <p>We have used &lsquo;<samp>|</samp>&rsquo; to join all the rules for <code>exp</code>, but we could equally well have written them separately:
        </p>
        <div class="example">
            <pre class="example">exp: NUM ;
exp: exp exp '+'     { $$ = $1 + $2; };
exp: exp exp '-'     { $$ = $1 - $2; };
&hellip;
</pre></div>

        <p>Most of the rules have actions that compute the value of the expression in terms of the value of its parts. For example, in the rule for addition,
            <code>$1</code> refers to the first component <code>exp</code> and <code>$2</code> refers to the second one. The third component, <code>'+'</code>, has no meaningful associated semantic value, but if it had one you could refer to it as
            <code>$3</code>. When <code>yyparse</code> recognizes a sum expression using this rule, the sum of the two subexpressions&rsquo; values is produced as the value of the entire expression. See <a href="#Actions">Actions</a>.
        </p>
        <p>You don&rsquo;t have to give an action for every rule. When a rule has no action, Bison by default copies the value of <code>$1</code> into <code>$$</code>. This is what happens in the first rule (the one that uses <code>NUM</code>).
        </p>
        <p>The formatting shown here is the recommended convention, but Bison does not require it. You can add or change white space as much as you wish. For example, this:
        </p>
        <div class="example">
            <pre class="example">exp: NUM | exp exp '+' {$$ = $1 + $2; } | &hellip; ;
</pre></div>

        <p>means the same thing as this:
        </p>
        <div class="example">
            <pre class="example">exp:
  NUM
| exp exp '+'    { $$ = $1 + $2; }
| &hellip;
;
</pre></div>

        <p>The latter, however, is much more readable.
        </p>
        <hr>
        <a name="Rpcalc-Lexer"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Main" accesskey="n" rel="next">Rpcalc Main</a>, Previous: <a href="#Rpcalc-Rules" accesskey="p" rel="prev">Rpcalc Rules</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-rpcalc-Lexical-Analyzer"></a>
        <h4 class="subsection">2.1.3 The <code>rpcalc</code> Lexical Analyzer</h4>
        <a name="index-writing-a-lexical-analyzer"></a>
        <a name="index-lexical-analyzer_002c-writing"></a>

        <p>The lexical analyzer&rsquo;s job is low-level parsing: converting characters or sequences of characters into tokens. The Bison parser gets its tokens by calling the lexical analyzer. See <a href="#Lexical">The Lexical
Analyzer Function <code>yylex</code></a>.
        </p>
        <p>Only a simple lexical analyzer is needed for the RPN calculator. This lexical analyzer skips blanks and tabs, then reads in numbers as
            <code>double</code> and returns them as <code>NUM</code> tokens. Any other character that isn&rsquo;t part of a number is a separate token. Note that the token-code for such a single-character token is the character itself.
        </p>
        <p>The return value of the lexical analyzer function is a numeric code which represents a token type. The same text used in Bison rules to stand for this token type is also a C expression for the numeric code for the type. This works in two ways.
            If the token type is a character literal, then its numeric code is that of the character; you can use the same character literal in the lexical analyzer to express the number. If the token type is an identifier, that identifier is defined
            by Bison as a C macro whose definition is the appropriate number. In this example, therefore, <code>NUM</code> becomes a macro for <code>yylex</code> to use.
        </p>
        <p>The semantic value of the token (if it has one) is stored into the global variable <code>yylval</code>, which is where the Bison parser will look for it. (The C data type of <code>yylval</code> is <code>YYSTYPE</code>, whose value was defined
            at the beginning of the grammar via &lsquo;<samp>%define api.value.type
{double}</samp>&rsquo;; see <a href="#Rpcalc-Declarations">Declarations for <code>rpcalc</code></a>.)
        </p>
        <p>A token type code of zero is returned if the end-of-input is encountered. (Bison recognizes any nonpositive value as indicating end-of-input.)
        </p>
        <p>Here is the code for the lexical analyzer:
        </p>
        <div class="example">
            <pre class="example">/* The lexical analyzer returns a double floating point
   number on the stack and the token NUM, or the numeric code
   of the character read if not a number.  It skips all blanks
   and tabs, and returns 0 for end-of-input.  */

#include &lt;ctype.h&gt;
</pre><pre class="example">
</pre><pre class="example">int
yylex (void)
{
  int c;

  /* Skip white space.  */
  while ((c = getchar ()) == ' ' || c == '\t')
    continue;
</pre><pre class="example">  /* Process numbers.  */
  if (c == '.' || isdigit (c))
    {
      ungetc (c, stdin);
      scanf (&quot;%lf&quot;, &amp;yylval);
      return NUM;
    }
</pre><pre class="example">  /* Return end-of-input.  */
  if (c == EOF)
    return 0;
  /* Return a single char.  */
  return c;
}
</pre></div>

        <hr>
        <a name="Rpcalc-Main"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Error" accesskey="n" rel="next">Rpcalc Error</a>, Previous: <a href="#Rpcalc-Lexer" accesskey="p" rel="prev">Rpcalc Lexer</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Controlling-Function"></a>
        <h4 class="subsection">2.1.4 The Controlling Function</h4>
        <a name="index-controlling-function"></a>
        <a name="index-main-function-in-simple-example"></a>

        <p>In keeping with the spirit of this example, the controlling function is kept to the bare minimum. The only requirement is that it call
            <code>yyparse</code> to start the process of parsing.
        </p>
        <div class="example">
            <pre class="example">int
main (void)
{
  return yyparse ();
}
</pre></div>

        <hr>
        <a name="Rpcalc-Error"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Generate" accesskey="n" rel="next">Rpcalc Generate</a>, Previous: <a href="#Rpcalc-Main" accesskey="p" rel="prev">Rpcalc Main</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Error-Reporting-Routine"></a>
        <h4 class="subsection">2.1.5 The Error Reporting Routine</h4>
        <a name="index-error-reporting-routine"></a>

        <p>When <code>yyparse</code> detects a syntax error, it calls the error reporting function <code>yyerror</code> to print an error message (usually but not always <code>&quot;syntax error&quot;</code>). It is up to the programmer to supply
            <code>yyerror</code> (see <a href="#Interface">Parser C-Language Interface</a>), so here is the definition we will use:
        </p>
        <div class="example">
            <pre class="example">#include &lt;stdio.h&gt;

</pre><pre class="example">/* Called by yyparse on error.  */
void
yyerror (char const *s)
{
  fprintf (stderr, &quot;%s\n&quot;, s);
}
</pre></div>

        <p>After <code>yyerror</code> returns, the Bison parser may recover from the error and continue parsing if the grammar contains a suitable error rule (see <a href="#Error-Recovery">Error Recovery</a>). Otherwise, <code>yyparse</code> returns nonzero.
            We have not written any error rules in this example, so any invalid input will cause the calculator program to exit. This is not clean behavior for a real calculator, but it is adequate for the first example.
        </p>
        <hr>
        <a name="Rpcalc-Generate"></a>
        <div class="header">
            <p>
                Next: <a href="#Rpcalc-Compile" accesskey="n" rel="next">Rpcalc Compile</a>, Previous: <a href="#Rpcalc-Error" accesskey="p" rel="prev">Rpcalc Error</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Running-Bison-to-Make-the-Parser"></a>
        <h4 class="subsection">2.1.6 Running Bison to Make the Parser</h4>
        <a name="index-running-Bison-_0028introduction_0029"></a>

        <p>Before running Bison to produce a parser, we need to decide how to arrange all the source code in one or more source files. For such a simple example, the easiest thing is to put everything in one file, the grammar file. The definitions of <code>yylex</code>,
            <code>yyerror</code> and
            <code>main</code> go at the end, in the epilogue of the grammar file (see <a href="#Grammar-Layout">The Overall Layout of a Bison Grammar</a>).
        </p>
        <p>For a large project, you would probably have several source files, and use
            <code>make</code> to arrange to recompile them.
        </p>
        <p>With all the source in the grammar file, you use the following command to convert it into a parser implementation file:
        </p>
        <div class="example">
            <pre class="example">bison <var>file</var>.y
</pre></div>

        <p>In this example, the grammar file is called <samp>rpcalc.y</samp> (for &ldquo;Reverse Polish <small>CALC</small>ulator&rdquo;). Bison produces a parser implementation file named <samp><var>file</var>.tab.c</samp>, removing the &lsquo;
            <samp>.y</samp>&rsquo; from the grammar file name. The parser implementation file contains the source code for <code>yyparse</code>. The additional functions in the grammar file (<code>yylex</code>, <code>yyerror</code> and <code>main</code>)
            are copied verbatim to the parser implementation file.
        </p>
        <hr>
        <a name="Rpcalc-Compile"></a>
        <div class="header">
            <p>
                Previous: <a href="#Rpcalc-Generate" accesskey="p" rel="prev">Rpcalc Generate</a>, Up: <a href="#RPN-Calc" accesskey="u" rel="up">RPN Calc</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Compiling-the-Parser-Implementation-File"></a>
        <h4 class="subsection">2.1.7 Compiling the Parser Implementation File</h4>
        <a name="index-compiling-the-parser"></a>

        <p>Here is how to compile and run the parser implementation file:
        </p>
        <div class="example">
            <pre class="example"># <span class="roman">List files in current directory.</span>
$ <kbd>ls</kbd>
rpcalc.tab.c  rpcalc.y
</pre><pre class="example">
</pre><pre class="example"># <span class="roman">Compile the Bison parser.</span>
# <span class="roman">&lsquo;<samp>-lm</samp>&rsquo; tells compiler to search math library for <code>pow</code>.</span>
$ <kbd>cc -lm -o rpcalc rpcalc.tab.c</kbd>
</pre><pre class="example">
</pre><pre class="example"># <span class="roman">List files again.</span>
$ <kbd>ls</kbd>
rpcalc  rpcalc.tab.c  rpcalc.y
</pre></div>

        <p>The file <samp>rpcalc</samp> now contains the executable code. Here is an example session using <code>rpcalc</code>.
        </p>
        <div class="example">
            <pre class="example">$ <kbd>rpcalc</kbd>
<kbd>4 9 +</kbd>
&rArr; 13
<kbd>3 7 + 3 4 5 *+-</kbd>
&rArr; -13
<kbd>3 7 + 3 4 5 * + - n</kbd>              <span class="roman">Note the unary minus, &lsquo;<samp>n</samp>&rsquo;</span>
&rArr; 13
<kbd>5 6 / 4 n +</kbd>
&rArr; -3.166666667
<kbd>3 4 ^</kbd>                            <span class="roman">Exponentiation</span>
&rArr; 81
<kbd>^D</kbd>                               <span class="roman">End-of-file indicator</span>
$
</pre></div>

        <hr>
        <a name="Infix-Calc"></a>
        <div class="header">
            <p>
                Next: <a href="#Simple-Error-Recovery" accesskey="n" rel="next">Simple Error Recovery</a>, Previous: <a href="#RPN-Calc" accesskey="p" rel="prev">RPN Calc</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Infix-Notation-Calculator_003a-calc"></a>
        <h3 class="section">2.2 Infix Notation Calculator: <code>calc</code></h3>
        <a name="index-infix-notation-calculator"></a>
        <a name="index-calc"></a>
        <a name="index-calculator_002c-infix-notation"></a>

        <p>We now modify rpcalc to handle infix operators instead of postfix. Infix notation involves the concept of operator precedence and the need for parentheses nested to arbitrary depth. Here is the Bison code for
            <samp>calc.y</samp>, an infix desk-top calculator.
        </p>
        <div class="example">
            <pre class="example">/* Infix notation calculator.  */

</pre><pre class="example">%{
  #include &lt;math.h&gt;
  #include &lt;stdio.h&gt;
  int yylex (void);
  void yyerror (char const *);
%}
</pre><pre class="example">
</pre><pre class="example">/* Bison declarations.  */
%define api.value.type {double}
%token NUM
%left '-' '+'
%left '*' '/'
%precedence NEG   /* negation--unary minus */
%right '^'        /* exponentiation */
</pre><pre class="example">
%% /* The grammar follows.  */
</pre><pre class="example">input:
  %empty
| input line
;
</pre><pre class="example">
</pre><pre class="example">line:
  '\n'
| exp '\n'  { printf (&quot;\t%.10g\n&quot;, $1); }
;
</pre><pre class="example">
</pre><pre class="example">exp:
  NUM                { $$ = $1;           }
| exp '+' exp        { $$ = $1 + $3;      }
| exp '-' exp        { $$ = $1 - $3;      }
| exp '*' exp        { $$ = $1 * $3;      }
| exp '/' exp        { $$ = $1 / $3;      }
| '-' exp  %prec NEG { $$ = -$2;          }
| exp '^' exp        { $$ = pow ($1, $3); }
| '(' exp ')'        { $$ = $2;           }
;
</pre><pre class="example">%%
</pre></div>

        <p>The functions <code>yylex</code>, <code>yyerror</code> and <code>main</code> can be the same as before.
        </p>
        <p>There are two important new features shown in this code.
        </p>
        <p>In the second section (Bison declarations), <code>%left</code> declares token types and says they are left-associative operators. The declarations
            <code>%left</code> and <code>%right</code> (right associativity) take the place of
            <code>%token</code> which is used to declare a token type name without associativity/precedence. (These tokens are single-character literals, which ordinarily don&rsquo;t need to be declared. We declare them here to specify the associativity/precedence.)
        </p>
        <p>Operator precedence is determined by the line ordering of the declarations; the higher the line number of the declaration (lower on the page or screen), the higher the precedence. Hence, exponentiation has the highest precedence, unary minus (<code>NEG</code>)
            is next, followed by &lsquo;<samp>*</samp>&rsquo; and &lsquo;<samp>/</samp>&rsquo;, and so on. Unary minus is not associative, only precedence matters (<code>%precedence</code>. See <a href="#Precedence">Operator
Precedence</a>.
        </p>
        <p>The other important new feature is the <code>%prec</code> in the grammar section for the unary minus operator. The <code>%prec</code> simply instructs Bison that the rule &lsquo;<samp>| '-' exp</samp>&rsquo; has the same precedence as
            <code>NEG</code>&mdash;in this case the next-to-highest. See <a href="#Contextual-Precedence">Context-Dependent Precedence</a>.
        </p>
        <p>Here is a sample run of <samp>calc.y</samp>:
        </p>
        <div class="example">
            <pre class="example">$ <kbd>calc</kbd>
<kbd>4 + 4.5 - (34/(8*3+-3))</kbd>
6.880952381
<kbd>-56 + 2</kbd>
-54
<kbd>3 ^ 2</kbd>
9
</pre></div>

        <hr>
        <a name="Simple-Error-Recovery"></a>
        <div class="header">
            <p>
                Next: <a href="#Location-Tracking-Calc" accesskey="n" rel="next">Location Tracking Calc</a>, Previous: <a href="#Infix-Calc" accesskey="p" rel="prev">Infix Calc</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Simple-Error-Recovery-1"></a>
        <h3 class="section">2.3 Simple Error Recovery</h3>
        <a name="index-error-recovery_002c-simple"></a>

        <p>Up to this point, this manual has not addressed the issue of <em>error
recovery</em>&mdash;how to continue parsing after the parser detects a syntax error. All we have handled is error reporting with <code>yyerror</code>. Recall that by default <code>yyparse</code> returns after calling
            <code>yyerror</code>. This means that an erroneous input line causes the calculator program to exit. Now we show how to rectify this deficiency.
        </p>
        <p>The Bison language itself includes the reserved word <code>error</code>, which may be included in the grammar rules. In the example below it has been added to one of the alternatives for <code>line</code>:
        </p>
        <div class="example">
            <pre class="example">line:
  '\n'
| exp '\n'   { printf (&quot;\t%.10g\n&quot;, $1); }
| error '\n' { yyerrok;                  }
;
</pre></div>

        <p>This addition to the grammar allows for simple error recovery in the event of a syntax error. If an expression that cannot be evaluated is read, the error will be recognized by the third rule for <code>line</code>, and parsing will continue. (The
            <code>yyerror</code> function is still called upon to print its message as well.) The action executes the statement
            <code>yyerrok</code>, a macro defined automatically by Bison; its meaning is that error recovery is complete (see <a href="#Error-Recovery">Error Recovery</a>). Note the difference between <code>yyerrok</code> and <code>yyerror</code>; neither
            one is a misprint.
        </p>
        <p>This form of error recovery deals with syntax errors. There are other kinds of errors; for example, division by zero, which raises an exception signal that is normally fatal. A real calculator program must handle this signal and use <code>longjmp</code>            to return to <code>main</code> and resume parsing input lines; it would also have to discard the rest of the current line of input. We won&rsquo;t discuss this issue further because it is not specific to Bison programs.
        </p>
        <hr>
        <a name="Location-Tracking-Calc"></a>
        <div class="header">
            <p>
                Next: <a href="#Multi_002dfunction-Calc" accesskey="n" rel="next">Multi-function Calc</a>, Previous: <a href="#Simple-Error-Recovery" accesskey="p" rel="prev">Simple Error Recovery</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Location-Tracking-Calculator_003a-ltcalc"></a>
        <h3 class="section">2.4 Location Tracking Calculator: <code>ltcalc</code></h3>
        <a name="index-location-tracking-calculator"></a>
        <a name="index-ltcalc"></a>
        <a name="index-calculator_002c-location-tracking"></a>

        <p>This example extends the infix notation calculator with location tracking. This feature will be used to improve the error messages. For the sake of clarity, this example is a simple integer calculator, since most of the work needed to use locations
            will be done in the lexical analyzer.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Ltcalc-Declarations" accesskey="1">Ltcalc Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Bison and C declarations for ltcalc.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Ltcalc-Rules" accesskey="2">Ltcalc Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Grammar rules for ltcalc, with explanations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Ltcalc-Lexer" accesskey="3">Ltcalc Lexer</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The lexical analyzer.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Ltcalc-Declarations"></a>
        <div class="header">
            <p>
                Next: <a href="#Ltcalc-Rules" accesskey="n" rel="next">Ltcalc Rules</a>, Up: <a href="#Location-Tracking-Calc" accesskey="u" rel="up">Location Tracking Calc</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Declarations-for-ltcalc"></a>
        <h4 class="subsection">2.4.1 Declarations for <code>ltcalc</code></h4>

        <p>The C and Bison declarations for the location tracking calculator are the same as the declarations for the infix notation calculator.
        </p>
        <div class="example">
            <pre class="example">/* Location tracking calculator.  */

%{
  #include &lt;math.h&gt;
  int yylex (void);
  void yyerror (char const *);
%}

/* Bison declarations.  */
%define api.value.type {int}
%token NUM

%left '-' '+'
%left '*' '/'
%precedence NEG
%right '^'

%% /* The grammar follows.  */
</pre></div>

        <p>Note there are no declarations specific to locations. Defining a data type for storing locations is not needed: we will use the type provided by default (see <a href="#Location-Type">Data Types of Locations</a>), which is a four member structure
            with the following integer fields:
            <code>first_line</code>, <code>first_column</code>, <code>last_line</code> and
            <code>last_column</code>. By conventions, and in accordance with the GNU Coding Standards and common practice, the line and column count both start at 1.
        </p>
        <hr>
        <a name="Ltcalc-Rules"></a>
        <div class="header">
            <p>
                Next: <a href="#Ltcalc-Lexer" accesskey="n" rel="next">Ltcalc Lexer</a>, Previous: <a href="#Ltcalc-Declarations" accesskey="p" rel="prev">Ltcalc Declarations</a>, Up: <a href="#Location-Tracking-Calc" accesskey="u" rel="up">Location Tracking Calc</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Grammar-Rules-for-ltcalc"></a>
        <h4 class="subsection">2.4.2 Grammar Rules for <code>ltcalc</code></h4>

        <p>Whether handling locations or not has no effect on the syntax of your language. Therefore, grammar rules for this example will be very close to those of the previous example: we will only modify them to benefit from the new information.
        </p>
        <p>Here, we will use locations to report divisions by zero, and locate the wrong expressions or subexpressions.
        </p>
        <div class="example">
            <pre class="example">input:
  %empty
| input line
;
</pre><pre class="example">
</pre><pre class="example">line:
  '\n'
| exp '\n' { printf (&quot;%d\n&quot;, $1); }
;
</pre><pre class="example">
</pre><pre class="example">exp:
  NUM           { $$ = $1; }
| exp '+' exp   { $$ = $1 + $3; }
| exp '-' exp   { $$ = $1 - $3; }
| exp '*' exp   { $$ = $1 * $3; }
</pre><pre class="example">| exp '/' exp
    {
      if ($3)
        $$ = $1 / $3;
      else
        {
          $$ = 1;
          fprintf (stderr, &quot;%d.%d-%d.%d: division by zero&quot;,
                   @3.first_line, @3.first_column,
                   @3.last_line, @3.last_column);
        }
    }
</pre><pre class="example">| '-' exp %prec NEG     { $$ = -$2; }
| exp '^' exp           { $$ = pow ($1, $3); }
| '(' exp ')'           { $$ = $2; }
</pre></div>

        <p>This code shows how to reach locations inside of semantic actions, by using the pseudo-variables <code>@<var>n</var></code> for rule components, and the pseudo-variable <code>@$</code> for groupings.
        </p>
        <p>We don&rsquo;t need to assign a value to <code>@$</code>: the output parser does it automatically. By default, before executing the C code of each action,
            <code>@$</code> is set to range from the beginning of <code>@1</code> to the end of <code>@<var>n</var></code>, for a rule with <var>n</var> components. This behavior can be redefined (see <a href="#Location-Default-Action">Default Action for
Locations</a>), and for very specific rules, <code>@$</code> can be computed by hand.
        </p>
        <hr>
        <a name="Ltcalc-Lexer"></a>
        <div class="header">
            <p>
                Previous: <a href="#Ltcalc-Rules" accesskey="p" rel="prev">Ltcalc Rules</a>, Up: <a href="#Location-Tracking-Calc" accesskey="u" rel="up">Location Tracking Calc</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-ltcalc-Lexical-Analyzer_002e"></a>
        <h4 class="subsection">2.4.3 The <code>ltcalc</code> Lexical Analyzer.</h4>

        <p>Until now, we relied on Bison&rsquo;s defaults to enable location tracking. The next step is to rewrite the lexical analyzer, and make it able to feed the parser with the token locations, as it already does for semantic values.
        </p>
        <p>To this end, we must take into account every single character of the input text, to avoid the computed locations of being fuzzy or wrong:
        </p>
        <div class="example">
            <pre class="example">int
yylex (void)
{
  int c;
</pre><pre class="example">
</pre><pre class="example">  /* Skip white space.  */
  while ((c = getchar ()) == ' ' || c == '\t')
    ++yylloc.last_column;
</pre><pre class="example">
</pre><pre class="example">  /* Step.  */
  yylloc.first_line = yylloc.last_line;
  yylloc.first_column = yylloc.last_column;
</pre><pre class="example">
</pre><pre class="example">  /* Process numbers.  */
  if (isdigit (c))
    {
      yylval = c - '0';
      ++yylloc.last_column;
      while (isdigit (c = getchar ()))
        {
          ++yylloc.last_column;
          yylval = yylval * 10 + c - '0';
        }
      ungetc (c, stdin);
      return NUM;
    }
</pre><pre class="example">
  /* Return end-of-input.  */
  if (c == EOF)
    return 0;

</pre><pre class="example">  /* Return a single char, and update location.  */
  if (c == '\n')
    {
      ++yylloc.last_line;
      yylloc.last_column = 0;
    }
  else
    ++yylloc.last_column;
  return c;
}
</pre></div>

        <p>Basically, the lexical analyzer performs the same processing as before: it skips blanks and tabs, and reads numbers or single-character tokens. In addition, it updates <code>yylloc</code>, the global variable (of type
            <code>YYLTYPE</code>) containing the token&rsquo;s location.
        </p>
        <p>Now, each time this function returns a token, the parser has its number as well as its semantic value, and its location in the text. The last needed change is to initialize <code>yylloc</code>, for example in the controlling function:
        </p>
        <div class="example">
            <pre class="example">int
main (void)
{
  yylloc.first_line = yylloc.last_line = 1;
  yylloc.first_column = yylloc.last_column = 0;
  return yyparse ();
}
</pre></div>

        <p>Remember that computing locations is not a matter of syntax. Every character must be associated to a location update, whether it is in valid input, in comments, in literal strings, and so on.
        </p>
        <hr>
        <a name="Multi_002dfunction-Calc"></a>
        <div class="header">
            <p>
                Next: <a href="#Exercises" accesskey="n" rel="next">Exercises</a>, Previous: <a href="#Location-Tracking-Calc" accesskey="p" rel="prev">Location Tracking Calc</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Multi_002dFunction-Calculator_003a-mfcalc"></a>
        <h3 class="section">2.5 Multi-Function Calculator: <code>mfcalc</code></h3>
        <a name="index-multi_002dfunction-calculator"></a>
        <a name="index-mfcalc"></a>
        <a name="index-calculator_002c-multi_002dfunction"></a>

        <p>Now that the basics of Bison have been discussed, it is time to move on to a more advanced problem. The above calculators provided only five functions, &lsquo;<samp>+</samp>&rsquo;, &lsquo;<samp>-</samp>&rsquo;, &lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>/</samp>&rsquo;
            and &lsquo;<samp>^</samp>&rsquo;. It would be nice to have a calculator that provides other mathematical functions such as <code>sin</code>, <code>cos</code>, etc.
        </p>
        <p>It is easy to add new operators to the infix calculator as long as they are only single-character literals. The lexical analyzer <code>yylex</code> passes back all nonnumeric characters as tokens, so new grammar rules suffice for adding a new
            operator. But we want something more flexible: built-in functions whose syntax has this form:
        </p>
        <div class="example">
            <pre class="example"><var>function_name</var> (<var>argument</var>)
</pre></div>

        <p>At the same time, we will add memory to the calculator, by allowing you to create named variables, store values in them, and use them later. Here is a sample session with the multi-function calculator:
        </p>
        <div class="example">
            <pre class="example">$ <kbd>mfcalc</kbd>
<kbd>pi = 3.141592653589</kbd>
&rArr; 3.1415926536
</pre><pre class="example"><kbd>sin(pi)</kbd>
&rArr; 0.0000000000
</pre><pre class="example"><kbd>alpha = beta1 = 2.3</kbd>
&rArr; 2.3000000000
<kbd>alpha</kbd>
&rArr; 2.3000000000
<kbd>ln(alpha)</kbd>
&rArr; 0.8329091229
<kbd>exp(ln(beta1))</kbd>
&rArr; 2.3000000000
$
</pre></div>

        <p>Note that multiple assignment and nested function calls are permitted.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Declarations" accesskey="1">Mfcalc Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Bison declarations for multi-function calculator.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Rules" accesskey="2">Mfcalc Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Grammar rules for the calculator.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Symbol-Table" accesskey="3">Mfcalc Symbol Table</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Symbol table management subroutines.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Lexer" accesskey="4">Mfcalc Lexer</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The lexical analyzer.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Main" accesskey="5">Mfcalc Main</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The controlling function.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Mfcalc-Declarations"></a>
        <div class="header">
            <p>
                Next: <a href="#Mfcalc-Rules" accesskey="n" rel="next">Mfcalc Rules</a>, Up: <a href="#Multi_002dfunction-Calc" accesskey="u" rel="up">Multi-function Calc</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Declarations-for-mfcalc"></a>
        <h4 class="subsection">2.5.1 Declarations for <code>mfcalc</code></h4>

        <p>Here are the C and Bison declarations for the multi-function calculator.
        </p>
        <div class="example">
            <pre class="example">%{
  #include &lt;stdio.h&gt;  /* For printf, etc. */
  #include &lt;math.h&gt;   /* For pow, used in the grammar.  */
  #include &quot;calc.h&quot;   /* Contains definition of 'symrec'.  */
  int yylex (void);
  void yyerror (char const *);
%}
</pre><pre class="example">
%define api.value.type union /* Generate YYSTYPE from these types:  */
%token &lt;double&gt;  NUM         /* Simple double precision number.  */
%token &lt;symrec*&gt; VAR FNCT    /* Symbol table pointer: variable and function.  */
%type  &lt;double&gt;  exp

</pre><pre class="example">%precedence '='
%left '-' '+'
%left '*' '/'
%precedence NEG /* negation--unary minus */
%right '^'      /* exponentiation */
</pre></div>

        <p>The above grammar introduces only two new features of the Bison language. These features allow semantic values to have various data types (see <a href="#Multiple-Types">More Than One Value Type</a>).
        </p>
        <p>The special <code>union</code> value assigned to the <code>%define</code> variable
            <code>api.value.type</code> specifies that the symbols are defined with their data types. Bison will generate an appropriate definition of <code>YYSTYPE</code> to store these values.
        </p>
        <p>Since values can now have various types, it is necessary to associate a type with each grammar symbol whose semantic value is used. These symbols are
            <code>NUM</code>, <code>VAR</code>, <code>FNCT</code>, and <code>exp</code>. Their declarations are augmented with their data type (placed between angle brackets). For instance, values of <code>NUM</code> are stored in <code>double</code>.
        </p>
        <p>The Bison construct <code>%type</code> is used for declaring nonterminal symbols, just as <code>%token</code> is used for declaring token types. Previously we did not use <code>%type</code> before because nonterminal symbols are normally declared
            implicitly by the rules that define them. But <code>exp</code> must be declared explicitly so we can specify its value type. See <a href="#Type-Decl">Nonterminal Symbols</a>.
        </p>
        <hr>
        <a name="Mfcalc-Rules"></a>
        <div class="header">
            <p>
                Next: <a href="#Mfcalc-Symbol-Table" accesskey="n" rel="next">Mfcalc Symbol Table</a>, Previous: <a href="#Mfcalc-Declarations" accesskey="p" rel="prev">Mfcalc Declarations</a>, Up: <a href="#Multi_002dfunction-Calc" accesskey="u" rel="up">Multi-function Calc</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Grammar-Rules-for-mfcalc"></a>
        <h4 class="subsection">2.5.2 Grammar Rules for <code>mfcalc</code></h4>

        <p>Here are the grammar rules for the multi-function calculator. Most of them are copied directly from <code>calc</code>; three rules, those which mention <code>VAR</code> or <code>FNCT</code>, are new.
        </p>
        <div class="example">
            <pre class="example">%% /* The grammar follows.  */
</pre><pre class="example">input:
  %empty
| input line
;
</pre><pre class="example">
</pre><pre class="example">line:
  '\n'
| exp '\n'   { printf (&quot;%.10g\n&quot;, $1); }
| error '\n' { yyerrok;                }
;
</pre><pre class="example">
</pre><pre class="example">exp:
  NUM                { $$ = $1;                         }
| VAR                { $$ = $1-&gt;value.var;              }
| VAR '=' exp        { $$ = $3; $1-&gt;value.var = $3;     }
| FNCT '(' exp ')'   { $$ = (*($1-&gt;value.fnctptr))($3); }
| exp '+' exp        { $$ = $1 + $3;                    }
| exp '-' exp        { $$ = $1 - $3;                    }
| exp '*' exp        { $$ = $1 * $3;                    }
| exp '/' exp        { $$ = $1 / $3;                    }
| '-' exp  %prec NEG { $$ = -$2;                        }
| exp '^' exp        { $$ = pow ($1, $3);               }
| '(' exp ')'        { $$ = $2;                         }
;
</pre><pre class="example">/* End of grammar.  */
%%
</pre></div>

        <hr>
        <a name="Mfcalc-Symbol-Table"></a>
        <div class="header">
            <p>
                Next: <a href="#Mfcalc-Lexer" accesskey="n" rel="next">Mfcalc Lexer</a>, Previous: <a href="#Mfcalc-Rules" accesskey="p" rel="prev">Mfcalc Rules</a>, Up: <a href="#Multi_002dfunction-Calc" accesskey="u" rel="up">Multi-function Calc</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-mfcalc-Symbol-Table"></a>
        <h4 class="subsection">2.5.3 The <code>mfcalc</code> Symbol Table</h4>
        <a name="index-symbol-table-example"></a>

        <p>The multi-function calculator requires a symbol table to keep track of the names and meanings of variables and functions. This doesn&rsquo;t affect the grammar rules (except for the actions) or the Bison declarations, but it requires some additional
            C functions for support.
        </p>
        <p>The symbol table itself consists of a linked list of records. Its definition, which is kept in the header <samp>calc.h</samp>, is as follows. It provides for either functions or variables to be placed in the table.
        </p>
        <div class="example">
            <pre class="example">/* Function type.  */
typedef double (*func_t) (double);
</pre><pre class="example">
</pre><pre class="example">/* Data type for links in the chain of symbols.  */
struct symrec
{
  char *name;  /* name of symbol */
  int type;    /* type of symbol: either VAR or FNCT */
  union
  {
    double var;      /* value of a VAR */
    func_t fnctptr;  /* value of a FNCT */
  } value;
  struct symrec *next;  /* link field */
};
</pre><pre class="example">
</pre><pre class="example">typedef struct symrec symrec;

/* The symbol table: a chain of 'struct symrec'.  */
extern symrec *sym_table;

symrec *putsym (char const *, int);
symrec *getsym (char const *);
</pre></div>

        <p>The new version of <code>main</code> will call <code>init_table</code> to initialize the symbol table:
        </p>
        <div class="example">
            <pre class="example">struct init
{
  char const *fname;
  double (*fnct) (double);
};
</pre><pre class="example">
</pre><pre class="example">struct init const arith_fncts[] =
{
  { &quot;atan&quot;, atan },
  { &quot;cos&quot;,  cos  },
  { &quot;exp&quot;,  exp  },
  { &quot;ln&quot;,   log  },
  { &quot;sin&quot;,  sin  },
  { &quot;sqrt&quot;, sqrt },
  { 0, 0 },
};
</pre><pre class="example">
</pre><pre class="example">/* The symbol table: a chain of 'struct symrec'.  */
symrec *sym_table;
</pre><pre class="example">
</pre><pre class="example">/* Put arithmetic functions in table.  */
static
void
init_table (void)
{
  int i;
  for (i = 0; arith_fncts[i].fname != 0; i++)
    {
      symrec *ptr = putsym (arith_fncts[i].fname, FNCT);
      ptr-&gt;value.fnctptr = arith_fncts[i].fnct;
    }
}
</pre></div>

        <p>By simply editing the initialization list and adding the necessary include files, you can add additional functions to the calculator.
        </p>
        <p>Two important functions allow look-up and installation of symbols in the symbol table. The function <code>putsym</code> is passed a name and the type (
            <code>VAR</code> or <code>FNCT</code>) of the object to be installed. The object is linked to the front of the list, and a pointer to the object is returned. The function <code>getsym</code> is passed the name of the symbol to look up. If
            found, a pointer to that symbol is returned; otherwise zero is returned.
        </p>
        <div class="example">
            <pre class="example">#include &lt;stdlib.h&gt; /* malloc. */
#include &lt;string.h&gt; /* strlen. */

</pre><pre class="example">symrec *
putsym (char const *sym_name, int sym_type)
{
  symrec *ptr = (symrec *) malloc (sizeof (symrec));
  ptr-&gt;name = (char *) malloc (strlen (sym_name) + 1);
  strcpy (ptr-&gt;name,sym_name);
  ptr-&gt;type = sym_type;
  ptr-&gt;value.var = 0; /* Set value to 0 even if fctn.  */
  ptr-&gt;next = (struct symrec *)sym_table;
  sym_table = ptr;
  return ptr;
}
</pre><pre class="example">
</pre><pre class="example">symrec *
getsym (char const *sym_name)
{
  symrec *ptr;
  for (ptr = sym_table; ptr != (symrec *) 0;
       ptr = (symrec *)ptr-&gt;next)
    if (strcmp (ptr-&gt;name, sym_name) == 0)
      return ptr;
  return 0;
}
</pre></div>

        <hr>
        <a name="Mfcalc-Lexer"></a>
        <div class="header">
            <p>
                Next: <a href="#Mfcalc-Main" accesskey="n" rel="next">Mfcalc Main</a>, Previous: <a href="#Mfcalc-Symbol-Table" accesskey="p" rel="prev">Mfcalc Symbol Table</a>, Up: <a href="#Multi_002dfunction-Calc" accesskey="u" rel="up">Multi-function Calc</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-mfcalc-Lexer"></a>
        <h4 class="subsection">2.5.4 The <code>mfcalc</code> Lexer</h4>

        <p>The function <code>yylex</code> must now recognize variables, numeric values, and the single-character arithmetic operators. Strings of alphanumeric characters with a leading letter are recognized as either variables or functions depending on
            what the symbol table says about them.
        </p>
        <p>The string is passed to <code>getsym</code> for look up in the symbol table. If the name appears in the table, a pointer to its location and its type (
            <code>VAR</code> or <code>FNCT</code>) is returned to <code>yyparse</code>. If it is not already in the table, then it is installed as a <code>VAR</code> using
            <code>putsym</code>. Again, a pointer and its type (which must be <code>VAR</code>) is returned to <code>yyparse</code>.
        </p>
        <p>No change is needed in the handling of numeric values and arithmetic operators in <code>yylex</code>.
        </p>
        <div class="example">
            <pre class="example">#include &lt;ctype.h&gt;

</pre><pre class="example">int
yylex (void)
{
  int c;

  /* Ignore white space, get first nonwhite character.  */
  while ((c = getchar ()) == ' ' || c == '\t')
    continue;

  if (c == EOF)
    return 0;
</pre><pre class="example">
</pre><pre class="example">  /* Char starts a number =&gt; parse the number.         */
  if (c == '.' || isdigit (c))
    {
      ungetc (c, stdin);
      scanf (&quot;%lf&quot;, &amp;yylval.NUM);
      return NUM;
    }
</pre></div>

        <p>Bison generated a definition of <code>YYSTYPE</code> with a member named
            <code>NUM</code> to store value of <code>NUM</code> symbols.
        </p>
        <div class="example">
            <pre class="example">  /* Char starts an identifier =&gt; read the name.       */
  if (isalpha (c))
    {
      /* Initially make the buffer long enough
         for a 40-character symbol name.  */
      static size_t length = 40;
      static char *symbuf = 0;
      symrec *s;
      int i;
</pre><pre class="example">      if (!symbuf)
        symbuf = (char *) malloc (length + 1);

      i = 0;
      do
</pre><pre class="example">        {
          /* If buffer is full, make it bigger.        */
          if (i == length)
            {
              length *= 2;
              symbuf = (char *) realloc (symbuf, length + 1);
            }
          /* Add this character to the buffer.         */
          symbuf[i++] = c;
          /* Get another character.                    */
          c = getchar ();
        }
</pre><pre class="example">      while (isalnum (c));

      ungetc (c, stdin);
      symbuf[i] = '\0';
</pre><pre class="example">
</pre><pre class="example">      s = getsym (symbuf);
      if (s == 0)
        s = putsym (symbuf, VAR);
      *((symrec**) &amp;yylval) = s;
      return s-&gt;type;
    }

  /* Any other character is a token by itself.        */
  return c;
}
</pre></div>

        <hr>
        <a name="Mfcalc-Main"></a>
        <div class="header">
            <p>
                Previous: <a href="#Mfcalc-Lexer" accesskey="p" rel="prev">Mfcalc Lexer</a>, Up: <a href="#Multi_002dfunction-Calc" accesskey="u" rel="up">Multi-function Calc</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-mfcalc-Main"></a>
        <h4 class="subsection">2.5.5 The <code>mfcalc</code> Main</h4>

        <p>The error reporting function is unchanged, and the new version of
            <code>main</code> includes a call to <code>init_table</code> and sets the <code>yydebug</code> on user demand (See <a href="#Tracing">Tracing Your Parser</a>, for details):
        </p>
        <div class="example">
            <pre class="example">/* Called by yyparse on error.  */
void
yyerror (char const *s)
{
  fprintf (stderr, &quot;%s\n&quot;, s);
}
</pre><pre class="example">
</pre><pre class="example">int
main (int argc, char const* argv[])
{
  int i;
  /* Enable parse traces on option -p.  */
  for (i = 1; i &lt; argc; ++i)
    if (!strcmp(argv[i], &quot;-p&quot;))
      yydebug = 1;
  init_table ();
  return yyparse ();
}
</pre></div>

        <p>This program is both powerful and flexible. You may easily add new functions, and it is a simple job to modify this code to install predefined variables such as <code>pi</code> or <code>e</code> as well.
        </p>
        <hr>
        <a name="Exercises"></a>
        <div class="header">
            <p>
                Previous: <a href="#Multi_002dfunction-Calc" accesskey="p" rel="prev">Multi-function Calc</a>, Up: <a href="#Examples" accesskey="u" rel="up">Examples</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Exercises-1"></a>
        <h3 class="section">2.6 Exercises</h3>
        <a name="index-exercises"></a>

        <ol>
            <li> Add some new functions from <samp>math.h</samp> to the initialization list.

            </li>
            <li> Add another array that contains constants and their values. Then modify <code>init_table</code> to add these constants to the symbol table. It will be easiest to give the constants type <code>VAR</code>.

            </li>
            <li> Make the program report an error if the user refers to an uninitialized variable in any way except to store a value in it.
            </li>
        </ol>

        <hr>
        <a name="Grammar-File"></a>
        <div class="header">
            <p>
                Next: <a href="#Interface" accesskey="n" rel="next">Interface</a>, Previous: <a href="#Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison-Grammar-Files"></a>
        <h2 class="chapter">3 Bison Grammar Files</h2>

        <p>Bison takes as input a context-free grammar specification and produces a C-language function that recognizes correct instances of the grammar.
        </p>
        <p>The Bison grammar file conventionally has a name ending in &lsquo;<samp>.y</samp>&rsquo;. See <a href="#Invocation">Invoking Bison</a>.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-Outline" accesskey="1">Grammar Outline</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Overall layout of the grammar file.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Symbols" accesskey="2">Symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Terminal and nonterminal symbols.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rules" accesskey="3">Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to write grammar rules.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantics" accesskey="4">Semantics</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Semantic values and actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tracking-Locations" accesskey="5">Tracking Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Locations and actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Named-References" accesskey="6">Named References</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using named references in actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Declarations" accesskey="7">Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">All kinds of Bison declarations are described here.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multiple-Parsers" accesskey="8">Multiple Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Putting more than one Bison parser in one program.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Grammar-Outline"></a>
        <div class="header">
            <p>
                Next: <a href="#Symbols" accesskey="n" rel="next">Symbols</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Outline-of-a-Bison-Grammar"></a>
        <h3 class="section">3.1 Outline of a Bison Grammar</h3>
        <a name="index-comment"></a>
        <a name="index-_002f_002f-_2026"></a>
        <a name="index-_002f_002a-_2026-_002a_002f"></a>

        <p>A Bison grammar file has four main sections, shown here with the appropriate delimiters:
        </p>
        <div class="example">
            <pre class="example">%{
  <var>Prologue</var>
%}

<var>Bison declarations</var>

%%
<var>Grammar rules</var>
%%

<var>Epilogue</var>
</pre></div>

        <p>Comments enclosed in &lsquo;<samp>/* &hellip; */</samp>&rsquo; may appear in any of the sections. As a GNU extension, &lsquo;<samp>//</samp>&rsquo; introduces a comment that continues until end of line.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Prologue" accesskey="1">Prologue</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the prologue.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Prologue-Alternatives" accesskey="2">Prologue Alternatives</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of alternatives to the prologue.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bison-Declarations" accesskey="3">Bison Declarations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the Bison declarations section.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Grammar-Rules" accesskey="4">Grammar Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the grammar rules section.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Epilogue" accesskey="5">Epilogue</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax and usage of the epilogue.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Prologue"></a>
        <div class="header">
            <p>
                Next: <a href="#Prologue-Alternatives" accesskey="n" rel="next">Prologue Alternatives</a>, Up: <a href="#Grammar-Outline" accesskey="u" rel="up">Grammar Outline</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-prologue"></a>
        <h4 class="subsection">3.1.1 The prologue</h4>
        <a name="index-declarations-section"></a>
        <a name="index-Prologue"></a>
        <a name="index-declarations"></a>

        <p>The <var>Prologue</var> section contains macro definitions and declarations of functions and variables that are used in the actions in the grammar rules. These are copied to the beginning of the parser implementation file so that they precede
            the definition of <code>yyparse</code>. You can use &lsquo;<samp>#include</samp>&rsquo; to get the declarations from a header file. If you don&rsquo;t need any C declarations, you may omit the &lsquo;<samp>%{</samp>&rsquo; and &lsquo;
            <samp>%}</samp>&rsquo; delimiters that bracket this section.
        </p>
        <p>The <var>Prologue</var> section is terminated by the first occurrence of &lsquo;<samp>%}</samp>&rsquo; that is outside a comment, a string literal, or a character constant.
        </p>
        <p>You may have more than one <var>Prologue</var> section, intermixed with the
            <var>Bison declarations</var>. This allows you to have C and Bison declarations that refer to each other. For example, the <code>%union</code> declaration may use types defined in a header file, and you may wish to prototype functions that
            take arguments of type <code>YYSTYPE</code>. This can be done with two <var>Prologue</var> blocks, one before and one after the
            <code>%union</code> declaration.
        </p>
        <div class="example">
            <pre class="example">%{
  #define _GNU_SOURCE
  #include &lt;stdio.h&gt;
  #include &quot;ptypes.h&quot;
%}
</pre><pre class="example">
</pre><pre class="example">%union {
  long int n;
  tree t;  /* <span class="roman"><code>tree</code> is defined in <samp>ptypes.h</samp>.</span> */
}
</pre><pre class="example">
</pre><pre class="example">%{
  static void print_token_value (FILE *, int, YYSTYPE);
  #define YYPRINT(F, N, L) print_token_value (F, N, L)
%}
</pre><pre class="example">
&hellip;
</pre></div>

        <p>When in doubt, it is usually safer to put prologue code before all Bison declarations, rather than after. For example, any definitions of feature test macros like <code>_GNU_SOURCE</code> or
            <code>_POSIX_C_SOURCE</code> should appear before all Bison declarations, as feature test macros can affect the behavior of Bison-generated
            <code>#include</code> directives.
        </p>
        <hr>
        <a name="Prologue-Alternatives"></a>
        <div class="header">
            <p>
                Next: <a href="#Bison-Declarations" accesskey="n" rel="next">Bison Declarations</a>, Previous: <a href="#Prologue" accesskey="p" rel="prev">Prologue</a>, Up: <a href="#Grammar-Outline" accesskey="u" rel="up">Grammar Outline</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Prologue-Alternatives-1"></a>
        <h4 class="subsection">3.1.2 Prologue Alternatives</h4>
        <a name="index-Prologue-Alternatives"></a>

        <a name="index-_0025code"></a>
        <a name="index-_0025code-requires"></a>
        <a name="index-_0025code-provides"></a>
        <a name="index-_0025code-top"></a>

        <p>The functionality of <var>Prologue</var> sections can often be subtle and inflexible. As an alternative, Bison provides a <code>%code</code> directive with an explicit qualifier field, which identifies the purpose of the code and thus the location(s)
            where Bison should generate it. For C/C++, the qualifier can be omitted for the default location, or it can be one of <code>requires</code>, <code>provides</code>,
            <code>top</code>. See <a href="#g_t_0025code-Summary">%code Summary</a>.
        </p>
        <p>Look again at the example of the previous section:
        </p>
        <div class="example">
            <pre class="example">%{
  #define _GNU_SOURCE
  #include &lt;stdio.h&gt;
  #include &quot;ptypes.h&quot;
%}
</pre><pre class="example">
</pre><pre class="example">%union {
  long int n;
  tree t;  /* <span class="roman"><code>tree</code> is defined in <samp>ptypes.h</samp>.</span> */
}
</pre><pre class="example">
</pre><pre class="example">%{
  static void print_token_value (FILE *, int, YYSTYPE);
  #define YYPRINT(F, N, L) print_token_value (F, N, L)
%}
</pre><pre class="example">
&hellip;
</pre></div>

        <p>Notice that there are two <var>Prologue</var> sections here, but there&rsquo;s a subtle distinction between their functionality. For example, if you decide to override Bison&rsquo;s default definition for <code>YYLTYPE</code>, in which <var>Prologue</var>            section should you write your new definition? You should write it in the first since Bison will insert that code into the parser implementation file <em>before</em> the default
            <code>YYLTYPE</code> definition. In which <var>Prologue</var> section should you prototype an internal function, <code>trace_token</code>, that accepts
            <code>YYLTYPE</code> and <code>yytokentype</code> as arguments? You should prototype it in the second since Bison will insert that code
            <em>after</em> the <code>YYLTYPE</code> and <code>yytokentype</code> definitions.
        </p>
        <p>This distinction in functionality between the two <var>Prologue</var> sections is established by the appearance of the <code>%union</code> between them. This behavior raises a few questions. First, why should the position of a <code>%union</code>            affect definitions related to
            <code>YYLTYPE</code> and <code>yytokentype</code>? Second, what if there is no <code>%union</code>? In that case, the second kind of <var>Prologue</var> section is not available. This behavior is not intuitive.
        </p>
        <p>To avoid this subtle <code>%union</code> dependency, rewrite the example using a
            <code>%code top</code> and an unqualified <code>%code</code>. Let&rsquo;s go ahead and add the new <code>YYLTYPE</code> definition and the
            <code>trace_token</code> prototype at the same time:
        </p>
        <div class="example">
            <pre class="example">%code top {
  #define _GNU_SOURCE
  #include &lt;stdio.h&gt;

  /* WARNING: The following code really belongs
   * in a '%code requires'; see below.  */

  #include &quot;ptypes.h&quot;
  #define YYLTYPE YYLTYPE
  typedef struct YYLTYPE
  {
    int first_line;
    int first_column;
    int last_line;
    int last_column;
    char *filename;
  } YYLTYPE;
}

</pre><pre class="example">%union {
  long int n;
  tree t;  /* <span class="roman"><code>tree</code> is defined in <samp>ptypes.h</samp>.</span> */
}
</pre><pre class="example">
</pre><pre class="example">%code {
  static void print_token_value (FILE *, int, YYSTYPE);
  #define YYPRINT(F, N, L) print_token_value (F, N, L)
  static void trace_token (enum yytokentype token, YYLTYPE loc);
}
</pre><pre class="example">
&hellip;
</pre></div>

        <p>In this way, <code>%code top</code> and the unqualified <code>%code</code> achieve the same functionality as the two kinds of <var>Prologue</var> sections, but it&rsquo;s always explicit which kind you intend. Moreover, both kinds are always available
            even in the absence of <code>%union</code>.
        </p>
        <p>The <code>%code top</code> block above logically contains two parts. The first two lines before the warning need to appear near the top of the parser implementation file. The first line after the warning is required by <code>YYSTYPE</code> and
            thus also needs to appear in the parser implementation file. However, if you&rsquo;ve instructed Bison to generate a parser header file (see <a href="#Decl-Summary">%defines</a>), you probably want that line to appear before the <code>YYSTYPE</code>            definition in that header file as well. The <code>YYLTYPE</code> definition should also appear in the parser header file to override the default <code>YYLTYPE</code> definition there.
        </p>
        <p>In other words, in the <code>%code top</code> block above, all but the first two lines are dependency code required by the <code>YYSTYPE</code> and <code>YYLTYPE</code> definitions. Thus, they belong in one or more <code>%code requires</code>:
        </p>
        <div class="example">
            <pre class="example">%code top {
  #define _GNU_SOURCE
  #include &lt;stdio.h&gt;
}
</pre><pre class="example">
</pre><pre class="example">%code requires {
  #include &quot;ptypes.h&quot;
}
</pre><pre class="example">%union {
  long int n;
  tree t;  /* <span class="roman"><code>tree</code> is defined in <samp>ptypes.h</samp>.</span> */
}
</pre><pre class="example">
</pre><pre class="example">%code requires {
  #define YYLTYPE YYLTYPE
  typedef struct YYLTYPE
  {
    int first_line;
    int first_column;
    int last_line;
    int last_column;
    char *filename;
  } YYLTYPE;
}
</pre><pre class="example">
</pre><pre class="example">%code {
  static void print_token_value (FILE *, int, YYSTYPE);
  #define YYPRINT(F, N, L) print_token_value (F, N, L)
  static void trace_token (enum yytokentype token, YYLTYPE loc);
}
</pre><pre class="example">
&hellip;
</pre></div>

        <p>Now Bison will insert <code>#include &quot;ptypes.h&quot;</code> and the new
            <code>YYLTYPE</code> definition before the Bison-generated <code>YYSTYPE</code> and <code>YYLTYPE</code> definitions in both the parser implementation file and the parser header file. (By the same reasoning, <code>%code
requires</code> would also be the appropriate place to write your own definition for <code>YYSTYPE</code>.)
        </p>
        <p>When you are writing dependency code for <code>YYSTYPE</code> and
            <code>YYLTYPE</code>, you should prefer <code>%code requires</code> over
            <code>%code top</code> regardless of whether you instruct Bison to generate a parser header file. When you are writing code that you need Bison to insert only into the parser implementation file and that has no special need to appear at the
            top of that file, you should prefer the unqualified <code>%code</code> over <code>%code top</code>. These practices will make the purpose of each block of your code explicit to Bison and to other developers reading your grammar file. Following
            these practices, we expect the unqualified <code>%code</code> and <code>%code
requires</code> to be the most important of the four <var>Prologue</var> alternatives.
        </p>
        <p>At some point while developing your parser, you might decide to provide <code>trace_token</code> to modules that are external to your parser. Thus, you might wish for Bison to insert the prototype into both the parser header file and the parser
            implementation file. Since this function is not a dependency required by <code>YYSTYPE</code> or
            <code>YYLTYPE</code>, it doesn&rsquo;t make sense to move its prototype to a
            <code>%code requires</code>. More importantly, since it depends upon
            <code>YYLTYPE</code> and <code>yytokentype</code>, <code>%code requires</code> is not sufficient. Instead, move its prototype from the unqualified
            <code>%code</code> to a <code>%code provides</code>:
        </p>
        <div class="example">
            <pre class="example">%code top {
  #define _GNU_SOURCE
  #include &lt;stdio.h&gt;
}
</pre><pre class="example">
</pre><pre class="example">%code requires {
  #include &quot;ptypes.h&quot;
}
</pre><pre class="example">%union {
  long int n;
  tree t;  /* <span class="roman"><code>tree</code> is defined in <samp>ptypes.h</samp>.</span> */
}
</pre><pre class="example">
</pre><pre class="example">%code requires {
  #define YYLTYPE YYLTYPE
  typedef struct YYLTYPE
  {
    int first_line;
    int first_column;
    int last_line;
    int last_column;
    char *filename;
  } YYLTYPE;
}
</pre><pre class="example">
</pre><pre class="example">%code provides {
  void trace_token (enum yytokentype token, YYLTYPE loc);
}
</pre><pre class="example">
</pre><pre class="example">%code {
  static void print_token_value (FILE *, int, YYSTYPE);
  #define YYPRINT(F, N, L) print_token_value (F, N, L)
}
</pre><pre class="example">
&hellip;
</pre></div>

        <p>Bison will insert the <code>trace_token</code> prototype into both the parser header file and the parser implementation file after the definitions for <code>yytokentype</code>, <code>YYLTYPE</code>, and
            <code>YYSTYPE</code>.
        </p>
        <p>The above examples are careful to write directives in an order that reflects the layout of the generated parser implementation and header files: <code>%code top</code>, <code>%code requires</code>, <code>%code provides</code>, and then <code>%code</code>.
            While your grammar files may generally be easier to read if you also follow this order, Bison does not require it. Instead, Bison lets you choose an organization that makes sense to you.
        </p>
        <p>You may declare any of these directives multiple times in the grammar file. In that case, Bison concatenates the contained code in declaration order. This is the only way in which the position of one of these directives within the grammar file
            affects its functionality.
        </p>
        <p>The result of the previous two properties is greater flexibility in how you may organize your grammar file. For example, you may organize semantic-type-related directives by semantic type:
        </p>
        <div class="example">
            <pre class="example">%code requires { #include &quot;type1.h&quot; }
%union { type1 field1; }
%destructor { type1_free ($$); } &lt;field1&gt;
%printer { type1_print (yyoutput, $$); } &lt;field1&gt;
</pre><pre class="example">
</pre><pre class="example">%code requires { #include &quot;type2.h&quot; }
%union { type2 field2; }
%destructor { type2_free ($$); } &lt;field2&gt;
%printer { type2_print (yyoutput, $$); } &lt;field2&gt;
</pre></div>

        <p>You could even place each of the above directive groups in the rules section of the grammar file next to the set of rules that uses the associated semantic type. (In the rules section, you must terminate each of those directives with a semicolon.)
            And you don&rsquo;t have to worry that some directive (like a <code>%union</code>) in the definitions section is going to adversely affect their functionality in some counter-intuitive manner just because it comes first. Such an organization
            is not possible using <var>Prologue</var> sections.
        </p>
        <p>This section has been concerned with explaining the advantages of the four
            <var>Prologue</var> alternatives over the original Yacc <var>Prologue</var>. However, in most cases when using these directives, you shouldn&rsquo;t need to think about all the low-level ordering issues discussed here. Instead, you should
            simply use these directives to label each block of your code according to its purpose and let Bison handle the ordering.
            <code>%code</code> is the most generic label. Move code to <code>%code requires</code>, <code>%code provides</code>, or <code>%code top</code> as needed.
        </p>
        <hr>
        <a name="Bison-Declarations"></a>
        <div class="header">
            <p>
                Next: <a href="#Grammar-Rules" accesskey="n" rel="next">Grammar Rules</a>, Previous: <a href="#Prologue-Alternatives" accesskey="p" rel="prev">Prologue Alternatives</a>, Up: <a href="#Grammar-Outline" accesskey="u" rel="up">Grammar Outline</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Bison-Declarations-Section"></a>
        <h4 class="subsection">3.1.3 The Bison Declarations Section</h4>
        <a name="index-Bison-declarations-_0028introduction_0029"></a>
        <a name="index-declarations_002c-Bison-_0028introduction_0029"></a>

        <p>The <var>Bison declarations</var> section contains declarations that define terminal and nonterminal symbols, specify precedence, and so on. In some simple grammars you may not need any declarations. See <a href="#Declarations">Bison Declarations</a>.
        </p>
        <hr>
        <a name="Grammar-Rules"></a>
        <div class="header">
            <p>
                Next: <a href="#Epilogue" accesskey="n" rel="next">Epilogue</a>, Previous: <a href="#Bison-Declarations" accesskey="p" rel="prev">Bison Declarations</a>, Up: <a href="#Grammar-Outline" accesskey="u" rel="up">Grammar Outline</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Grammar-Rules-Section"></a>
        <h4 class="subsection">3.1.4 The Grammar Rules Section</h4>
        <a name="index-grammar-rules-section"></a>
        <a name="index-rules-section-for-grammar"></a>

        <p>The <em>grammar rules</em> section contains one or more Bison grammar rules, and nothing else. See <a href="#Rules">Syntax of Grammar Rules</a>.
        </p>
        <p>There must always be at least one grammar rule, and the first &lsquo;
            <samp>%%</samp>&rsquo; (which precedes the grammar rules) may never be omitted even if it is the first thing in the file.
        </p>
        <hr>
        <a name="Epilogue"></a>
        <div class="header">
            <p>
                Previous: <a href="#Grammar-Rules" accesskey="p" rel="prev">Grammar Rules</a>, Up: <a href="#Grammar-Outline" accesskey="u" rel="up">Grammar Outline</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-epilogue"></a>
        <h4 class="subsection">3.1.5 The epilogue</h4>
        <a name="index-additional-C-code-section"></a>
        <a name="index-epilogue"></a>
        <a name="index-C-code_002c-section-for-additional"></a>

        <p>The <var>Epilogue</var> is copied verbatim to the end of the parser implementation file, just as the <var>Prologue</var> is copied to the beginning. This is the most convenient place to put anything that you want to have in the parser implementation
            file but which need not come before the definition of <code>yyparse</code>. For example, the definitions of <code>yylex</code> and <code>yyerror</code> often go here. Because C requires functions to be declared before being used, you often
            need to declare functions like <code>yylex</code> and <code>yyerror</code> in the Prologue, even if you define them in the Epilogue. See <a href="#Interface">Parser
C-Language Interface</a>.
        </p>
        <p>If the last section is empty, you may omit the &lsquo;<samp>%%</samp>&rsquo; that separates it from the grammar rules.
        </p>
        <p>The Bison parser itself contains many macros and identifiers whose names start with &lsquo;<samp>yy</samp>&rsquo; or &lsquo;<samp>YY</samp>&rsquo;, so it is a good idea to avoid using any such names (except those documented in this manual) in
            the epilogue of the grammar file.
        </p>
        <hr>
        <a name="Symbols"></a>
        <div class="header">
            <p>
                Next: <a href="#Rules" accesskey="n" rel="next">Rules</a>, Previous: <a href="#Grammar-Outline" accesskey="p" rel="prev">Grammar Outline</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Symbols_002c-Terminal-and-Nonterminal"></a>
        <h3 class="section">3.2 Symbols, Terminal and Nonterminal</h3>
        <a name="index-nonterminal-symbol"></a>
        <a name="index-terminal-symbol"></a>
        <a name="index-token-type"></a>
        <a name="index-symbol"></a>

        <p><em>Symbols</em> in Bison grammars represent the grammatical classifications of the language.
        </p>
        <p>A <em>terminal symbol</em> (also known as a <em>token type</em>) represents a class of syntactically equivalent tokens. You use the symbol in grammar rules to mean that a token in that class is allowed. The symbol is represented in the Bison parser
            by a numeric code, and the <code>yylex</code> function returns a token type code to indicate what kind of token has been read. You don&rsquo;t need to know what the code value is; you can use the symbol to stand for it.
        </p>
        <p>A <em>nonterminal symbol</em> stands for a class of syntactically equivalent groupings. The symbol name is used in writing grammar rules. By convention, it should be all lower case.
        </p>
        <p>Symbol names can contain letters, underscores, periods, and non-initial digits and dashes. Dashes in symbol names are a GNU extension, incompatible with POSIX Yacc. Periods and dashes make symbol names less convenient to use with named references,
            which require brackets around such names (see <a href="#Named-References">Named References</a>). Terminal symbols that contain periods or dashes make little sense: since they are not valid symbols (in most programming languages) they are not
            exported as token names.
        </p>
        <p>There are three ways of writing terminal symbols in the grammar:
        </p>
        <ul>
            <li> A <em>named token type</em> is written with an identifier, like an identifier in C. By convention, it should be all upper case. Each such name must be defined with a Bison declaration such as
                <code>%token</code>. See <a href="#Token-Decl">Token Type Names</a>.

            </li>
            <li>
                <a name="index-character-token"></a>
                <a name="index-literal-token"></a>
                <a name="index-single_002dcharacter-literal"></a>
                A <em>character token type</em> (or <em>literal character token</em>) is written in the grammar using the same syntax used in C for character constants; for example, <code>'+'</code> is a character token type. A character token type doesn&rsquo;t
                need to be declared unless you need to specify its semantic value data type (see <a href="#Value-Type">Data Types of
Semantic Values</a>), associativity, or precedence (see <a href="#Precedence">Operator Precedence</a>).

                <p>By convention, a character token type is used only to represent a token that consists of that particular character. Thus, the token type <code>'+'</code> is used to represent the character &lsquo;<samp>+</samp>&rsquo; as a token. Nothing
                    enforces this convention, but if you depart from it, your program will confuse other readers.
                </p>
                <p>All the usual escape sequences used in character literals in C can be used in Bison as well, but you must not use the null character as a character literal because its numeric code, zero, signifies end-of-input (see <a href="#Calling-Convention">Calling Convention
for <code>yylex</code></a>). Also, unlike standard C, trigraphs have no special meaning in Bison character literals, nor is backslash-newline allowed.
                </p>
            </li>
            <li>
                <a name="index-string-token"></a>
                <a name="index-literal-string-token"></a>
                <a name="index-multicharacter-literal"></a>
                A <em>literal string token</em> is written like a C string constant; for example, <code>&quot;&lt;=&quot;</code> is a literal string token. A literal string token doesn&rsquo;t need to be declared unless you need to specify its semantic
                value data type (see <a href="#Value-Type">Value Type</a>), associativity, or precedence (see <a href="#Precedence">Precedence</a>).

                <p>You can associate the literal string token with a symbolic name as an alias, using the <code>%token</code> declaration (see <a href="#Token-Decl">Token
Declarations</a>). If you don&rsquo;t do that, the lexical analyzer has to retrieve the token number for the literal string token from the
                    <code>yytname</code> table (see <a href="#Calling-Convention">Calling Convention</a>).
                </p>
                <p><strong>Warning</strong>: literal string tokens do not work in Yacc.
                </p>
                <p>By convention, a literal string token is used only to represent a token that consists of that particular string. Thus, you should use the token type <code>&quot;&lt;=&quot;</code> to represent the string &lsquo;<samp>&lt;=</samp>&rsquo;
                    as a token. Bison does not enforce this convention, but if you depart from it, people who read your program will be confused.
                </p>
                <p>All the escape sequences used in string literals in C can be used in Bison as well, except that you must not use a null character within a string literal. Also, unlike Standard C, trigraphs have no special meaning in Bison string literals,
                    nor is backslash-newline allowed. A literal string token must contain two or more characters; for a token containing just one character, use a character token (see above).
                </p>
            </li>
        </ul>

        <p>How you choose to write a terminal symbol has no effect on its grammatical meaning. That depends only on where it appears in rules and on when the parser function returns that symbol.
        </p>
        <p>The value returned by <code>yylex</code> is always one of the terminal symbols, except that a zero or negative value signifies end-of-input. Whichever way you write the token type in the grammar rules, you write it the same way in the definition
            of
            <code>yylex</code>. The numeric code for a character token type is simply the positive numeric code of the character, so <code>yylex</code> can use the identical value to generate the requisite code, though you may need to convert it to <code>unsigned
char</code> to avoid sign-extension on hosts where <code>char</code> is signed. Each named token type becomes a C macro in the parser implementation file, so <code>yylex</code> can use the name to stand for the code. (This is why periods don&rsquo;t make
            sense in terminal symbols.) See <a href="#Calling-Convention">Calling Convention for <code>yylex</code></a>.
        </p>
        <p>If <code>yylex</code> is defined in a separate file, you need to arrange for the token-type macro definitions to be available there. Use the &lsquo;<samp>-d</samp>&rsquo; option when you run Bison, so that it will write these macro definitions
            into a separate header file <samp><var>name</var>.tab.h</samp> which you can include in the other source files that need it. See <a href="#Invocation">Invoking Bison</a>.
        </p>
        <p>If you want to write a grammar that is portable to any Standard C host, you must use only nonnull character tokens taken from the basic execution character set of Standard C. This set consists of the ten digits, the 52 lower- and upper-case English
            letters, and the characters in the following C-language string:
        </p>
        <div class="example">
            <pre class="example">&quot;\a\b\t\n\v\f\r !\&quot;#%&amp;'()*+,-./:;&lt;=&gt;?[\\]^_{|}~&quot;
</pre></div>

        <p>The <code>yylex</code> function and Bison must use a consistent character set and encoding for character tokens. For example, if you run Bison in an ASCII environment, but then compile and run the resulting program in an environment that uses
            an incompatible character set like EBCDIC, the resulting program may not work because the tables generated by Bison will assume ASCII numeric values for character tokens. It is standard practice for software distributions to contain C source
            files that were generated by Bison in an ASCII environment, so installers on platforms that are incompatible with ASCII must rebuild those files before compiling them.
        </p>
        <p>The symbol <code>error</code> is a terminal symbol reserved for error recovery (see <a href="#Error-Recovery">Error Recovery</a>); you shouldn&rsquo;t use it for any other purpose. In particular, <code>yylex</code> should never return this value.
            The default value of the error token is 256, unless you explicitly assigned 256 to one of your tokens with a <code>%token</code> declaration.
        </p>
        <hr>
        <a name="Rules"></a>
        <div class="header">
            <p>
                Next: <a href="#Semantics" accesskey="n" rel="next">Semantics</a>, Previous: <a href="#Symbols" accesskey="p" rel="prev">Symbols</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Grammar-Rules-1"></a>
        <h3 class="section">3.3 Grammar Rules</h3>

        <p>A Bison grammar is a list of rules.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Rules-Syntax" accesskey="1">Rules Syntax</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Syntax of the rules.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Empty-Rules" accesskey="2">Empty Rules</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Symbols that can match the empty string.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Recursion" accesskey="3">Recursion</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Writing recursive rules.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Rules-Syntax"></a>
        <div class="header">
            <p>
                Next: <a href="#Empty-Rules" accesskey="n" rel="next">Empty Rules</a>, Up: <a href="#Rules" accesskey="u" rel="up">Rules</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Syntax-of-Grammar-Rules"></a>
        <h4 class="subsection">3.3.1 Syntax of Grammar Rules</h4>
        <a name="index-rule-syntax"></a>
        <a name="index-grammar-rule-syntax"></a>
        <a name="index-syntax-of-grammar-rules"></a>

        <p>A Bison grammar rule has the following general form:
        </p>
        <div class="example">
            <pre class="example"><var>result</var>: <var>components</var>&hellip;;
</pre></div>

        <p>where <var>result</var> is the nonterminal symbol that this rule describes, and <var>components</var> are various terminal and nonterminal symbols that are put together by this rule (see <a href="#Symbols">Symbols</a>).
        </p>
        <p>For example,
        </p>
        <div class="example">
            <pre class="example">exp: exp '+' exp;
</pre></div>

        <p>says that two groupings of type <code>exp</code>, with a &lsquo;<samp>+</samp>&rsquo; token in between, can be combined into a larger grouping of type <code>exp</code>.
        </p>
        <p>White space in rules is significant only to separate symbols. You can add extra white space as you wish.
        </p>
        <p>Scattered among the components can be <var>actions</var> that determine the semantics of the rule. An action looks like this:
        </p>
        <div class="example">
            <pre class="example">{<var>C statements</var>}
</pre></div>

        <a name="index-braced-code"></a>
        <p>This is an example of <em>braced code</em>, that is, C code surrounded by braces, much like a compound statement in C. Braced code can contain any sequence of C tokens, so long as its braces are balanced. Bison does not check the braced code for
            correctness directly; it merely copies the code to the parser implementation file, where the C compiler can check it.
        </p>
        <p>Within braced code, the balanced-brace count is not affected by braces within comments, string literals, or character constants, but it is affected by the C digraphs &lsquo;<samp>&lt;%</samp>&rsquo; and &lsquo;<samp>%&gt;</samp>&rsquo; that represent
            braces. At the top level braced code must be terminated by &lsquo;<samp>}</samp>&rsquo; and not by a digraph. Bison does not look for trigraphs, so if braced code uses trigraphs you should ensure that they do not affect the nesting of braces
            or the boundaries of comments, string literals, or character constants.
        </p>
        <p>Usually there is only one action and it follows the components. See <a href="#Actions">Actions</a>.
        </p>
        <a name="index-_007c"></a>
        <p>Multiple rules for the same <var>result</var> can be written separately or can be joined with the vertical-bar character &lsquo;<samp>|</samp>&rsquo; as follows:
        </p>
        <div class="example">
            <pre class="example"><var>result</var>:
  <var>rule1-components</var>&hellip;
| <var>rule2-components</var>&hellip;
&hellip;
;
</pre></div>

        <p>They are still considered distinct rules even when joined in this way.
        </p>
        <hr>
        <a name="Empty-Rules"></a>
        <div class="header">
            <p>
                Next: <a href="#Recursion" accesskey="n" rel="next">Recursion</a>, Previous: <a href="#Rules-Syntax" accesskey="p" rel="prev">Rules Syntax</a>, Up: <a href="#Rules" accesskey="u" rel="up">Rules</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Empty-Rules-1"></a>
        <h4 class="subsection">3.3.2 Empty Rules</h4>
        <a name="index-empty-rule"></a>
        <a name="index-rule_002c-empty"></a>
        <a name="index-_0025empty"></a>

        <p>A rule is said to be <em>empty</em> if its right-hand side (<var>components</var>) is empty. It means that <var>result</var> can match the empty string. For example, here is how to define an optional semicolon:
        </p>
        <div class="example">
            <pre class="example">semicolon.opt: | &quot;;&quot;;
</pre></div>

        <p>It is easy not to see an empty rule, especially when <code>|</code> is used. The
            <code>%empty</code> directive allows to make explicit that a rule is empty on purpose:
        </p>
        <div class="example">
            <pre class="example">semicolon.opt:
  %empty
| &quot;;&quot;
;
</pre></div>

        <p>Flagging a non-empty rule with <code>%empty</code> is an error. If run with
            <samp>-Wempty-rule</samp>, <code>bison</code> will report empty rules without
            <code>%empty</code>. Using <code>%empty</code> enables this warning, unless
            <samp>-Wno-empty-rule</samp> was specified.
        </p>
        <p>The <code>%empty</code> directive is a Bison extension, it does not work with Yacc. To remain compatible with POSIX Yacc, it is customary to write a comment &lsquo;<samp>/* empty */</samp>&rsquo; in each rule with no components:
        </p>
        <div class="example">
            <pre class="example">semicolon.opt:
  /* empty */
| &quot;;&quot;
;
</pre></div>


        <hr>
        <a name="Recursion"></a>
        <div class="header">
            <p>
                Previous: <a href="#Empty-Rules" accesskey="p" rel="prev">Empty Rules</a>, Up: <a href="#Rules" accesskey="u" rel="up">Rules</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Recursive-Rules"></a>
        <h4 class="subsection">3.3.3 Recursive Rules</h4>
        <a name="index-recursive-rule"></a>
        <a name="index-rule_002c-recursive"></a>

        <p>A rule is called <em>recursive</em> when its <var>result</var> nonterminal appears also on its right hand side. Nearly all Bison grammars need to use recursion, because that is the only way to define a sequence of any number of a particular thing.
            Consider this recursive definition of a comma-separated sequence of one or more expressions:
        </p>
        <div class="example">
            <pre class="example">expseq1:
  exp
| expseq1 ',' exp
;
</pre></div>

        <a name="index-left-recursion"></a>
        <a name="index-right-recursion"></a>
        <p>Since the recursive use of <code>expseq1</code> is the leftmost symbol in the right hand side, we call this <em>left recursion</em>. By contrast, here the same construct is defined using <em>right recursion</em>:
        </p>
        <div class="example">
            <pre class="example">expseq1:
  exp
| exp ',' expseq1
;
</pre></div>

        <p>Any kind of sequence can be defined using either left recursion or right recursion, but you should always use left recursion, because it can parse a sequence of any number of elements with bounded stack space. Right recursion uses up space on
            the Bison stack in proportion to the number of elements in the sequence, because all the elements must be shifted onto the stack before the rule can be applied even once. See <a href="#Algorithm">The Bison Parser Algorithm</a>, for further
            explanation of this.
        </p>
        <a name="index-mutual-recursion"></a>
        <p><em>Indirect</em> or <em>mutual</em> recursion occurs when the result of the rule does not appear directly on its right hand side, but does appear in rules for other nonterminals which do appear on its right hand side.
        </p>
        <p>For example:
        </p>
        <div class="example">
            <pre class="example">expr:
  primary
| primary '+' primary
;
</pre><pre class="example">
</pre><pre class="example">primary:
  constant
| '(' expr ')'
;
</pre></div>

        <p>defines two mutually-recursive nonterminals, since each refers to the other.
        </p>
        <hr>
        <a name="Semantics"></a>
        <div class="header">
            <p>
                Next: <a href="#Tracking-Locations" accesskey="n" rel="next">Tracking Locations</a>, Previous: <a href="#Rules" accesskey="p" rel="prev">Rules</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Defining-Language-Semantics"></a>
        <h3 class="section">3.4 Defining Language Semantics</h3>
        <a name="index-defining-language-semantics"></a>
        <a name="index-language-semantics_002c-defining"></a>

        <p>The grammar rules for a language determine only the syntax. The semantics are determined by the semantic values associated with various tokens and groupings, and by the actions taken when various groupings are recognized.
        </p>
        <p>For example, the calculator calculates properly because the value associated with each expression is the proper number; it adds properly because the action for the grouping &lsquo;<samp><var>x</var>&nbsp;+&nbsp;<var>y</var></samp>&rsquo;
            <!-- /@w -->is to add the numbers associated with <var>x</var> and <var>y</var>.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Value-Type" accesskey="1">Value Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying one data type for all semantic values.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multiple-Types" accesskey="2">Multiple Types</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying several alternative data types.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Type-Generation" accesskey="3">Type Generation</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Generating the semantic value type.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Union-Decl" accesskey="4">Union Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring the set of all semantic value types.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Structured-Value-Type" accesskey="5">Structured Value Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Providing a structured semantic value type.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Actions" accesskey="6">Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">An action is the semantic definition of a grammar rule.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Action-Types" accesskey="7">Action Types</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying data types for actions to operate on.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mid_002dRule-Actions" accesskey="8">Mid-Rule Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Most actions go at the end of a rule. This says when, why and how to use the exceptional action in the middle of a rule.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Value-Type"></a>
        <div class="header">
            <p>
                Next: <a href="#Multiple-Types" accesskey="n" rel="next">Multiple Types</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Data-Types-of-Semantic-Values"></a>
        <h4 class="subsection">3.4.1 Data Types of Semantic Values</h4>
        <a name="index-semantic-value-type"></a>
        <a name="index-value-type_002c-semantic"></a>
        <a name="index-data-types-of-semantic-values"></a>
        <a name="index-default-data-type"></a>

        <p>In a simple program it may be sufficient to use the same data type for the semantic values of all language constructs. This was true in the RPN and infix calculator examples (see <a href="#RPN-Calc">Reverse Polish
Notation Calculator</a>).
        </p>
        <p>Bison normally uses the type <code>int</code> for semantic values if your program uses the same data type for all language constructs. To specify some other type, define the <code>%define</code> variable
            <code>api.value.type</code> like this:
        </p>
        <div class="example">
            <pre class="example">%define api.value.type {double}
</pre></div>

        <p>or
        </p>
        <div class="example">
            <pre class="example">%define api.value.type {struct semantic_type}
</pre></div>

        <p>The value of <code>api.value.type</code> should be a type name that does not contain parentheses or square brackets.
        </p>
        <p>Alternatively, instead of relying of Bison&rsquo;s <code>%define</code> support, you may rely on the C/C++ preprocessor and define <code>YYSTYPE</code> as a macro, like this:
        </p>
        <div class="example">
            <pre class="example">#define YYSTYPE double
</pre></div>

        <p>This macro definition must go in the prologue of the grammar file (see <a href="#Grammar-Outline">Outline of a Bison Grammar</a>). If compatibility with POSIX Yacc matters to you, use this. Note however that Bison cannot know <code>YYSTYPE</code>&rsquo;s
            value, not even whether it is defined, so there are services it cannot provide. Besides this works only for languages that have a preprocessor.
        </p>
        <hr>
        <a name="Multiple-Types"></a>
        <div class="header">
            <p>
                Next: <a href="#Type-Generation" accesskey="n" rel="next">Type Generation</a>, Previous: <a href="#Value-Type" accesskey="p" rel="prev">Value Type</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="More-Than-One-Value-Type"></a>
        <h4 class="subsection">3.4.2 More Than One Value Type</h4>

        <p>In most programs, you will need different data types for different kinds of tokens and groupings. For example, a numeric constant may need type
            <code>int</code> or <code>long int</code>, while a string constant needs type
            <code>char *</code>, and an identifier might need a pointer to an entry in the symbol table.
        </p>
        <p>To use more than one data type for semantic values in one parser, Bison requires you to do two things:
        </p>
        <ul>
            <li> Specify the entire collection of possible data types. There are several options:
                <ul>
                    <li> let Bison compute the union type from the tags you assign to symbols;

                    </li>
                    <li> use the <code>%union</code> Bison declaration (see <a href="#Union-Decl">The Union
Declaration</a>);

                    </li>
                    <li> define the <code>%define</code> variable <code>api.value.type</code> to be a union type whose members are the type tags (see <a href="#Structured-Value-Type">Providing a
Structured Semantic Value Type</a>);

                    </li>
                    <li> use a <code>typedef</code> or a <code>#define</code> to define <code>YYSTYPE</code> to be a union type whose member names are the type tags.
                    </li>
                </ul>

            </li>
            <li> Choose one of those types for each symbol (terminal or nonterminal) for which semantic values are used. This is done for tokens with the
                <code>%token</code> Bison declaration (see <a href="#Token-Decl">Token Type Names</a>) and for groupings with the <code>%type</code> Bison declaration (see <a href="#Type-Decl">Nonterminal Symbols</a>).
            </li>
        </ul>

        <hr>
        <a name="Type-Generation"></a>
        <div class="header">
            <p>
                Next: <a href="#Union-Decl" accesskey="n" rel="next">Union Decl</a>, Previous: <a href="#Multiple-Types" accesskey="p" rel="prev">Multiple Types</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Generating-the-Semantic-Value-Type"></a>
        <h4 class="subsection">3.4.3 Generating the Semantic Value Type</h4>
        <a name="index-declaring-value-types"></a>
        <a name="index-value-types_002c-declaring"></a>
        <a name="index-_0025define-api_002evalue_002etype-union"></a>

        <p>The special value <code>union</code> of the <code>%define</code> variable
            <code>api.value.type</code> instructs Bison that the tags used with the
            <code>%token</code> and <code>%type</code> directives are genuine types, not names of members of <code>YYSTYPE</code>.
        </p>
        <p>For example:
        </p>
        <div class="example">
            <pre class="example">%define api.value.type union
%token &lt;int&gt; INT &quot;integer&quot;
%token &lt;int&gt; 'n'
%type &lt;int&gt; expr
%token &lt;char const *&gt; ID &quot;identifier&quot;
</pre></div>

        <p>generates an appropriate value of <code>YYSTYPE</code> to support each symbol type. The name of the member of <code>YYSTYPE</code> for tokens than have a declared identifier <var>id</var> (such as <code>INT</code> and <code>ID</code> above, but
            not
            <code>'n'</code>) is <code><var>id</var></code>. The other symbols have unspecified names on which you should not depend; instead, relying on C casts to access the semantic value with the appropriate type:
        </p>
        <div class="example">
            <pre class="example">/* For an &quot;integer&quot;.  */
yylval.INT = 42;
return INT;

/* For an 'n', also declared as int.  */
*((int*)&amp;yylval) = 42;
return 'n';

/* For an &quot;identifier&quot;.  */
yylval.ID = &quot;42&quot;;
return ID;
</pre></div>

        <p>If the <code>%define</code> variable <code>api.token.prefix</code> is defined (see <a href="#g_t_0025define-Summary">api.token.prefix</a>), then it is also used to prefix the union member names. For instance, with &lsquo;<samp>%define api.token.prefix
{TOK_}</samp>&rsquo;:
        </p>
        <div class="example">
            <pre class="example">/* For an &quot;integer&quot;.  */
yylval.TOK_INT = 42;
return TOK_INT;
</pre></div>

        <p>This Bison extension cannot work if <code>%yacc</code> (or
            <samp>-y</samp>/<samp>--yacc</samp>) is enabled, as POSIX mandates that Yacc generate tokens as macros (e.g., &lsquo;<samp>#define INT 258</samp>&rsquo;, or &lsquo;<samp>#define
TOK_INT 258</samp>&rsquo;).
        </p>
        <p>This feature is new, and user feedback would be most welcome.
        </p>
        <p>A similar feature is provided for C++ that in addition overcomes C++ limitations (that forbid non-trivial objects to be part of a <code>union</code>): &lsquo;
            <samp>%define api.value.type variant</samp>&rsquo;, see <a href="#C_002b_002b-Variants">C++ Variants</a>.
        </p>
        <hr>
        <a name="Union-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Structured-Value-Type" accesskey="n" rel="next">Structured Value Type</a>, Previous: <a href="#Type-Generation" accesskey="p" rel="prev">Type Generation</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Union-Declaration"></a>
        <h4 class="subsection">3.4.4 The Union Declaration</h4>
        <a name="index-declaring-value-types-1"></a>
        <a name="index-value-types_002c-declaring-1"></a>
        <a name="index-_0025union"></a>

        <p>The <code>%union</code> declaration specifies the entire collection of possible data types for semantic values. The keyword <code>%union</code> is followed by braced code containing the same thing that goes inside a <code>union</code> in C.
        </p>
        <p>For example:
        </p>
        <div class="example">
            <pre class="example">%union {
  double val;
  symrec *tptr;
}
</pre></div>

        <p>This says that the two alternative types are <code>double</code> and <code>symrec
*</code>. They are given names <code>val</code> and <code>tptr</code>; these names are used in the <code>%token</code> and <code>%type</code> declarations to pick one of the types for a terminal or nonterminal symbol (see <a href="#Type-Decl">Nonterminal Symbols</a>).
        </p>
        <p>As an extension to POSIX, a tag is allowed after the <code>%union</code>. For example:
        </p>
        <div class="example">
            <pre class="example">%union value {
  double val;
  symrec *tptr;
}
</pre></div>

        <p>specifies the union tag <code>value</code>, so the corresponding C type is
            <code>union value</code>. If you do not specify a tag, it defaults to
            <code>YYSTYPE</code> (see <a href="#g_t_0025define-Summary">api.value.union.name</a>).
        </p>
        <p>As another extension to POSIX, you may specify multiple <code>%union</code> declarations; their contents are concatenated. However, only the first
            <code>%union</code> declaration can specify a tag.
        </p>
        <p>Note that, unlike making a <code>union</code> declaration in C, you need not write a semicolon after the closing brace.
        </p>
        <hr>
        <a name="Structured-Value-Type"></a>
        <div class="header">
            <p>
                Next: <a href="#Actions" accesskey="n" rel="next">Actions</a>, Previous: <a href="#Union-Decl" accesskey="p" rel="prev">Union Decl</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Providing-a-Structured-Semantic-Value-Type"></a>
        <h4 class="subsection">3.4.5 Providing a Structured Semantic Value Type</h4>
        <a name="index-declaring-value-types-2"></a>
        <a name="index-value-types_002c-declaring-2"></a>
        <a name="index-_0025union-1"></a>

        <p>Instead of <code>%union</code>, you can define and use your own union type
            <code>YYSTYPE</code> if your grammar contains at least one &lsquo;<samp>&lt;<var>type</var>&gt;</samp>&rsquo; tag. For example, you can put the following into a header file
            <samp>parser.h</samp>:
        </p>
        <div class="example">
            <pre class="example">union YYSTYPE {
  double val;
  symrec *tptr;
};
</pre></div>

        <p>and then your grammar can use the following instead of <code>%union</code>:
        </p>
        <div class="example">
            <pre class="example">%{
#include &quot;parser.h&quot;
%}
%define api.value.type {union YYSTYPE}
%type &lt;val&gt; expr
%token &lt;tptr&gt; ID
</pre></div>

        <p>Actually, you may also provide a <code>struct</code> rather that a <code>union</code>, which may be handy if you want to track information for every symbol (such as preceding comments).
        </p>
        <p>The type you provide may even be structured and include pointers, in which case the type tags you provide may be composite, with &lsquo;<samp>.</samp>&rsquo; and &lsquo;<samp>-&gt;</samp>&rsquo; operators.
        </p>
        <hr>
        <a name="Actions"></a>
        <div class="header">
            <p>
                Next: <a href="#Action-Types" accesskey="n" rel="next">Action Types</a>, Previous: <a href="#Structured-Value-Type" accesskey="p" rel="prev">Structured Value Type</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Actions-1"></a>
        <h4 class="subsection">3.4.6 Actions</h4>
        <a name="index-action"></a>
        <a name="index-_0024_0024-2"></a>
        <a name="index-_0024n"></a>
        <a name="index-_0024name"></a>
        <a name="index-_0024_005bname_005d"></a>

        <p>An action accompanies a syntactic rule and contains C code to be executed each time an instance of that rule is recognized. The task of most actions is to compute a semantic value for the grouping built by the rule from the semantic values associated
            with tokens or smaller groupings.
        </p>
        <p>An action consists of braced code containing C statements, and can be placed at any position in the rule; it is executed at that position. Most rules have just one action at the end of the rule, following all the components. Actions in the middle
            of a rule are tricky and used only for special purposes (see <a href="#Mid_002dRule-Actions">Actions in Mid-Rule</a>).
        </p>
        <p>The C code in an action can refer to the semantic values of the components matched by the rule with the construct <code>$<var>n</var></code>, which stands for the value of the <var>n</var>th component. The semantic value for the grouping being
            constructed is <code>$$</code>. In addition, the semantic values of symbols can be accessed with the named references construct <code>$<var>name</var></code> or <code>$[<var>name</var>]</code>. Bison translates both of these constructs into
            expressions of the appropriate type when it copies the actions into the parser implementation file. <code>$$</code> (or <code>$<var>name</var></code>, when it stands for the current grouping) is translated to a modifiable lvalue, so it can
            be assigned to.
        </p>
        <p>Here is a typical example:
        </p>
        <div class="example">
            <pre class="example">exp:
&hellip;
| exp '+' exp     { $$ = $1 + $3; }
</pre></div>

        <p>Or, in terms of named references:
        </p>
        <div class="example">
            <pre class="example">exp[result]:
&hellip;
| exp[left] '+' exp[right]  { $result = $left + $right; }
</pre></div>

        <p>This rule constructs an <code>exp</code> from two smaller <code>exp</code> groupings connected by a plus-sign token. In the action, <code>$1</code> and <code>$3</code> (
            <code>$left</code> and <code>$right</code>) refer to the semantic values of the two component <code>exp</code> groupings, which are the first and third symbols on the right hand side of the rule. The sum is stored into <code>$$</code> (<code>$result</code>)
            so that it becomes the semantic value of the addition-expression just recognized by the rule. If there were a useful semantic value associated with the &lsquo;<samp>+</samp>&rsquo; token, it could be referred to as <code>$2</code>.
        </p>
        <p>See <a href="#Named-References">Named References</a>, for more information about using the named references construct.
        </p>
        <p>Note that the vertical-bar character &lsquo;<samp>|</samp>&rsquo; is really a rule separator, and actions are attached to a single rule. This is a difference with tools like Flex, for which &lsquo;<samp>|</samp>&rsquo; stands for either &ldquo;or&rdquo;,
            or &ldquo;the same action as that of the next rule&rdquo;. In the following example, the action is triggered only when &lsquo;<samp>b</samp>&rsquo; is found:
        </p>
        <div class="example">
            <pre class="example">a-or-b: 'a'|'b'   { a_or_b_found = 1; };
</pre></div>

        <a name="index-default-action"></a>
        <p>If you don&rsquo;t specify an action for a rule, Bison supplies a default:
            <code>$$&nbsp;=&nbsp;$1</code>.
            <!-- /@w -->Thus, the value of the first symbol in the rule becomes the value of the whole rule. Of course, the default action is valid only if the two data types match. There is no meaningful default action for an empty rule; every empty rule must have
            an explicit action unless the rule&rsquo;s value does not matter.
        </p>
        <p><code>$<var>n</var></code> with <var>n</var> zero or negative is allowed for reference to tokens and groupings on the stack <em>before</em> those that match the current rule. This is a very risky practice, and to use it reliably you must be certain
            of the context in which the rule is applied. Here is a case in which you can use this reliably:
        </p>
        <div class="example">
            <pre class="example">foo:
  expr bar '+' expr  { &hellip; }
| expr bar '-' expr  { &hellip; }
;
</pre><pre class="example">
</pre><pre class="example">bar:
  %empty    { previous_expr = $0; }
;
</pre></div>

        <p>As long as <code>bar</code> is used only in the fashion shown here, <code>$0</code> always refers to the <code>expr</code> which precedes <code>bar</code> in the definition of <code>foo</code>.
        </p>
        <a name="index-yylval-3"></a>
        <p>It is also possible to access the semantic value of the lookahead token, if any, from a semantic action. This semantic value is stored in <code>yylval</code>. See <a href="#Action-Features">Special Features for Use in Actions</a>.
        </p>
        <hr>
        <a name="Action-Types"></a>
        <div class="header">
            <p>
                Next: <a href="#Mid_002dRule-Actions" accesskey="n" rel="next">Mid-Rule Actions</a>, Previous: <a href="#Actions" accesskey="p" rel="prev">Actions</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Data-Types-of-Values-in-Actions"></a>
        <h4 class="subsection">3.4.7 Data Types of Values in Actions</h4>
        <a name="index-action-data-types"></a>
        <a name="index-data-types-in-actions"></a>

        <p>If you have chosen a single data type for semantic values, the <code>$$</code> and <code>$<var>n</var></code> constructs always have that data type.
        </p>
        <p>If you have used <code>%union</code> to specify a variety of data types, then you must declare a choice among these types for each terminal or nonterminal symbol that can have a semantic value. Then each time you use <code>$$</code> or
            <code>$<var>n</var></code>, its data type is determined by which symbol it refers to in the rule. In this example,
        </p>
        <div class="example">
            <pre class="example">exp:
  &hellip;
| exp '+' exp    { $$ = $1 + $3; }
</pre></div>

        <p><code>$1</code> and <code>$3</code> refer to instances of <code>exp</code>, so they all have the data type declared for the nonterminal symbol <code>exp</code>. If
            <code>$2</code> were used, it would have the data type declared for the terminal symbol <code>'+'</code>, whatever that might be.
        </p>
        <p>Alternatively, you can specify the data type when you refer to the value, by inserting &lsquo;<samp>&lt;<var>type</var>&gt;</samp>&rsquo; after the &lsquo;<samp>$</samp>&rsquo; at the beginning of the reference. For example, if you have defined
            types as shown here:
        </p>
        <div class="example">
            <pre class="example">%union {
  int itype;
  double dtype;
}
</pre></div>

        <p>then you can write <code>$&lt;itype&gt;1</code> to refer to the first subunit of the rule as an integer, or <code>$&lt;dtype&gt;1</code> to refer to it as a double.
        </p>
        <hr>
        <a name="Mid_002dRule-Actions"></a>
        <div class="header">
            <p>
                Previous: <a href="#Action-Types" accesskey="p" rel="prev">Action Types</a>, Up: <a href="#Semantics" accesskey="u" rel="up">Semantics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Actions-in-Mid_002dRule"></a>
        <h4 class="subsection">3.4.8 Actions in Mid-Rule</h4>
        <a name="index-actions-in-mid_002drule"></a>
        <a name="index-mid_002drule-actions"></a>

        <p>Occasionally it is useful to put an action in the middle of a rule. These actions are written just like usual end-of-rule actions, but they are executed before the parser even recognizes the following components.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Using-Mid_002dRule-Actions" accesskey="1">Using Mid-Rule Actions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Putting an action in the middle of a rule.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mid_002dRule-Action-Translation" accesskey="2">Mid-Rule Action Translation</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How mid-rule actions are actually processed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mid_002dRule-Conflicts" accesskey="3">Mid-Rule Conflicts</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Mid-rule actions can cause conflicts.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Using-Mid_002dRule-Actions"></a>
        <div class="header">
            <p>
                Next: <a href="#Mid_002dRule-Action-Translation" accesskey="n" rel="next">Mid-Rule Action Translation</a>, Up: <a href="#Mid_002dRule-Actions" accesskey="u" rel="up">Mid-Rule Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Using-Mid_002dRule-Actions-1"></a>
        <h4 class="subsubsection">3.4.8.1 Using Mid-Rule Actions</h4>

        <p>A mid-rule action may refer to the components preceding it using
            <code>$<var>n</var></code>, but it may not refer to subsequent components because it is run before they are parsed.
        </p>
        <p>The mid-rule action itself counts as one of the components of the rule. This makes a difference when there is another action later in the same rule (and usually there is another at the end): you have to count the actions along with the symbols
            when working out which number <var>n</var> to use in
            <code>$<var>n</var></code>.
        </p>
        <p>The mid-rule action can also have a semantic value. The action can set its value with an assignment to <code>$$</code>, and actions later in the rule can refer to the value using <code>$<var>n</var></code>. Since there is no symbol to name the
            action, there is no way to declare a data type for the value in advance, so you must use the &lsquo;<samp>$&lt;&hellip;&gt;<var>n</var></samp>&rsquo; construct to specify a data type each time you refer to this value.
        </p>
        <p>There is no way to set the value of the entire rule with a mid-rule action, because assignments to <code>$$</code> do not have that effect. The only way to set the value for the entire rule is with an ordinary action at the end of the rule.
        </p>
        <p>Here is an example from a hypothetical compiler, handling a <code>let</code> statement that looks like &lsquo;<samp>let (<var>variable</var>) <var>statement</var></samp>&rsquo; and serves to create a variable named <var>variable</var> temporarily
            for the duration of <var>statement</var>. To parse this construct, we must put
            <var>variable</var> into the symbol table while <var>statement</var> is parsed, then remove it afterward. Here is how it is done:
        </p>
        <div class="example">
            <pre class="example">stmt:
  &quot;let&quot; '(' var ')'
    {
      $&lt;context&gt;$ = push_context ();
      declare_variable ($3);
    }
  stmt
    {
      $$ = $6;
      pop_context ($&lt;context&gt;5);
    }
</pre></div>

        <p>As soon as &lsquo;<samp>let (<var>variable</var>)</samp>&rsquo; has been recognized, the first action is run. It saves a copy of the current semantic context (the list of accessible variables) as its semantic value, using alternative
            <code>context</code> in the data-type union. Then it calls
            <code>declare_variable</code> to add the new variable to that list. Once the first action is finished, the embedded statement <code>stmt</code> can be parsed.
        </p>
        <p>Note that the mid-rule action is component number 5, so the &lsquo;<samp>stmt</samp>&rsquo; is component number 6. Named references can be used to improve the readability and maintainability (see <a href="#Named-References">Named References</a>):
        </p>
        <div class="example">
            <pre class="example">stmt:
  &quot;let&quot; '(' var ')'
    {
      $&lt;context&gt;let = push_context ();
      declare_variable ($3);
    }[let]
  stmt
    {
      $$ = $6;
      pop_context ($&lt;context&gt;let);
    }
</pre></div>

        <p>After the embedded statement is parsed, its semantic value becomes the value of the entire <code>let</code>-statement. Then the semantic value from the earlier action is used to restore the prior list of variables. This removes the temporary <code>let</code>-variable
            from the list so that it won&rsquo;t appear to exist while the rest of the program is parsed.
        </p>
        <a name="index-_0025destructor"></a>
        <a name="index-discarded-symbols_002c-mid_002drule-actions"></a>
        <a name="index-error-recovery_002c-mid_002drule-actions"></a>
        <p>In the above example, if the parser initiates error recovery (see <a href="#Error-Recovery">Error Recovery</a>) while parsing the tokens in the embedded statement <code>stmt</code>, it might discard the previous semantic context <code>$&lt;context&gt;5</code>            without restoring it. Thus, <code>$&lt;context&gt;5</code> needs a destructor (see <a href="#Destructor-Decl">Freeing
Discarded Symbols</a>). However, Bison currently provides no means to declare a destructor specific to a particular mid-rule action&rsquo;s semantic value.
        </p>
        <p>One solution is to bury the mid-rule action inside a nonterminal symbol and to declare a destructor for that symbol:
        </p>
        <div class="example">
            <pre class="example">%type &lt;context&gt; let
%destructor { pop_context ($$); } let
</pre><pre class="example">
%%

</pre><pre class="example">stmt:
  let stmt
    {
      $$ = $2;
      pop_context ($let);
    };
</pre><pre class="example">
</pre><pre class="example">let:
  &quot;let&quot; '(' var ')'
    {
      $let = push_context ();
      declare_variable ($3);
    };

</pre></div>

        <p>Note that the action is now at the end of its rule. Any mid-rule action can be converted to an end-of-rule action in this way, and this is what Bison actually does to implement mid-rule actions.
        </p>
        <hr>
        <a name="Mid_002dRule-Action-Translation"></a>
        <div class="header">
            <p>
                Next: <a href="#Mid_002dRule-Conflicts" accesskey="n" rel="next">Mid-Rule Conflicts</a>, Previous: <a href="#Using-Mid_002dRule-Actions" accesskey="p" rel="prev">Using Mid-Rule Actions</a>, Up: <a href="#Mid_002dRule-Actions" accesskey="u"
                    rel="up">Mid-Rule Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Mid_002dRule-Action-Translation-1"></a>
        <h4 class="subsubsection">3.4.8.2 Mid-Rule Action Translation</h4>
        <a name="index-_0024_0040n"></a>
        <a name="index-_0040n-1"></a>

        <p>As hinted earlier, mid-rule actions are actually transformed into regular rules and actions. The various reports generated by Bison (textual, graphical, etc., see <a href="#Understanding">Understanding Your Parser</a>) reveal this translation,
            best explained by means of an example. The following rule:
        </p>
        <div class="example">
            <pre class="example">exp: { a(); } &quot;b&quot; { c(); } { d(); } &quot;e&quot; { f(); };
</pre></div>

        <p>is translated into:
        </p>
        <div class="example">
            <pre class="example">$@1: %empty { a(); };
$@2: %empty { c(); };
$@3: %empty { d(); };
exp: $@1 &quot;b&quot; $@2 $@3 &quot;e&quot; { f(); };
</pre></div>

        <p>with new nonterminal symbols <code>$@<var>n</var></code>, where <var>n</var> is a number.
        </p>
        <p>A mid-rule action is expected to generate a value if it uses <code>$$</code>, or the (final) action uses <code>$<var>n</var></code> where <var>n</var> denote the mid-rule action. In that case its nonterminal is rather named <code>@<var>n</var></code>:
        </p>
        <div class="example">
            <pre class="example">exp: { a(); } &quot;b&quot; { $$ = c(); } { d(); } &quot;e&quot; { f = $1; };
</pre></div>

        <p>is translated into
        </p>
        <div class="example">
            <pre class="example">@1: %empty { a(); };
@2: %empty { $$ = c(); };
$@3: %empty { d(); };
exp: @1 &quot;b&quot; @2 $@3 &quot;e&quot; { f = $1; }
</pre></div>

        <p>There are probably two errors in the above example: the first mid-rule action does not generate a value (it does not use <code>$$</code> although the final action uses it), and the value of the second one is not used (the final action does not
            use
            <code>$3</code>). Bison reports these errors when the
            <code>midrule-value</code> warnings are enabled (see <a href="#Invocation">Invoking
Bison</a>):
        </p>
        <div class="example">
            <pre class="example">$ bison -fcaret -Wmidrule-value mid.y
</pre><pre class="example">mid.y:2.6-13: warning: unset value: $$
 exp: { a(); } &quot;b&quot; { $$ = c(); } { d(); } &quot;e&quot; { f = $1; };
      ^^^^^^^^
</pre><pre class="example">mid.y:2.19-31: warning: unused value: $3
 exp: { a(); } &quot;b&quot; { $$ = c(); } { d(); } &quot;e&quot; { f = $1; };
                   ^^^^^^^^^^^^^
</pre></div>


        <hr>
        <a name="Mid_002dRule-Conflicts"></a>
        <div class="header">
            <p>
                Previous: <a href="#Mid_002dRule-Action-Translation" accesskey="p" rel="prev">Mid-Rule Action Translation</a>, Up: <a href="#Mid_002dRule-Actions" accesskey="u" rel="up">Mid-Rule Actions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Conflicts-due-to-Mid_002dRule-Actions"></a>
        <h4 class="subsubsection">3.4.8.3 Conflicts due to Mid-Rule Actions</h4>
        <p>Taking action before a rule is completely recognized often leads to conflicts since the parser must commit to a parse in order to execute the action. For example, the following two rules, without mid-rule actions, can coexist in a working parser
            because the parser can shift the open-brace token and look at what follows before deciding whether there is a declaration or not:
        </p>
        <div class="example">
            <pre class="example">compound:
  '{' declarations statements '}'
| '{' statements '}'
;
</pre></div>

        <p>But when we add a mid-rule action as follows, the rules become nonfunctional:
        </p>
        <div class="example">
            <pre class="example">compound:
  { prepare_for_local_variables (); }
     '{' declarations statements '}'
</pre><pre class="example">|    '{' statements '}'
;
</pre></div>

        <p>Now the parser is forced to decide whether to run the mid-rule action when it has read no farther than the open-brace. In other words, it must commit to using one rule or the other, without sufficient information to do it correctly. (The open-brace
            token is what is called the <em>lookahead</em> token at this time, since the parser is still deciding what to do about it. See <a href="#Lookahead">Lookahead Tokens</a>.)
        </p>
        <p>You might think that you could correct the problem by putting identical actions into the two rules, like this:
        </p>
        <div class="example">
            <pre class="example">compound:
  { prepare_for_local_variables (); }
    '{' declarations statements '}'
| { prepare_for_local_variables (); }
    '{' statements '}'
;
</pre></div>

        <p>But this does not help, because Bison does not realize that the two actions are identical. (Bison never tries to understand the C code in an action.)
        </p>
        <p>If the grammar is such that a declaration can be distinguished from a statement by the first token (which is true in C), then one solution which does work is to put the action after the open-brace, like this:
        </p>
        <div class="example">
            <pre class="example">compound:
  '{' { prepare_for_local_variables (); }
    declarations statements '}'
| '{' statements '}'
;
</pre></div>

        <p>Now the first token of the following declaration or statement, which would in any case tell Bison which rule to use, can still do so.
        </p>
        <p>Another solution is to bury the action inside a nonterminal symbol which serves as a subroutine:
        </p>
        <div class="example">
            <pre class="example">subroutine:
  %empty  { prepare_for_local_variables (); }
;
</pre><pre class="example">
</pre><pre class="example">compound:
  subroutine '{' declarations statements '}'
| subroutine '{' statements '}'
;
</pre></div>

        <p>Now Bison can execute the action in the rule for <code>subroutine</code> without deciding which rule for <code>compound</code> it will eventually use.
        </p>

        <hr>
        <a name="Tracking-Locations"></a>
        <div class="header">
            <p>
                Next: <a href="#Named-References" accesskey="n" rel="next">Named References</a>, Previous: <a href="#Semantics" accesskey="p" rel="prev">Semantics</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Tracking-Locations-1"></a>
        <h3 class="section">3.5 Tracking Locations</h3>
        <a name="index-location-1"></a>
        <a name="index-textual-location-1"></a>
        <a name="index-location_002c-textual-1"></a>

        <p>Though grammar rules and semantic actions are enough to write a fully functional parser, it can be useful to process some additional information, especially symbol locations.
        </p>
        <p>The way locations are handled is defined by providing a data type, and actions to take when rules are matched.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Location-Type" accesskey="1">Location Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying a data type for locations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Actions-and-Locations" accesskey="2">Actions and Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using locations in actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Location-Default-Action" accesskey="3">Location Default Action</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Defining a general way to compute locations.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Location-Type"></a>
        <div class="header">
            <p>
                Next: <a href="#Actions-and-Locations" accesskey="n" rel="next">Actions and Locations</a>, Up: <a href="#Tracking-Locations" accesskey="u" rel="up">Tracking Locations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Data-Type-of-Locations"></a>
        <h4 class="subsection">3.5.1 Data Type of Locations</h4>
        <a name="index-data-type-of-locations"></a>
        <a name="index-default-location-type"></a>

        <p>Defining a data type for locations is much simpler than for semantic values, since all tokens and groupings always use the same type.
        </p>
        <p>You can specify the type of locations by defining a macro called
            <code>YYLTYPE</code>, just as you can specify the semantic value type by defining a <code>YYSTYPE</code> macro (see <a href="#Value-Type">Value Type</a>). When <code>YYLTYPE</code> is not defined, Bison uses a default structure type with four
            members:
        </p>
        <div class="example">
            <pre class="example">typedef struct YYLTYPE
{
  int first_line;
  int first_column;
  int last_line;
  int last_column;
} YYLTYPE;
</pre></div>

        <p>When <code>YYLTYPE</code> is not defined, at the beginning of the parsing, Bison initializes all these fields to 1 for <code>yylloc</code>. To initialize
            <code>yylloc</code> with a custom location type (or to chose a different initialization), use the <code>%initial-action</code> directive. See <a href="#Initial-Action-Decl">Performing Actions before Parsing</a>.
        </p>
        <hr>
        <a name="Actions-and-Locations"></a>
        <div class="header">
            <p>
                Next: <a href="#Location-Default-Action" accesskey="n" rel="next">Location Default Action</a>, Previous: <a href="#Location-Type" accesskey="p" rel="prev">Location Type</a>, Up: <a href="#Tracking-Locations" accesskey="u" rel="up">Tracking Locations</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Actions-and-Locations-1"></a>
        <h4 class="subsection">3.5.2 Actions and Locations</h4>
        <a name="index-location-actions"></a>
        <a name="index-actions_002c-location"></a>
        <a name="index-_0040_0024"></a>
        <a name="index-_0040n-2"></a>
        <a name="index-_0040name"></a>
        <a name="index-_0040_005bname_005d"></a>

        <p>Actions are not only useful for defining language semantics, but also for describing the behavior of the output parser with locations.
        </p>
        <p>The most obvious way for building locations of syntactic groupings is very similar to the way semantic values are computed. In a given rule, several constructs can be used to access the locations of the elements being matched. The location of
            the
            <var>n</var>th component of the right hand side is
            <code>@<var>n</var></code>, while the location of the left hand side grouping is
            <code>@$</code>.
        </p>
        <p>In addition, the named references construct <code>@<var>name</var></code> and
            <code>@[<var>name</var>]</code> may also be used to address the symbol locations. See <a href="#Named-References">Named References</a>, for more information about using the named references construct.
        </p>
        <p>Here is a basic example using the default data type for locations:
        </p>
        <div class="example">
            <pre class="example">exp:
  &hellip;
| exp '/' exp
    {
      @$.first_column = @1.first_column;
      @$.first_line = @1.first_line;
      @$.last_column = @3.last_column;
      @$.last_line = @3.last_line;
      if ($3)
        $$ = $1 / $3;
      else
        {
          $$ = 1;
          fprintf (stderr, &quot;%d.%d-%d.%d: division by zero&quot;,
                   @3.first_line, @3.first_column,
                   @3.last_line, @3.last_column);
        }
    }
</pre></div>

        <p>As for semantic values, there is a default action for locations that is run each time a rule is matched. It sets the beginning of <code>@$</code> to the beginning of the first symbol, and the end of <code>@$</code> to the end of the last symbol.
        </p>
        <p>With this default action, the location tracking can be fully automatic. The example above simply rewrites this way:
        </p>
        <div class="example">
            <pre class="example">exp:
  &hellip;
| exp '/' exp
    {
      if ($3)
        $$ = $1 / $3;
      else
        {
          $$ = 1;
          fprintf (stderr, &quot;%d.%d-%d.%d: division by zero&quot;,
                   @3.first_line, @3.first_column,
                   @3.last_line, @3.last_column);
        }
    }
</pre></div>

        <a name="index-yylloc-3"></a>
        <p>It is also possible to access the location of the lookahead token, if any, from a semantic action. This location is stored in <code>yylloc</code>. See <a href="#Action-Features">Special Features for Use in Actions</a>.
        </p>
        <hr>
        <a name="Location-Default-Action"></a>
        <div class="header">
            <p>
                Previous: <a href="#Actions-and-Locations" accesskey="p" rel="prev">Actions and Locations</a>, Up: <a href="#Tracking-Locations" accesskey="u" rel="up">Tracking Locations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Default-Action-for-Locations"></a>
        <h4 class="subsection">3.5.3 Default Action for Locations</h4>
        <a name="index-YYLLOC_005fDEFAULT"></a>
        <a name="index-GLR-parsers-and-YYLLOC_005fDEFAULT"></a>

        <p>Actually, actions are not the best place to compute locations. Since locations are much more general than semantic values, there is room in the output parser to redefine the default action to take for each rule. The <code>YYLLOC_DEFAULT</code>            macro is invoked each time a rule is matched, before the associated action is run. It is also invoked while processing a syntax error, to compute the error&rsquo;s location. Before reporting an unresolvable syntactic ambiguity, a GLR parser
            invokes
            <code>YYLLOC_DEFAULT</code> recursively to compute the location of that ambiguity.
        </p>
        <p>Most of the time, this macro is general enough to suppress location dedicated code from semantic actions.
        </p>
        <p>The <code>YYLLOC_DEFAULT</code> macro takes three parameters. The first one is the location of the grouping (the result of the computation). When a rule is matched, the second parameter identifies locations of all right hand side elements of the
            rule being matched, and the third parameter is the size of the rule&rsquo;s right hand side. When a GLR parser reports an ambiguity, which of multiple candidate right hand sides it passes to <code>YYLLOC_DEFAULT</code> is undefined. When processing
            a syntax error, the second parameter identifies locations of the symbols that were discarded during error processing, and the third parameter is the number of discarded symbols.
        </p>
        <p>By default, <code>YYLLOC_DEFAULT</code> is defined this way:
        </p>
        <div class="example">
            <pre class="example"># define YYLLOC_DEFAULT(Cur, Rhs, N)                      \
do                                                        \
  if (N)                                                  \
    {                                                     \
      (Cur).first_line   = YYRHSLOC(Rhs, 1).first_line;   \
      (Cur).first_column = YYRHSLOC(Rhs, 1).first_column; \
      (Cur).last_line    = YYRHSLOC(Rhs, N).last_line;    \
      (Cur).last_column  = YYRHSLOC(Rhs, N).last_column;  \
    }                                                     \
  else                                                    \
    {                                                     \
      (Cur).first_line   = (Cur).last_line   =            \
        YYRHSLOC(Rhs, 0).last_line;                       \
      (Cur).first_column = (Cur).last_column =            \
        YYRHSLOC(Rhs, 0).last_column;                     \
    }                                                     \
while (0)
</pre></div>

        <p>where <code>YYRHSLOC (rhs, k)</code> is the location of the <var>k</var>th symbol in <var>rhs</var> when <var>k</var> is positive, and the location of the symbol just before the reduction when <var>k</var> and <var>n</var> are both zero.
        </p>
        <p>When defining <code>YYLLOC_DEFAULT</code>, you should consider that:
        </p>
        <ul>
            <li> All arguments are free of side-effects. However, only the first one (the result) should be modified by <code>YYLLOC_DEFAULT</code>.

            </li>
            <li> For consistency with semantic actions, valid indexes within the right hand side range from 1 to <var>n</var>. When <var>n</var> is zero, only 0 is a valid index, and it refers to the symbol just before the reduction. During error processing
                <var>n</var> is always positive.

            </li>
            <li> Your macro should parenthesize its arguments, if need be, since the actual arguments may not be surrounded by parentheses. Also, your macro should expand to something that can be used as a single statement when it is followed by a semicolon.
            </li>
        </ul>

        <hr>
        <a name="Named-References"></a>
        <div class="header">
            <p>
                Next: <a href="#Declarations" accesskey="n" rel="next">Declarations</a>, Previous: <a href="#Tracking-Locations" accesskey="p" rel="prev">Tracking Locations</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Named-References-1"></a>
        <h3 class="section">3.6 Named References</h3>
        <a name="index-named-references"></a>

        <p>As described in the preceding sections, the traditional way to refer to any semantic value or location is a <em>positional reference</em>, which takes the form <code>$<var>n</var></code>, <code>$$</code>, <code>@<var>n</var></code>, and <code>@$</code>.
            However, such a reference is not very descriptive. Moreover, if you later decide to insert or remove symbols in the right-hand side of a grammar rule, the need to renumber such references can be tedious and error-prone.
        </p>
        <p>To avoid these issues, you can also refer to a semantic value or location using a <em>named reference</em>. First of all, original symbol names may be used as named references. For example:
        </p>
        <div class="example">
            <pre class="example">invocation: op '(' args ')'
  { $invocation = new_invocation ($op, $args, @invocation); }
</pre></div>

        <p>Positional and named references can be mixed arbitrarily. For example:
        </p>
        <div class="example">
            <pre class="example">invocation: op '(' args ')'
  { $$ = new_invocation ($op, $args, @$); }
</pre></div>

        <p>However, sometimes regular symbol names are not sufficient due to ambiguities:
        </p>
        <div class="example">
            <pre class="example">exp: exp '/' exp
  { $exp = $exp / $exp; } // $exp is ambiguous.

exp: exp '/' exp
  { $$ = $1 / $exp; } // One usage is ambiguous.

exp: exp '/' exp
  { $$ = $1 / $3; } // No error.
</pre></div>

        <p>When ambiguity occurs, explicitly declared names may be used for values and locations. Explicit names are declared as a bracketed name after a symbol appearance in rule definitions. For example:
        </p>
        <div class="example">
            <pre class="example">exp[result]: exp[left] '/' exp[right]
  { $result = $left / $right; }
</pre></div>

        <p>In order to access a semantic value generated by a mid-rule action, an explicit name may also be declared by putting a bracketed name after the closing brace of the mid-rule action code:
        </p>
        <div class="example">
            <pre class="example">exp[res]: exp[x] '+' {$left = $x;}[left] exp[right]
  { $res = $left + $right; }
</pre></div>


        <p>In references, in order to specify names containing dots and dashes, an explicit bracketed syntax <code>$[name]</code> and <code>@[name]</code> must be used:
        </p>
        <div class="example">
            <pre class="example">if-stmt: &quot;if&quot; '(' expr ')' &quot;then&quot; then.stmt ';'
  { $[if-stmt] = new_if_stmt ($expr, $[then.stmt]); }
</pre></div>

        <p>It often happens that named references are followed by a dot, dash or other C punctuation marks and operators. By default, Bison will read &lsquo;
            <samp>$name.suffix</samp>&rsquo; as a reference to symbol value <code>$name</code> followed by &lsquo;
            <samp>.suffix</samp>&rsquo;, i.e., an access to the <code>suffix</code> field of the semantic value. In order to force Bison to recognize &lsquo;<samp>name.suffix</samp>&rsquo; in its entirety as the name of a semantic value, the bracketed
            syntax &lsquo;
            <samp>$[name.suffix]</samp>&rsquo; must be used.
        </p>
        <p>The named references feature is experimental. More user feedback will help to stabilize it.
        </p>
        <hr>
        <a name="Declarations"></a>
        <div class="header">
            <p>
                Next: <a href="#Multiple-Parsers" accesskey="n" rel="next">Multiple Parsers</a>, Previous: <a href="#Named-References" accesskey="p" rel="prev">Named References</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison-Declarations-1"></a>
        <h3 class="section">3.7 Bison Declarations</h3>
        <a name="index-declarations_002c-Bison"></a>
        <a name="index-Bison-declarations"></a>

        <p>The <em>Bison declarations</em> section of a Bison grammar defines the symbols used in formulating the grammar and the data types of semantic values. See <a href="#Symbols">Symbols</a>.
        </p>
        <p>All token type names (but not single-character literal tokens such as
            <code>'+'</code> and <code>'*'</code>) must be declared. Nonterminal symbols must be declared if you need to specify which data type to use for the semantic value (see <a href="#Multiple-Types">More Than One Value Type</a>).
        </p>
        <p>The first rule in the grammar file also specifies the start symbol, by default. If you want some other symbol to be the start symbol, you must declare it explicitly (see <a href="#Language-and-Grammar">Languages
and Context-Free Grammars</a>).
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Require-Decl" accesskey="1">Require Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Requiring a Bison version.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Token-Decl" accesskey="2">Token Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring terminal symbols.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence-Decl" accesskey="3">Precedence Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring terminals with precedence and associativity.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Type-Decl" accesskey="4">Type Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring the choice of type for a nonterminal symbol.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Initial-Action-Decl" accesskey="5">Initial Action Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Code run before parsing starts.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Destructor-Decl" accesskey="6">Destructor Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring how symbols are freed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Printer-Decl" accesskey="7">Printer Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Declaring how symbol values are displayed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Expect-Decl" accesskey="8">Expect Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Suppressing warnings about parsing conflicts.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Start-Decl" accesskey="9">Start Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying the start symbol.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Pure-Decl">Pure Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Requesting a reentrant parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Push-Decl">Push Decl</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Requesting a push parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Decl-Summary">Decl Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Table of all Bison declarations.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#g_t_0025define-Summary">%define Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Defining variables to adjust Bison&rsquo;s behavior.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#g_t_0025code-Summary">%code Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Inserting code into the parser source.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Require-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Token-Decl" accesskey="n" rel="next">Token Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Require-a-Version-of-Bison"></a>
        <h4 class="subsection">3.7.1 Require a Version of Bison</h4>
        <a name="index-version-requirement"></a>
        <a name="index-requiring-a-version-of-Bison"></a>
        <a name="index-_0025require"></a>

        <p>You may require the minimum version of Bison to process the grammar. If the requirement is not met, <code>bison</code> exits with an error (exit status 63).
        </p>
        <div class="example">
            <pre class="example">%require &quot;<var>version</var>&quot;
</pre></div>

        <hr>
        <a name="Token-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Precedence-Decl" accesskey="n" rel="next">Precedence Decl</a>, Previous: <a href="#Require-Decl" accesskey="p" rel="prev">Require Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Token-Type-Names"></a>
        <h4 class="subsection">3.7.2 Token Type Names</h4>
        <a name="index-declaring-token-type-names"></a>
        <a name="index-token-type-names_002c-declaring"></a>
        <a name="index-declaring-literal-string-tokens"></a>
        <a name="index-_0025token"></a>

        <p>The basic way to declare a token type name (terminal symbol) is as follows:
        </p>
        <div class="example">
            <pre class="example">%token <var>name</var>
</pre></div>

        <p>Bison will convert this into a <code>#define</code> directive in the parser, so that the function <code>yylex</code> (if it is in this file) can use the name <var>name</var> to stand for this token type&rsquo;s code.
        </p>
        <p>Alternatively, you can use <code>%left</code>, <code>%right</code>,
            <code>%precedence</code>, or
            <code>%nonassoc</code> instead of <code>%token</code>, if you wish to specify associativity and precedence. See <a href="#Precedence-Decl">Operator
Precedence</a>.
        </p>
        <p>You can explicitly specify the numeric code for a token type by appending a nonnegative decimal or hexadecimal integer value in the field immediately following the token name:
        </p>
        <div class="example">
            <pre class="example">%token NUM 300
%token XNUM 0x12d // a GNU extension
</pre></div>

        <p>It is generally best, however, to let Bison choose the numeric codes for all token types. Bison will automatically select codes that don&rsquo;t conflict with each other or with normal characters.
        </p>
        <p>In the event that the stack type is a union, you must augment the
            <code>%token</code> or other token declaration to include the data type alternative delimited by angle-brackets (see <a href="#Multiple-Types">More
Than One Value Type</a>).
        </p>
        <p>For example:
        </p>
        <div class="example">
            <pre class="example">%union {              /* define stack type */
  double val;
  symrec *tptr;
}
%token &lt;val&gt; NUM      /* define token NUM and its type */
</pre></div>

        <p>You can associate a literal string token with a token type name by writing the literal string at the end of a <code>%token</code> declaration which declares the name. For example:
        </p>
        <div class="example">
            <pre class="example">%token arrow &quot;=&gt;&quot;
</pre></div>

        <p>For example, a grammar for the C language might specify these names with equivalent literal string tokens:
        </p>
        <div class="example">
            <pre class="example">%token  &lt;operator&gt;  OR      &quot;||&quot;
%token  &lt;operator&gt;  LE 134  &quot;&lt;=&quot;
%left  OR  &quot;&lt;=&quot;
</pre></div>

        <p>Once you equate the literal string and the token name, you can use them interchangeably in further declarations or the grammar rules. The
            <code>yylex</code> function can use the token name or the literal string to obtain the token type code number (see <a href="#Calling-Convention">Calling Convention</a>). Syntax error messages passed to <code>yyerror</code> from the parser
            will reference the literal string instead of the token name.
        </p>
        <p>The token numbered as 0 corresponds to end of file; the following line allows for nicer error messages referring to &ldquo;end of file&rdquo; instead of &ldquo;$end&rdquo;:
        </p>
        <div class="example">
            <pre class="example">%token END 0 &quot;end of file&quot;
</pre></div>

        <hr>
        <a name="Precedence-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Type-Decl" accesskey="n" rel="next">Type Decl</a>, Previous: <a href="#Token-Decl" accesskey="p" rel="prev">Token Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Operator-Precedence"></a>
        <h4 class="subsection">3.7.3 Operator Precedence</h4>
        <a name="index-precedence-declarations"></a>
        <a name="index-declaring-operator-precedence"></a>
        <a name="index-operator-precedence_002c-declaring"></a>

        <p>Use the <code>%left</code>, <code>%right</code>, <code>%nonassoc</code>, or
            <code>%precedence</code> declaration to declare a token and specify its precedence and associativity, all at once. These are called <em>precedence declarations</em>. See <a href="#Precedence">Operator Precedence</a>, for general information
            on operator precedence.
        </p>
        <p>The syntax of a precedence declaration is nearly the same as that of
            <code>%token</code>: either
        </p>
        <div class="example">
            <pre class="example">%left <var>symbols</var>&hellip;
</pre></div>

        <p>or
        </p>
        <div class="example">
            <pre class="example">%left &lt;<var>type</var>&gt; <var>symbols</var>&hellip;
</pre></div>

        <p>And indeed any of these declarations serves the purposes of <code>%token</code>. But in addition, they specify the associativity and relative precedence for all the <var>symbols</var>:
        </p>
        <ul>
            <li> The associativity of an operator <var>op</var> determines how repeated uses of the operator nest: whether &lsquo;<samp><var>x</var> <var>op</var> <var>y</var> <var>op</var>
<var>z</var></samp>&rsquo; is parsed by grouping <var>x</var> with <var>y</var> first or by grouping <var>y</var> with <var>z</var> first. <code>%left</code> specifies left-associativity (grouping <var>x</var> with <var>y</var> first) and
                <code>%right</code> specifies right-associativity (grouping <var>y</var> with
                <var>z</var> first). <code>%nonassoc</code> specifies no associativity, which means that &lsquo;<samp><var>x</var> <var>op</var> <var>y</var> <var>op</var> <var>z</var></samp>&rsquo; is considered a syntax error.

                <p><code>%precedence</code> gives only precedence to the <var>symbols</var>, and defines no associativity at all. Use this to define precedence only, and leave any potential conflict due to associativity enabled.
                </p>
            </li>
            <li> The precedence of an operator determines how it nests with other operators. All the tokens declared in a single precedence declaration have equal precedence and nest together according to their associativity. When two tokens declared in different
                precedence declarations associate, the one declared later has the higher precedence and is grouped first.
            </li>
        </ul>

        <p>For backward compatibility, there is a confusing difference between the argument lists of <code>%token</code> and precedence declarations. Only a <code>%token</code> can associate a literal string with a token type name. A precedence declaration
            always interprets a literal string as a reference to a separate token. For example:
        </p>
        <div class="example">
            <pre class="example">%left  OR &quot;&lt;=&quot;         // Does not declare an alias.
%left  OR 134 &quot;&lt;=&quot; 135 // Declares 134 for OR and 135 for &quot;&lt;=&quot;.
</pre></div>

        <hr>
        <a name="Type-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Initial-Action-Decl" accesskey="n" rel="next">Initial Action Decl</a>, Previous: <a href="#Precedence-Decl" accesskey="p" rel="prev">Precedence Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Nonterminal-Symbols"></a>
        <h4 class="subsection">3.7.4 Nonterminal Symbols</h4>
        <a name="index-declaring-value-types_002c-nonterminals"></a>
        <a name="index-value-types_002c-nonterminals_002c-declaring"></a>
        <a name="index-_0025type"></a>

        <p>When you use <code>%union</code> to specify multiple value types, you must declare the value type of each nonterminal symbol for which values are used. This is done with a <code>%type</code> declaration, like this:
        </p>
        <div class="example">
            <pre class="example">%type &lt;<var>type</var>&gt; <var>nonterminal</var>&hellip;
</pre></div>

        <p>Here <var>nonterminal</var> is the name of a nonterminal symbol, and
            <var>type</var> is the name given in the <code>%union</code> to the alternative that you want (see <a href="#Union-Decl">The Union Declaration</a>). You can give any number of nonterminal symbols in the same <code>%type</code> declaration,
            if they have the same value type. Use spaces to separate the symbol names.
        </p>
        <p>You can also declare the value type of a terminal symbol. To do this, use the same <code>&lt;<var>type</var>&gt;</code> construction in a declaration for the terminal symbol. All kinds of token declarations allow
            <code>&lt;<var>type</var>&gt;</code>.
        </p>
        <hr>
        <a name="Initial-Action-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Destructor-Decl" accesskey="n" rel="next">Destructor Decl</a>, Previous: <a href="#Type-Decl" accesskey="p" rel="prev">Type Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Performing-Actions-before-Parsing"></a>
        <h4 class="subsection">3.7.5 Performing Actions before Parsing</h4>
        <a name="index-_0025initial_002daction"></a>

        <p>Sometimes your parser needs to perform some initializations before parsing. The <code>%initial-action</code> directive allows for such arbitrary code.
        </p>
        <dl>
            <dt><a name="index-_0025initial_002daction-1"></a>Directive: <strong>%initial-action</strong> <em>{ <var>code</var> }</em></dt>
            <dd>
                <a name="index-_0025initial_002daction-2"></a>
                <p>Declare that the braced <var>code</var> must be invoked before parsing each time
                    <code>yyparse</code> is called. The <var>code</var> may use <code>$$</code> (or
                    <code>$&lt;<var>tag</var>&gt;$</code>) and <code>@$</code> &mdash; initial value and location of the lookahead &mdash; and the <code>%parse-param</code>.
                </p>
            </dd>
        </dl>

        <p>For instance, if your locations use a file name, you may use
        </p>
        <div class="example">
            <pre class="example">%parse-param { char const *file_name };
%initial-action
{
  @$.initialize (file_name);
};
</pre></div>


        <hr>
        <a name="Destructor-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Printer-Decl" accesskey="n" rel="next">Printer Decl</a>, Previous: <a href="#Initial-Action-Decl" accesskey="p" rel="prev">Initial Action Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Freeing-Discarded-Symbols"></a>
        <h4 class="subsection">3.7.6 Freeing Discarded Symbols</h4>
        <a name="index-freeing-discarded-symbols"></a>
        <a name="index-_0025destructor-1"></a>
        <a name="index-_003c_002a_003e"></a>
        <a name="index-_003c_003e"></a>
        <p>During error recovery (see <a href="#Error-Recovery">Error Recovery</a>), symbols already pushed on the stack and tokens coming from the rest of the file are discarded until the parser falls on its feet. If the parser runs out of memory, or if
            it returns via <code>YYABORT</code> or <code>YYACCEPT</code>, all the symbols on the stack must be discarded. Even if the parser succeeds, it must discard the start symbol.
        </p>
        <p>When discarded symbols convey heap based information, this memory is lost. While this behavior can be tolerable for batch parsers, such as in traditional compilers, it is unacceptable for programs like shells or protocol implementations that may
            parse and execute indefinitely.
        </p>
        <p>The <code>%destructor</code> directive defines code that is called when a symbol is automatically discarded.
        </p>
        <dl>
            <dt><a name="index-_0025destructor-2"></a>Directive: <strong>%destructor</strong> <em>{ <var>code</var> } <var>symbols</var></em></dt>
            <dd>
                <a name="index-_0025destructor-3"></a>
                <p>Invoke the braced <var>code</var> whenever the parser discards one of the
                    <var>symbols</var>. Within <var>code</var>, <code>$$</code> (or <code>$&lt;<var>tag</var>&gt;$</code>) designates the semantic value associated with the discarded symbol, and
                    <code>@$</code> designates its location. The additional parser parameters are also available (see <a href="#Parser-Function">The Parser Function
<code>yyparse</code></a>).
                </p>
                <p>When a symbol is listed among <var>symbols</var>, its <code>%destructor</code> is called a per-symbol <code>%destructor</code>. You may also define a per-type <code>%destructor</code> by listing a semantic type tag among <var>symbols</var>.
                    In that case, the parser will invoke this <var>code</var> whenever it discards any grammar symbol that has that semantic type tag unless that symbol has its own per-symbol <code>%destructor</code>.
                </p>
                <p>Finally, you can define two different kinds of default <code>%destructor</code>s. (These default forms are experimental. More user feedback will help to determine whether they should become permanent features.) You can place each of <code>&lt;*&gt;</code>                    and <code>&lt;&gt;</code> in the <var>symbols</var> list of exactly one <code>%destructor</code> declaration in your grammar file. The parser will invoke the <var>code</var> associated with one of these whenever it discards any user-defined
                    grammar symbol that has no per-symbol and no per-type
                    <code>%destructor</code>. The parser uses the <var>code</var> for <code>&lt;*&gt;</code> in the case of such a grammar symbol for which you have formally declared a semantic type tag (<code>%type</code> counts as such a declaration,
                    but
                    <code>$&lt;tag&gt;$</code> does not). The parser uses the <var>code</var> for <code>&lt;&gt;</code> in the case of such a grammar symbol that has no declared semantic type tag.
                </p>
            </dd>
        </dl>

        <p>For example:
        </p>
        <div class="example">
            <pre class="example">%union { char *string; }
%token &lt;string&gt; STRING1 STRING2
%type  &lt;string&gt; string1 string2
%union { char character; }
%token &lt;character&gt; CHR
%type  &lt;character&gt; chr
%token TAGLESS

%destructor { } &lt;character&gt;
%destructor { free ($$); } &lt;*&gt;
%destructor { free ($$); printf (&quot;%d&quot;, @$.first_line); } STRING1 string1
%destructor { printf (&quot;Discarding tagless symbol.\n&quot;); } &lt;&gt;
</pre></div>

        <p>guarantees that, when the parser discards any user-defined symbol that has a semantic type tag other than <code>&lt;character&gt;</code>, it passes its semantic value to <code>free</code> by default. However, when the parser discards a <code>STRING1</code>            or a <code>string1</code>, it also prints its line number to <code>stdout</code>. It performs only the second <code>%destructor</code> in this case, so it invokes
            <code>free</code> only once. Finally, the parser merely prints a message whenever it discards any symbol, such as <code>TAGLESS</code>, that has no semantic type tag.
        </p>
        <p>A Bison-generated parser invokes the default <code>%destructor</code>s only for user-defined as opposed to Bison-defined symbols. For example, the parser will not invoke either kind of default
            <code>%destructor</code> for the special Bison-defined symbols <code>$accept</code>,
            <code>$undefined</code>, or <code>$end</code> (see <a href="#Table-of-Symbols">Bison Symbols</a>), none of which you can reference in your grammar. It also will not invoke either for the <code>error</code> token (see <a href="#Table-of-Symbols">error</a>),
            which is always defined by Bison regardless of whether you reference it in your grammar. However, it may invoke one of them for the end token (token 0) if you redefine it from <code>$end</code> to, for example, <code>END</code>:
        </p>
        <div class="example">
            <pre class="example">%token END 0
</pre></div>

        <a name="index-actions-in-mid_002drule-1"></a>
        <a name="index-mid_002drule-actions-1"></a>
        <p>Finally, Bison will never invoke a <code>%destructor</code> for an unreferenced mid-rule semantic value (see <a href="#Mid_002dRule-Actions">Actions in Mid-Rule</a>). That is, Bison does not consider a mid-rule to have a semantic value if you
            do not reference <code>$$</code> in the mid-rule&rsquo;s action or <code>$<var>n</var></code> (where <var>n</var> is the right-hand side symbol position of the mid-rule) in any later action in that rule. However, if you do reference either,
            the Bison-generated parser will invoke the <code>&lt;&gt;</code> <code>%destructor</code> whenever it discards the mid-rule symbol.
        </p>

        <br>

        <a name="index-discarded-symbols"></a>
        <p><em>Discarded symbols</em> are the following:
        </p>
        <ul>
            <li> stacked symbols popped during the first phase of error recovery,
            </li>
            <li> incoming terminals during the second phase of error recovery,
            </li>
            <li> the current lookahead and the entire stack (except the current right-hand side symbols) when the parser returns immediately, and
            </li>
            <li> the current lookahead and the entire stack (including the current right-hand side symbols) when the C++ parser (<samp>lalr1.cc</samp>) catches an exception in
                <code>parse</code>,
            </li>
            <li> the start symbol, when the parser succeeds.
            </li>
        </ul>

        <p>The parser can <em>return immediately</em> because of an explicit call to
            <code>YYABORT</code> or <code>YYACCEPT</code>, or failed error recovery, or memory exhaustion.
        </p>
        <p>Right-hand side symbols of a rule that explicitly triggers a syntax error via <code>YYERROR</code> are not discarded automatically. As a rule of thumb, destructors are invoked only when user actions cannot manage the memory.
        </p>
        <hr>
        <a name="Printer-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Expect-Decl" accesskey="n" rel="next">Expect Decl</a>, Previous: <a href="#Destructor-Decl" accesskey="p" rel="prev">Destructor Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Printing-Semantic-Values"></a>
        <h4 class="subsection">3.7.7 Printing Semantic Values</h4>
        <a name="index-printing-semantic-values"></a>
        <a name="index-_0025printer"></a>
        <a name="index-_003c_002a_003e-1"></a>
        <a name="index-_003c_003e-1"></a>
        <p>When run-time traces are enabled (see <a href="#Tracing">Tracing Your Parser</a>), the parser reports its actions, such as reductions. When a symbol involved in an action is reported, only its kind is displayed, as the parser cannot know how semantic
            values should be formatted.
        </p>
        <p>The <code>%printer</code> directive defines code that is called when a symbol is reported. Its syntax is the same as <code>%destructor</code> (see <a href="#Destructor-Decl">Freeing Discarded Symbols</a>).
        </p>
        <dl>
            <dt><a name="index-_0025printer-1"></a>Directive: <strong>%printer</strong> <em>{ <var>code</var> } <var>symbols</var></em></dt>
            <dd>
                <a name="index-_0025printer-2"></a>
                <a name="index-yyoutput"></a>
                <p>Invoke the braced <var>code</var> whenever the parser displays one of the
                    <var>symbols</var>. Within <var>code</var>, <code>yyoutput</code> denotes the output stream (a <code>FILE*</code> in C, and an <code>std::ostream&amp;</code> in C++), <code>$$</code> (or
                    <code>$&lt;<var>tag</var>&gt;$</code>) designates the semantic value associated with the symbol, and <code>@$</code> its location. The additional parser parameters are also available (see <a href="#Parser-Function">The Parser Function
<code>yyparse</code></a>).
                </p>
                <p>The <var>symbols</var> are defined as for <code>%destructor</code> (see <a href="#Destructor-Decl">Freeing Discarded Symbols</a>.): they can be per-type (e.g., &lsquo;
                    <samp>&lt;ival&gt;</samp>&rsquo;), per-symbol (e.g., &lsquo;<samp>exp</samp>&rsquo;, &lsquo;<samp>NUM</samp>&rsquo;, &lsquo;<samp>&quot;float&quot;</samp>&rsquo;), typed per-default (i.e., &lsquo;<samp>&lt;*&gt;</samp>&rsquo;, or untyped
                    per-default (i.e., &lsquo;
                    <samp>&lt;&gt;</samp>&rsquo;).
                </p>
            </dd>
        </dl>

        <p>For example:
        </p>
        <div class="example">
            <pre class="example">%union { char *string; }
%token &lt;string&gt; STRING1 STRING2
%type  &lt;string&gt; string1 string2
%union { char character; }
%token &lt;character&gt; CHR
%type  &lt;character&gt; chr
%token TAGLESS

%printer { fprintf (yyoutput, &quot;'%c'&quot;, $$); } &lt;character&gt;
%printer { fprintf (yyoutput, &quot;&amp;%p&quot;, $$); } &lt;*&gt;
%printer { fprintf (yyoutput, &quot;\&quot;%s\&quot;&quot;, $$); } STRING1 string1
%printer { fprintf (yyoutput, &quot;&lt;&gt;&quot;); } &lt;&gt;
</pre></div>

        <p>guarantees that, when the parser print any symbol that has a semantic type tag other than <code>&lt;character&gt;</code>, it display the address of the semantic value by default. However, when the parser displays a <code>STRING1</code> or a
            <code>string1</code>, it formats it as a string in double quotes. It performs only the second <code>%printer</code> in this case, so it prints only once. Finally, the parser print &lsquo;<samp>&lt;&gt;</samp>&rsquo; for any symbol, such as
            <code>TAGLESS</code>, that has no semantic type tag. See <a href="#Mfcalc-Traces">Enabling Debug Traces
for <code>mfcalc</code></a>, for a complete example.
        </p>


        <hr>
        <a name="Expect-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Start-Decl" accesskey="n" rel="next">Start Decl</a>, Previous: <a href="#Printer-Decl" accesskey="p" rel="prev">Printer Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Suppressing-Conflict-Warnings"></a>
        <h4 class="subsection">3.7.8 Suppressing Conflict Warnings</h4>
        <a name="index-suppressing-conflict-warnings"></a>
        <a name="index-preventing-warnings-about-conflicts"></a>
        <a name="index-warnings_002c-preventing"></a>
        <a name="index-conflicts_002c-suppressing-warnings-of"></a>
        <a name="index-_0025expect"></a>
        <a name="index-_0025expect_002drr-1"></a>

        <p>Bison normally warns if there are any conflicts in the grammar (see <a href="#Shift_002fReduce">Shift/Reduce Conflicts</a>), but most real grammars have harmless shift/reduce conflicts which are resolved in a predictable way and would be difficult
            to eliminate. It is desirable to suppress the warning about these conflicts unless the number of conflicts changes. You can do this with the <code>%expect</code> declaration.
        </p>
        <p>The declaration looks like this:
        </p>
        <div class="example">
            <pre class="example">%expect <var>n</var>
</pre></div>

        <p>Here <var>n</var> is a decimal integer. The declaration says there should be <var>n</var> shift/reduce conflicts and no reduce/reduce conflicts. Bison reports an error if the number of shift/reduce conflicts differs from <var>n</var>, or if there
            are any reduce/reduce conflicts.
        </p>
        <p>For deterministic parsers, reduce/reduce conflicts are more serious, and should be eliminated entirely. Bison will always report reduce/reduce conflicts for these parsers. With GLR parsers, however, both kinds of conflicts are routine; otherwise,
            there would be no need to use GLR parsing. Therefore, it is also possible to specify an expected number of reduce/reduce conflicts in GLR parsers, using the declaration:
        </p>
        <div class="example">
            <pre class="example">%expect-rr <var>n</var>
</pre></div>

        <p>In general, using <code>%expect</code> involves these steps:
        </p>
        <ul>
            <li> Compile your grammar without <code>%expect</code>. Use the &lsquo;<samp>-v</samp>&rsquo; option to get a verbose list of where the conflicts occur. Bison will also print the number of conflicts.

            </li>
            <li> Check each of the conflicts to make sure that Bison&rsquo;s default resolution is what you really want. If not, rewrite the grammar and go back to the beginning.

            </li>
            <li> Add an <code>%expect</code> declaration, copying the number <var>n</var> from the number which Bison printed. With GLR parsers, add an
                <code>%expect-rr</code> declaration as well.
            </li>
        </ul>

        <p>Now Bison will report an error if you introduce an unexpected conflict, but will keep silent otherwise.
        </p>
        <hr>
        <a name="Start-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Pure-Decl" accesskey="n" rel="next">Pure Decl</a>, Previous: <a href="#Expect-Decl" accesskey="p" rel="prev">Expect Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Start_002dSymbol"></a>
        <h4 class="subsection">3.7.9 The Start-Symbol</h4>
        <a name="index-declaring-the-start-symbol"></a>
        <a name="index-start-symbol_002c-declaring"></a>
        <a name="index-default-start-symbol"></a>
        <a name="index-_0025start"></a>

        <p>Bison assumes by default that the start symbol for the grammar is the first nonterminal specified in the grammar specification section. The programmer may override this restriction with the <code>%start</code> declaration as follows:
        </p>
        <div class="example">
            <pre class="example">%start <var>symbol</var>
</pre></div>

        <hr>
        <a name="Pure-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Push-Decl" accesskey="n" rel="next">Push Decl</a>, Previous: <a href="#Start-Decl" accesskey="p" rel="prev">Start Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="A-Pure-_0028Reentrant_0029-Parser"></a>
        <h4 class="subsection">3.7.10 A Pure (Reentrant) Parser</h4>
        <a name="index-reentrant-parser"></a>
        <a name="index-pure-parser"></a>
        <a name="index-_0025define-api_002epure"></a>

        <p>A <em>reentrant</em> program is one which does not alter in the course of execution; in other words, it consists entirely of <em>pure</em> (read-only) code. Reentrancy is important whenever asynchronous execution is possible; for example, a nonreentrant
            program may not be safe to call from a signal handler. In systems with multiple threads of control, a nonreentrant program must be called only within interlocks.
        </p>
        <p>Normally, Bison generates a parser which is not reentrant. This is suitable for most uses, and it permits compatibility with Yacc. (The standard Yacc interfaces are inherently nonreentrant, because they use statically allocated variables for communication
            with <code>yylex</code>, including <code>yylval</code> and <code>yylloc</code>.)
        </p>
        <p>Alternatively, you can generate a pure, reentrant parser. The Bison declaration &lsquo;<samp>%define api.pure</samp>&rsquo; says that you want the parser to be reentrant. It looks like this:
        </p>
        <div class="example">
            <pre class="example">%define api.pure full
</pre></div>

        <p>The result is that the communication variables <code>yylval</code> and
            <code>yylloc</code> become local variables in <code>yyparse</code>, and a different calling convention is used for the lexical analyzer function
            <code>yylex</code>. See <a href="#Pure-Calling">Calling Conventions for Pure
Parsers</a>, for the details of this. The variable <code>yynerrs</code> becomes local in <code>yyparse</code> in pull mode but it becomes a member of <code>yypstate</code> in push mode. (see <a href="#Error-Reporting">The Error
Reporting Function <code>yyerror</code></a>). The convention for calling
            <code>yyparse</code> itself is unchanged.
        </p>
        <p>Whether the parser is pure has nothing to do with the grammar rules. You can generate either a pure parser or a nonreentrant parser from any valid grammar.
        </p>
        <hr>
        <a name="Push-Decl"></a>
        <div class="header">
            <p>
                Next: <a href="#Decl-Summary" accesskey="n" rel="next">Decl Summary</a>, Previous: <a href="#Pure-Decl" accesskey="p" rel="prev">Pure Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="A-Push-Parser"></a>
        <h4 class="subsection">3.7.11 A Push Parser</h4>
        <a name="index-push-parser"></a>
        <a name="index-push-parser-1"></a>
        <a name="index-_0025define-api_002epush_002dpull"></a>

        <p>(The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>A pull parser is called once and it takes control until all its input is completely parsed. A push parser, on the other hand, is called each time a new token is made available.
        </p>
        <p>A push parser is typically useful when the parser is part of a main event loop in the client&rsquo;s application. This is typically a requirement of a GUI, when the main event loop needs to be triggered within a certain time period.
        </p>
        <p>Normally, Bison generates a pull parser. The following Bison declaration says that you want the parser to be a push parser (see <a href="#g_t_0025define-Summary">api.push-pull</a>):
        </p>
        <div class="example">
            <pre class="example">%define api.push-pull push
</pre></div>

        <p>In almost all cases, you want to ensure that your push parser is also a pure parser (see <a href="#Pure-Decl">A Pure (Reentrant) Parser</a>). The only time you should create an impure push parser is to have backwards compatibility with the impure
            Yacc pull mode interface. Unless you know what you are doing, your declarations should look like this:
        </p>
        <div class="example">
            <pre class="example">%define api.pure full
%define api.push-pull push
</pre></div>

        <p>There is a major notable functional difference between the pure push parser and the impure push parser. It is acceptable for a pure push parser to have many parser instances, of the same type of parser, in memory at the same time. An impure push
            parser should only use one parser at a time.
        </p>
        <p>When a push parser is selected, Bison will generate some new symbols in the generated parser. <code>yypstate</code> is a structure that the generated parser uses to store the parser&rsquo;s state. <code>yypstate_new</code> is the function that
            will create a new parser instance. <code>yypstate_delete</code> will free the resources associated with the corresponding parser instance. Finally, <code>yypush_parse</code> is the function that should be called whenever a token is available
            to provide the parser. A trivial example of using a pure push parser would look like this:
        </p>
        <div class="example">
            <pre class="example">int status;
yypstate *ps = yypstate_new ();
do {
  status = yypush_parse (ps, yylex (), NULL);
} while (status == YYPUSH_MORE);
yypstate_delete (ps);
</pre></div>

        <p>If the user decided to use an impure push parser, a few things about the generated parser will change. The <code>yychar</code> variable becomes a global variable instead of a variable in the <code>yypush_parse</code> function. For this reason,
            the signature of the <code>yypush_parse</code> function is changed to remove the token as a parameter. A nonreentrant push parser example would thus look like this:
        </p>
        <div class="example">
            <pre class="example">extern int yychar;
int status;
yypstate *ps = yypstate_new ();
do {
  yychar = yylex ();
  status = yypush_parse (ps);
} while (status == YYPUSH_MORE);
yypstate_delete (ps);
</pre></div>

        <p>That&rsquo;s it. Notice the next token is put into the global variable <code>yychar</code> for use by the next invocation of the <code>yypush_parse</code> function.
        </p>
        <p>Bison also supports both the push parser interface along with the pull parser interface in the same generated parser. In order to get this functionality, you should replace the &lsquo;<samp>%define api.push-pull push</samp>&rsquo; declaration
            with the &lsquo;
            <samp>%define api.push-pull both</samp>&rsquo; declaration. Doing this will create all of the symbols mentioned earlier along with the two extra symbols, <code>yyparse</code> and <code>yypull_parse</code>. <code>yyparse</code> can be used
            exactly as it normally would be used. However, the user should note that it is implemented in the generated parser by calling <code>yypull_parse</code>. This makes the <code>yyparse</code> function that is generated with the &lsquo;
            <samp>%define api.push-pull both</samp>&rsquo; declaration slower than the normal
            <code>yyparse</code> function. If the user calls the <code>yypull_parse</code> function it will parse the rest of the input stream. It is possible to <code>yypush_parse</code> tokens to select a subgrammar and then <code>yypull_parse</code>            the rest of the input stream. If you would like to switch back and forth between between parsing styles, you would have to write your own <code>yypull_parse</code> function that knows when to quit looking for input. An example of using the
            <code>yypull_parse</code> function would look like this:
        </p>
        <div class="example">
            <pre class="example">yypstate *ps = yypstate_new ();
yypull_parse (ps); /* Will call the lexer */
yypstate_delete (ps);
</pre></div>

        <p>Adding the &lsquo;<samp>%define api.pure</samp>&rsquo; declaration does exactly the same thing to the generated parser with &lsquo;<samp>%define api.push-pull both</samp>&rsquo; as it did for &lsquo;
            <samp>%define api.push-pull push</samp>&rsquo;.
        </p>
        <hr>
        <a name="Decl-Summary"></a>
        <div class="header">
            <p>
                Next: <a href="#g_t_0025define-Summary" accesskey="n" rel="next">%define Summary</a>, Previous: <a href="#Push-Decl" accesskey="p" rel="prev">Push Decl</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison-Declaration-Summary"></a>
        <h4 class="subsection">3.7.12 Bison Declaration Summary</h4>
        <a name="index-Bison-declaration-summary"></a>
        <a name="index-declaration-summary"></a>
        <a name="index-summary_002c-Bison-declaration"></a>

        <p>Here is a summary of the declarations used to define a grammar:
        </p>
        <dl>
            <dt><a name="index-_0025union-2"></a>Directive: <strong>%union</strong></dt>
            <dd>
                <p>Declare the collection of data types that semantic values may have (see <a href="#Union-Decl">The Union Declaration</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025token-1"></a>Directive: <strong>%token</strong></dt>
            <dd>
                <p>Declare a terminal symbol (token type name) with no precedence or associativity specified (see <a href="#Token-Decl">Token Type Names</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025right"></a>Directive: <strong>%right</strong></dt>
            <dd>
                <p>Declare a terminal symbol (token type name) that is right-associative (see <a href="#Precedence-Decl">Operator Precedence</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025left"></a>Directive: <strong>%left</strong></dt>
            <dd>
                <p>Declare a terminal symbol (token type name) that is left-associative (see <a href="#Precedence-Decl">Operator Precedence</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025nonassoc"></a>Directive: <strong>%nonassoc</strong></dt>
            <dd>
                <p>Declare a terminal symbol (token type name) that is nonassociative (see <a href="#Precedence-Decl">Operator Precedence</a>). Using it in a way that would be associative is a syntax error.
                </p>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025type-1"></a>Directive: <strong>%type</strong></dt>
            <dd>
                <p>Declare the type of semantic values for a nonterminal symbol (see <a href="#Type-Decl">Nonterminal Symbols</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025start-1"></a>Directive: <strong>%start</strong></dt>
            <dd>
                <p>Specify the grammar&rsquo;s start symbol (see <a href="#Start-Decl">The
Start-Symbol</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025expect-1"></a>Directive: <strong>%expect</strong></dt>
            <dd>
                <p>Declare the expected number of shift-reduce conflicts (see <a href="#Expect-Decl">Suppressing Conflict Warnings</a>).
                </p>
            </dd>
        </dl>


        <br>
        <p>In order to change the behavior of <code>bison</code>, use the following directives:
        </p>
        <dl>
            <dt><a name="index-_0025code-1"></a>Directive: <strong>%code</strong> <em>{<var>code</var>}</em></dt>
            <dt><a name="index-_0025code-2"></a>Directive: <strong>%code</strong> <em><var>qualifier</var> {<var>code</var>}</em></dt>
            <dd>
                <a name="index-_0025code-3"></a>
                <p>Insert <var>code</var> verbatim into the output parser source at the default location or at the location specified by <var>qualifier</var>. See <a href="#g_t_0025code-Summary">%code Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025debug"></a>Directive: <strong>%debug</strong></dt>
            <dd>
                <p>Instrument the parser for traces. Obsoleted by &lsquo;<samp>%define
parse.trace</samp>&rsquo;. See <a href="#Tracing">Tracing Your Parser</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define"></a>Directive: <strong>%define</strong> <em><var>variable</var></em></dt>
            <dt><a name="index-_0025define-1"></a>Directive: <strong>%define</strong> <em><var>variable</var> <var>value</var></em></dt>
            <dt><a name="index-_0025define-2"></a>Directive: <strong>%define</strong> <em><var>variable</var> {<var>value</var>}</em></dt>
            <dt><a name="index-_0025define-3"></a>Directive: <strong>%define</strong> <em><var>variable</var> &quot;<var>value</var>&quot;</em></dt>
            <dd>
                <p>Define a variable to adjust Bison&rsquo;s behavior. See <a href="#g_t_0025define-Summary">%define Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025defines"></a>Directive: <strong>%defines</strong></dt>
            <dd>
                <p>Write a parser header file containing macro definitions for the token type names defined in the grammar as well as a few other declarations. If the parser implementation file is named <samp><var>name</var>.c</samp> then the parser header
                    file is named <samp><var>name</var>.h</samp>.
                </p>
                <p>For C parsers, the parser header file declares <code>YYSTYPE</code> unless
                    <code>YYSTYPE</code> is already defined as a macro or you have used a
                    <code>&lt;<var>type</var>&gt;</code> tag without using <code>%union</code>. Therefore, if you are using a <code>%union</code> (see <a href="#Multiple-Types">More Than One
Value Type</a>) with components that require other definitions, or if you have defined a <code>YYSTYPE</code> macro or type definition (see <a href="#Value-Type">Data Types of Semantic Values</a>), you need to arrange for these definitions to be propagated
                    to all modules, e.g., by putting them in a prerequisite header that is included both by your parser and by any other module that needs <code>YYSTYPE</code>.
                </p>
                <p>Unless your parser is pure, the parser header file declares
                    <code>yylval</code> as an external variable. See <a href="#Pure-Decl">A Pure
(Reentrant) Parser</a>.
                </p>
                <p>If you have also used locations, the parser header file declares
                    <code>YYLTYPE</code> and <code>yylloc</code> using a protocol similar to that of the
                    <code>YYSTYPE</code> macro and <code>yylval</code>. See <a href="#Tracking-Locations">Tracking Locations</a>.
                </p>
                <p>This parser header file is normally essential if you wish to put the definition of <code>yylex</code> in a separate source file, because
                    <code>yylex</code> typically needs to be able to refer to the above-mentioned declarations and to the token type codes. See <a href="#Token-Values">Semantic Values of Tokens</a>.
                </p>
                <a name="index-_0025code-requires-1"></a>
                <a name="index-_0025code-provides-1"></a>
                <p>If you have declared <code>%code requires</code> or <code>%code provides</code>, the output header also contains their code. See <a href="#g_t_0025code-Summary">%code Summary</a>.
                </p>
                <a name="index-Header-guard"></a>
                <p>The generated header is protected against multiple inclusions with a C preprocessor guard: &lsquo;<samp>YY_<var>PREFIX</var>_<var>FILE</var>_INCLUDED</samp>&rsquo;, where
                    <var>PREFIX</var> and <var>FILE</var> are the prefix (see <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>) and generated file name turned uppercase, with each series of non alphanumerical characters converted to
                    a single underscore.
                </p>
                <p>For instance with &lsquo;<samp>%define api.prefix {calc}</samp>&rsquo; and &lsquo;<samp>%defines
&quot;lib/parse.h&quot;</samp>&rsquo;, the header will be guarded as follows.
                </p>
                <div class="example">
                    <pre class="example">#ifndef YY_CALC_LIB_PARSE_H_INCLUDED
# define YY_CALC_LIB_PARSE_H_INCLUDED
...
#endif /* ! YY_CALC_LIB_PARSE_H_INCLUDED */
</pre></div>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025defines-1"></a>Directive: <strong>%defines</strong> <em><var>defines-file</var></em></dt>
            <dd>
                <p>Same as above, but save in the file <samp><var>defines-file</var></samp>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025destructor-4"></a>Directive: <strong>%destructor</strong></dt>
            <dd>
                <p>Specify how the parser should reclaim the memory associated to discarded symbols. See <a href="#Destructor-Decl">Freeing Discarded Symbols</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025file_002dprefix"></a>Directive: <strong>%file-prefix</strong> <em>&quot;<var>prefix</var>&quot;</em></dt>
            <dd>
                <p>Specify a prefix to use for all Bison output file names. The names are chosen as if the grammar file were named <samp><var>prefix</var>.y</samp>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025language"></a>Directive: <strong>%language</strong> <em>&quot;<var>language</var>&quot;</em></dt>
            <dd>
                <p>Specify the programming language for the generated parser. Currently supported languages include C, C++, and Java.
                    <var>language</var> is case-insensitive.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025locations"></a>Directive: <strong>%locations</strong></dt>
            <dd>
                <p>Generate the code processing the locations (see <a href="#Action-Features">Special Features for Use in Actions</a>). This mode is enabled as soon as the grammar uses the special &lsquo;<samp>@<var>n</var></samp>&rsquo; tokens, but if your
                    grammar does not use it, using &lsquo;<samp>%locations</samp>&rsquo; allows for more accurate syntax error messages.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025name_002dprefix"></a>Directive: <strong>%name-prefix</strong> <em>&quot;<var>prefix</var>&quot;</em></dt>
            <dd>
                <p>Rename the external symbols used in the parser so that they start with
                    <var>prefix</var> instead of &lsquo;<samp>yy</samp>&rsquo;. The precise list of symbols renamed in C parsers is <code>yyparse</code>, <code>yylex</code>, <code>yyerror</code>, <code>yynerrs</code>,
                    <code>yylval</code>, <code>yychar</code>, <code>yydebug</code>, and (if locations are used) <code>yylloc</code>. If you use a push parser,
                    <code>yypush_parse</code>, <code>yypull_parse</code>, <code>yypstate</code>,
                    <code>yypstate_new</code> and <code>yypstate_delete</code> will also be renamed. For example, if you use &lsquo;<samp>%name-prefix &quot;c_&quot;</samp>&rsquo;, the names become <code>c_parse</code>, <code>c_lex</code>, and so on.
                    For C++ parsers, see the &lsquo;<samp>%define api.namespace</samp>&rsquo; documentation in this section. See <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>.
                </p>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025no_002dlines"></a>Directive: <strong>%no-lines</strong></dt>
            <dd>
                <p>Don&rsquo;t generate any <code>#line</code> preprocessor commands in the parser implementation file. Ordinarily Bison writes these commands in the parser implementation file so that the C compiler and debuggers will associate errors and
                    object code with your source file (the grammar file). This directive causes them to associate errors with the parser implementation file, treating it as an independent source file in its own right.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025output"></a>Directive: <strong>%output</strong> <em>&quot;<var>file</var>&quot;</em></dt>
            <dd>
                <p>Generate the parser implementation in <samp><var>file</var></samp>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025pure_002dparser"></a>Directive: <strong>%pure-parser</strong></dt>
            <dd>
                <p>Deprecated version of &lsquo;<samp>%define api.pure</samp>&rsquo; (see <a href="#g_t_0025define-Summary">api.pure</a>), for which Bison is more careful to warn about unreasonable usage.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025require-1"></a>Directive: <strong>%require</strong> <em>&quot;<var>version</var>&quot;</em></dt>
            <dd>
                <p>Require version <var>version</var> or higher of Bison. See <a href="#Require-Decl">Require a Version of Bison</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025skeleton"></a>Directive: <strong>%skeleton</strong> <em>&quot;<var>file</var>&quot;</em></dt>
            <dd>
                <p>Specify the skeleton to use.
                </p>

                <p>If <var>file</var> does not contain a <code>/</code>, <var>file</var> is the name of a skeleton file in the Bison installation directory. If it does, <var>file</var> is an absolute file name or a file name relative to the directory of
                    the grammar file. This is similar to how most shells resolve commands.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025token_002dtable"></a>Directive: <strong>%token-table</strong></dt>
            <dd>
                <p>Generate an array of token names in the parser implementation file. The name of the array is <code>yytname</code>; <code>yytname[<var>i</var>]</code> is the name of the token whose internal Bison token code number is
                    <var>i</var>. The first three elements of <code>yytname</code> correspond to the predefined tokens <code>&quot;$end&quot;</code>, <code>&quot;error&quot;</code>, and
                    <code>&quot;$undefined&quot;</code>; after these come the symbols defined in the grammar file.
                </p>
                <p>The name in the table includes all the characters needed to represent the token in Bison. For single-character literals and literal strings, this includes the surrounding quoting characters and any escape sequences. For example, the Bison
                    single-character literal
                    <code>'+'</code> corresponds to a three-character name, represented in C as
                    <code>&quot;'+'&quot;</code>; and the Bison two-character literal string <code>&quot;\\/&quot;</code> corresponds to a five-character name, represented in C as
                    <code>&quot;\&quot;\\\\/\&quot;&quot;</code>.
                </p>
                <p>When you specify <code>%token-table</code>, Bison also generates macro definitions for macros <code>YYNTOKENS</code>, <code>YYNNTS</code>, and
                    <code>YYNRULES</code>, and <code>YYNSTATES</code>:
                </p>
                <dl compact="compact">
                    <dt><code>YYNTOKENS</code></dt>
                    <dd>
                        <p>The highest token number, plus one.
                        </p>
                    </dd>
                    <dt><code>YYNNTS</code></dt>
                    <dd>
                        <p>The number of nonterminal symbols.
                        </p>
                    </dd>
                    <dt><code>YYNRULES</code></dt>
                    <dd>
                        <p>The number of grammar rules,
                        </p>
                    </dd>
                    <dt><code>YYNSTATES</code></dt>
                    <dd>
                        <p>The number of parser states (see <a href="#Parser-States">Parser States</a>).
                        </p>
                    </dd>
                </dl>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025verbose"></a>Directive: <strong>%verbose</strong></dt>
            <dd>
                <p>Write an extra output file containing verbose descriptions of the parser states and what is done for each type of lookahead token in that state. See <a href="#Understanding">Understanding Your Parser</a>, for more information.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025yacc"></a>Directive: <strong>%yacc</strong></dt>
            <dd>
                <p>Pretend the option <samp>--yacc</samp> was given, i.e., imitate Yacc, including its naming conventions. See <a href="#Bison-Options">Bison Options</a>, for more.
                </p>
            </dd>
        </dl>


        <hr>
        <a name="g_t_0025define-Summary"></a>
        <div class="header">
            <p>
                Next: <a href="#g_t_0025code-Summary" accesskey="n" rel="next">%code Summary</a>, Previous: <a href="#Decl-Summary" accesskey="p" rel="prev">Decl Summary</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="g_t_0025define-Summary-1"></a>
        <h4 class="subsection">3.7.13 %define Summary</h4>

        <p>There are many features of Bison&rsquo;s behavior that can be controlled by assigning the feature a single value. For historical reasons, some such features are assigned values by dedicated directives, such as
            <code>%start</code>, which assigns the start symbol. However, newer such features are associated with variables, which are assigned by the
            <code>%define</code> directive:
        </p>
        <dl>
            <dt><a name="index-_0025define-4"></a>Directive: <strong>%define</strong> <em><var>variable</var></em></dt>
            <dt><a name="index-_0025define-5"></a>Directive: <strong>%define</strong> <em><var>variable</var> <var>value</var></em></dt>
            <dt><a name="index-_0025define-6"></a>Directive: <strong>%define</strong> <em><var>variable</var> {<var>value</var>}</em></dt>
            <dt><a name="index-_0025define-7"></a>Directive: <strong>%define</strong> <em><var>variable</var> &quot;<var>value</var>&quot;</em></dt>
            <dd>
                <p>Define <var>variable</var> to <var>value</var>.
                </p>
                <p>The type of the values depend on the syntax. Braces denote value in the target language (e.g., a namespace, a type, etc.). Keyword values (no delimiters) denote finite choice (e.g., a variation of a feature). String values denote remaining
                    cases (e.g., a file name).
                </p>
                <p>It is an error if a <var>variable</var> is defined by <code>%define</code> multiple times, but see <a href="#Bison-Options">-D <var>name</var>[=<var>value</var>]</a>.
                </p>
            </dd>
        </dl>

        <p>The rest of this section summarizes variables and values that
            <code>%define</code> accepts.
        </p>
        <p>Some <var>variable</var>s take Boolean values. In this case, Bison will complain if the variable definition does not meet one of the following four conditions:
        </p>
        <ol>
            <li> <code><var>value</var></code> is <code>true</code>

            </li>
            <li> <code><var>value</var></code> is omitted (or <code>&quot;&quot;</code> is specified). This is equivalent to <code>true</code>.

            </li>
            <li> <code><var>value</var></code> is <code>false</code>.

            </li>
            <li> <var>variable</var> is never defined. In this case, Bison selects a default value.
            </li>
        </ol>

        <p>What <var>variable</var>s are accepted, as well as their meanings and default values, depend on the selected target language and/or the parser skeleton (see <a href="#Decl-Summary">%language</a>, see <a href="#Decl-Summary">%skeleton</a>). Unaccepted
            <var>variable</var>s produce an error. Some of the accepted <var>variable</var>s are described below.
        </p>
        <dl>
            <dt><a name="index-_0025define-api_002enamespace"></a>Directive: <strong>%define api.namespace</strong> <em>{<var>namespace</var>}</em></dt>
            <dd>
                <ul>
                    <li> Languages(s): C++

                    </li>
                    <li> Purpose: Specify the namespace for the parser class. For example, if you specify:

                        <div class="example">
                            <pre class="example">%define api.namespace {foo::bar}
</pre></div>

                        <p>Bison uses <code>foo::bar</code> verbatim in references such as:
                        </p>
                        <div class="example">
                            <pre class="example">foo::bar::parser::semantic_type
</pre></div>

                        <p>However, to open a namespace, Bison removes any leading <code>::</code> and then splits on any remaining occurrences:
                        </p>
                        <div class="example">
                            <pre class="example">namespace foo { namespace bar {
  class position;
  class location;
} }
</pre></div>

                    </li>
                    <li> Accepted Values: Any absolute or relative C++ namespace reference without a trailing
                        <code>&quot;::&quot;</code>. For example, <code>&quot;foo&quot;</code> or <code>&quot;::foo::bar&quot;</code>.

                    </li>
                    <li> Default Value: The value specified by <code>%name-prefix</code>, which defaults to <code>yy</code>. This usage of <code>%name-prefix</code> is for backward compatibility and can be confusing since <code>%name-prefix</code> also specifies
                        the textual prefix for the lexical analyzer function. Thus, if you specify
                        <code>%name-prefix</code>, it is best to also specify &lsquo;<samp>%define
api.namespace</samp>&rsquo; so that <code>%name-prefix</code> <em>only</em> affects the lexical analyzer function. For example, if you specify:

                        <div class="example">
                            <pre class="example">%define api.namespace {foo}
%name-prefix &quot;bar::&quot;
</pre></div>

                        <p>The parser namespace is <code>foo</code> and <code>yylex</code> is referenced as
                            <code>bar::lex</code>.
                        </p>
                    </li>
                </ul>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-api_002elocation_002etype"></a>Directive: <strong>%define api.location.type</strong> <em>{<var>type</var>}</em></dt>
            <dd>
                <ul>
                    <li> Language(s): C++, Java

                    </li>
                    <li> Purpose: Define the location type. See <a href="#User-Defined-Location-Type">User Defined Location Type</a>.

                    </li>
                    <li> Accepted Values: String

                    </li>
                    <li> Default Value: none

                    </li>
                    <li> History: Introduced in Bison 2.7 for C, C++ and Java. Introduced under the name
                        <code>location_type</code> for C++ in Bison 2.5 and for Java in Bison 2.4.
                    </li>
                </ul>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-api_002eprefix"></a>Directive: <strong>%define api.prefix</strong> <em>{<var>prefix</var>}</em></dt>
            <dd>
                <ul>
                    <li> Language(s): All

                    </li>
                    <li> Purpose: Rename exported symbols. See <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>.

                    </li>
                    <li> Accepted Values: String

                    </li>
                    <li> Default Value: <code>yy</code>

                    </li>
                    <li> History: introduced in Bison 2.6
                    </li>
                </ul>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-api_002epure-1"></a>Directive: <strong>%define api.pure</strong> <em><var>purity</var></em></dt>
            <dd>
                <ul>
                    <li> Language(s): C

                    </li>
                    <li> Purpose: Request a pure (reentrant) parser program. See <a href="#Pure-Decl">A Pure (Reentrant) Parser</a>.

                    </li>
                    <li> Accepted Values: <code>true</code>, <code>false</code>, <code>full</code>

                        <p>The value may be omitted: this is equivalent to specifying <code>true</code>, as is the case for Boolean values.
                        </p>
                        <p>When <code>%define api.pure full</code> is used, the parser is made reentrant. This changes the signature for <code>yylex</code> (see <a href="#Pure-Calling">Pure Calling</a>), and also that of
                            <code>yyerror</code> when the tracking of locations has been activated, as shown below.
                        </p>
                        <p>The <code>true</code> value is very similar to the <code>full</code> value, the only difference is in the signature of <code>yyerror</code> on Yacc parsers without
                            <code>%parse-param</code>, for historical reasons.
                        </p>
                        <p>I.e., if &lsquo;<samp>%locations %define api.pure</samp>&rsquo; is passed then the prototypes for
                            <code>yyerror</code> are:
                        </p>
                        <div class="example">
                            <pre class="example">void yyerror (char const *msg);                 // Yacc parsers.
void yyerror (YYLTYPE *locp, char const *msg);  // GLR parsers.
</pre></div>

                        <p>But if &lsquo;<samp>%locations %define api.pure %parse-param {int *nastiness}</samp>&rsquo; is used, then both parsers have the same signature:
                        </p>
                        <div class="example">
                            <pre class="example">void yyerror (YYLTYPE *llocp, int *nastiness, char const *msg);
</pre></div>

                        <p>(see <a href="#Error-Reporting">The Error
Reporting Function <code>yyerror</code></a>)
                        </p>
                    </li>
                    <li> Default Value: <code>false</code>

                    </li>
                    <li> History: the <code>full</code> value was introduced in Bison 2.7
                    </li>
                </ul>
            </dd>
        </dl>



        <dl>
            <dt><a name="index-_0025define-api_002epush_002dpull-1"></a>Directive: <strong>%define api.push-pull</strong> <em><var>kind</var></em></dt>
            <dd>
                <ul>
                    <li> Language(s): C (deterministic parsers only)

                    </li>
                    <li> Purpose: Request a pull parser, a push parser, or both. See <a href="#Push-Decl">A Push Parser</a>. (The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)

                    </li>
                    <li> Accepted Values: <code>pull</code>, <code>push</code>, <code>both</code>

                    </li>
                    <li> Default Value: <code>pull</code>
                    </li>
                </ul>
            </dd>
        </dl>



        <dl>
            <dt><a name="index-_0025define-api_002etoken_002econstructor"></a>Directive: <strong>%define api.token.constructor</strong></dt>
            <dd>
                <ul>
                    <li> Language(s): C++

                    </li>
                    <li> Purpose: When variant-based semantic values are enabled (see <a href="#C_002b_002b-Variants">C++ Variants</a>), request that symbols be handled as a whole (type, value, and possibly location) in the scanner. See <a href="#Complete-Symbols">Complete Symbols</a>,
                        for details.

                    </li>
                    <li> Accepted Values: Boolean.

                    </li>
                    <li> Default Value:
                        <code>false</code>
                    </li>
                    <li> History: introduced in Bison 3.0
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-api_002etoken_002eprefix"></a>Directive: <strong>%define api.token.prefix</strong> <em>{<var>prefix</var>}</em></dt>
            <dd>
                <ul>
                    <li> Languages(s): all

                    </li>
                    <li> Purpose: Add a prefix to the token names when generating their definition in the target language. For instance

                        <div class="example">
                            <pre class="example">%token FILE for ERROR
%define api.token.prefix {TOK_}
%%
start: FILE for ERROR;
</pre></div>

                        <p>generates the definition of the symbols <code>TOK_FILE</code>, <code>TOK_for</code>, and <code>TOK_ERROR</code> in the generated source files. In particular, the scanner must use these prefixed token names, while the grammar itself
                            may still use the short names (as in the sample rule given above). The generated informational files (<samp>*.output</samp>, <samp>*.xml</samp>,
                            <samp>*.dot</samp>) are not modified by this prefix.
                        </p>
                        <p>Bison also prefixes the generated member names of the semantic value union. See <a href="#Type-Generation">Generating the Semantic Value Type</a>, for more details.
                        </p>
                        <p>See <a href="#Calc_002b_002b-Parser">Calc++ Parser</a> and <a href="#Calc_002b_002b-Scanner">Calc++ Scanner</a>, for a complete example.
                        </p>
                    </li>
                    <li> Accepted Values: Any string. Should be a valid identifier prefix in the target language, in other words, it should typically be an identifier itself (sequence of letters, underscores, and &mdash;not at the beginning&mdash; digits).

                    </li>
                    <li> Default Value: empty
                    </li>
                    <li> History: introduced in Bison 3.0
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-api_002evalue_002etype"></a>Directive: <strong>%define api.value.type</strong> <em><var>support</var></em></dt>
            <dt><a name="index-_0025define-api_002evalue_002etype-1"></a>Directive: <strong>%define api.value.type</strong> <em>{<var>type</var>}</em></dt>
            <dd>
                <ul>
                    <li> Language(s): all

                    </li>
                    <li> Purpose: The type for semantic values.

                    </li>
                    <li> Accepted Values:
                        <dl compact="compact">
                            <dt>&lsquo;<samp>{}</samp>&rsquo;</dt>
                            <dd>
                                <p>This grammar has no semantic value at all. This is not properly supported yet.
                                </p>
                            </dd>
                            <dt>&lsquo;<samp>union-directive</samp>&rsquo; (C, C++)</dt>
                            <dd>
                                <p>The type is defined thanks to the <code>%union</code> directive. You don&rsquo;t have to define <code>api.value.type</code> in that case, using <code>%union</code> suffices. See <a href="#Union-Decl">The Union Declaration</a>.
                                    For instance:
                                </p>
                                <div class="example">
                                    <pre class="example">%define api.value.type union-directive
%union
{
  int ival;
  char *sval;
}
%token &lt;ival&gt; INT &quot;integer&quot;
%token &lt;sval&gt; STR &quot;string&quot;
</pre></div>

                            </dd>
                            <dt>&lsquo;<samp>union</samp>&rsquo; (C, C++)</dt>
                            <dd>
                                <p>The symbols are defined with type names, from which Bison will generate a
                                    <code>union</code>. For instance:
                                </p>
                                <div class="example">
                                    <pre class="example">%define api.value.type union
%token &lt;int&gt; INT &quot;integer&quot;
%token &lt;char *&gt; STR &quot;string&quot;
</pre></div>
                                <p>This feature needs user feedback to stabilize. Note that most C++ objects cannot be stored in a <code>union</code>.
                                </p>
                            </dd>
                            <dt>&lsquo;<samp>variant</samp>&rsquo; (C++)</dt>
                            <dd>
                                <p>This is similar to <code>union</code>, but special storage techniques are used to allow any kind of C++ object to be used. For instance:
                                </p>
                                <div class="example">
                                    <pre class="example">%define api.value.type variant
%token &lt;int&gt; INT &quot;integer&quot;
%token &lt;std::string&gt; STR &quot;string&quot;
</pre></div>
                                <p>This feature needs user feedback to stabilize. See <a href="#C_002b_002b-Variants">C++ Variants</a>.
                                </p>
                            </dd>
                            <dt>&lsquo;<samp>{<var>type</var>}</samp>&rsquo;</dt>
                            <dd>
                                <p>Use this <var>type</var> as semantic value.
                                </p>
                                <div class="example">
                                    <pre class="example">%code requires
{
  struct my_value
  {
    enum
    {
      is_int, is_str
    } kind;
    union
    {
      int ival;
      char *sval;
    } u;
  };
}
%define api.value.type {struct my_value}
%token &lt;u.ival&gt; INT &quot;integer&quot;
%token &lt;u.sval&gt; STR &quot;string&quot;
</pre></div>
                            </dd>
                        </dl>

                    </li>
                    <li> Default Value:
                        <ul class="no-bullet">
                            <li>- <code>union-directive</code> if <code>%union</code> is used, otherwise &hellip;
                            </li>
                            <li>- <code>int</code> if type tags are used (i.e., &lsquo;<samp>%token &lt;<var>type</var>&gt;&hellip;</samp>&rsquo; or &lsquo;
                                <samp>%type &lt;<var>type</var>&gt;&hellip;</samp>&rsquo; is used), otherwise &hellip;
                            </li>
                            <li>- undefined.
                            </li>
                        </ul>

                    </li>
                    <li> History: introduced in Bison 3.0. Was introduced for Java only in 2.3b as
                        <code>stype</code>.
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-api_002evalue_002eunion_002ename"></a>Directive: <strong>%define api.value.union.name</strong> <em><var>name</var></em></dt>
            <dd>
                <ul>
                    <li> Language(s): C

                    </li>
                    <li> Purpose: The tag of the generated <code>union</code> (<em>not</em> the name of the
                        <code>typedef</code>). This variable is set to <code><var>id</var></code> when &lsquo;<samp>%union
<var>id</var></samp>&rsquo; is used. There is no clear reason to give this union a name.

                    </li>
                    <li> Accepted Values: Any valid identifier.

                    </li>
                    <li> Default Value:
                        <code>YYSTYPE</code>.

                    </li>
                    <li> History: Introduced in Bison 3.0.3.
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-location_005ftype"></a>Directive: <strong>%define location_type</strong></dt>
            <dd>
                <p>Obsoleted by <code>api.location.type</code> since Bison 2.7.
                </p>
            </dd>
        </dl>



        <dl>
            <dt><a name="index-_0025define-lr_002edefault_002dreduction"></a>Directive: <strong>%define lr.default-reduction</strong> <em><var>when</var></em></dt>
            <dd>
                <ul>
                    <li> Language(s): all

                    </li>
                    <li> Purpose: Specify the kind of states that are permitted to contain default reductions. See <a href="#Default-Reductions">Default Reductions</a>. (The ability to specify where default reductions should be used is experimental. More user
                        feedback will help to stabilize it.)

                    </li>
                    <li> Accepted Values: <code>most</code>, <code>consistent</code>, <code>accepting</code>
                    </li>
                    <li> Default Value:
                        <ul>
                            <li> <code>accepting</code> if <code>lr.type</code> is <code>canonical-lr</code>.
                            </li>
                            <li> <code>most</code> otherwise.
                            </li>
                        </ul>
                    </li>
                    <li> History: introduced as <code>lr.default-reductions</code> in 2.5, renamed as
                        <code>lr.default-reduction</code> in 3.0.
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-lr_002ekeep_002dunreachable_002dstate"></a>Directive: <strong>%define lr.keep-unreachable-state</strong></dt>
            <dd>
                <ul>
                    <li> Language(s): all
                    </li>
                    <li> Purpose: Request that Bison allow unreachable parser states to remain in the parser tables. See <a href="#Unreachable-States">Unreachable States</a>.
                    </li>
                    <li> Accepted Values: Boolean
                    </li>
                    <li> Default Value: <code>false</code>
                    </li>
                    <li> History: introduced as <code>lr.keep_unreachable_states</code> in 2.3b, renamed as
                        <code>lr.keep-unreachable-states</code> in 2.5, and as
                        <code>lr.keep-unreachable-state</code> in 3.0.
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-lr_002etype"></a>Directive: <strong>%define lr.type</strong> <em><var>type</var></em></dt>
            <dd>
                <ul>
                    <li> Language(s): all

                    </li>
                    <li> Purpose: Specify the type of parser tables within the LR(1) family. See <a href="#LR-Table-Construction">LR Table Construction</a>. (This feature is experimental. More user feedback will help to stabilize it.)

                    </li>
                    <li> Accepted Values: <code>lalr</code>, <code>ielr</code>, <code>canonical-lr</code>

                    </li>
                    <li> Default Value: <code>lalr</code>
                    </li>
                </ul>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-8"></a>Directive: <strong>%define</strong> <em>namespace {<var>namespace</var>}</em></dt>
            <dd>
                <p>Obsoleted by <code>api.namespace</code>
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-parse_002eassert"></a>Directive: <strong>%define parse.assert</strong></dt>
            <dd>
                <ul>
                    <li> Languages(s): C++

                    </li>
                    <li> Purpose: Issue runtime assertions to catch invalid uses. In C++, when variants are used (see <a href="#C_002b_002b-Variants">C++ Variants</a>), symbols must be constructed and destroyed properly. This option checks these constraints.

                    </li>
                    <li> Accepted Values: Boolean

                    </li>
                    <li> Default Value: <code>false</code>
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-parse_002eerror"></a>Directive: <strong>%define parse.error</strong> <em><var>verbosity</var></em></dt>
            <dd>
                <ul>
                    <li> Languages(s): all
                    </li>
                    <li> Purpose: Control the kind of error messages passed to the error reporting function. See <a href="#Error-Reporting">The Error Reporting Function
<code>yyerror</code></a>.
                    </li>
                    <li> Accepted Values:
                        <ul>
                            <li> <code>simple</code> Error messages passed to <code>yyerror</code> are simply <code>&quot;syntax&nbsp;error&quot;</code>
                                <!-- /@w -->.
                            </li>
                            <li> <code>verbose</code> Error messages report the unexpected token, and possibly the expected ones. However, this report can often be incorrect when LAC is not enabled (see <a href="#LAC">LAC</a>).
                            </li>
                        </ul>

                    </li>
                    <li> Default Value:
                        <code>simple</code>
                    </li>
                </ul>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-parse_002elac"></a>Directive: <strong>%define parse.lac</strong> <em><var>when</var></em></dt>
            <dd>
                <ul>
                    <li> Languages(s): C (deterministic parsers only)

                    </li>
                    <li> Purpose: Enable LAC (lookahead correction) to improve syntax error handling. See <a href="#LAC">LAC</a>.
                    </li>
                    <li> Accepted Values: <code>none</code>, <code>full</code>
                    </li>
                    <li> Default Value: <code>none</code>
                    </li>
                </ul>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-parse_002etrace"></a>Directive: <strong>%define parse.trace</strong></dt>
            <dd>
                <ul>
                    <li> Languages(s): C, C++, Java

                    </li>
                    <li> Purpose: Require parser instrumentation for tracing. See <a href="#Tracing">Tracing Your Parser</a>.

                        <p>In C/C++, define the macro <code>YYDEBUG</code> (or <code><var>prefix</var>DEBUG</code> with &lsquo;
                            <samp>%define api.prefix {<var>prefix</var>}</samp>&rsquo;), see <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>) to 1 in the parser implementation file if it is not already defined, so that the debugging
                            facilities are compiled.
                        </p>
                    </li>
                    <li> Accepted Values: Boolean

                    </li>
                    <li> Default Value: <code>false</code>
                    </li>
                </ul>
            </dd>
        </dl>

        <hr>
        <a name="g_t_0025code-Summary"></a>
        <div class="header">
            <p>
                Previous: <a href="#g_t_0025define-Summary" accesskey="p" rel="prev">%define Summary</a>, Up: <a href="#Declarations" accesskey="u" rel="up">Declarations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="g_t_0025code-Summary-1"></a>
        <h4 class="subsection">3.7.14 %code Summary</h4>
        <a name="index-_0025code-4"></a>
        <a name="index-Prologue-1"></a>

        <p>The <code>%code</code> directive inserts code verbatim into the output parser source at any of a predefined set of locations. It thus serves as a flexible and user-friendly alternative to the traditional Yacc prologue, <code>%{<var>code</var>%}</code>.
            This section summarizes the functionality of <code>%code</code> for the various target languages supported by Bison. For a detailed discussion of how to use
            <code>%code</code> in place of <code>%{<var>code</var>%}</code> for C/C++ and why it is advantageous to do so, see <a href="#Prologue-Alternatives">Prologue Alternatives</a>.
        </p>
        <dl>
            <dt><a name="index-_0025code-5"></a>Directive: <strong>%code</strong> <em>{<var>code</var>}</em></dt>
            <dd>
                <p>This is the unqualified form of the <code>%code</code> directive. It inserts <var>code</var> verbatim at a language-dependent default location in the parser implementation.
                </p>
                <p>For C/C++, the default location is the parser implementation file after the usual contents of the parser header file. Thus, the unqualified form replaces <code>%{<var>code</var>%}</code> for most purposes.
                </p>
                <p>For Java, the default location is inside the parser class.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025code-6"></a>Directive: <strong>%code</strong> <em><var>qualifier</var> {<var>code</var>}</em></dt>
            <dd>
                <p>This is the qualified form of the <code>%code</code> directive.
                    <var>qualifier</var> identifies the purpose of <var>code</var> and thus the location(s) where Bison should insert it. That is, if you need to specify location-sensitive <var>code</var> that does not belong at the default location selected
                    by the unqualified <code>%code</code> form, use this form instead.
                </p>
            </dd>
        </dl>

        <p>For any particular qualifier or for the unqualified form, if there are multiple occurrences of the <code>%code</code> directive, Bison concatenates the specified code in the order in which it appears in the grammar file.
        </p>
        <p>Not all qualifiers are accepted for all target languages. Unaccepted qualifiers produce an error. Some of the accepted qualifiers are:
        </p>
        <dl compact="compact">
            <dt><code>requires</code></dt>
            <dd>
                <a name="index-_0025code-requires-2"></a>

                <ul>
                    <li> Language(s): C, C++

                    </li>
                    <li> Purpose: This is the best place to write dependency code required for
                        <code>YYSTYPE</code> and <code>YYLTYPE</code>. In other words, it&rsquo;s the best place to define types referenced in <code>%union</code> directives. If you use
                        <code>#define</code> to override Bison&rsquo;s default <code>YYSTYPE</code> and <code>YYLTYPE</code> definitions, then it is also the best place. However you should rather
                        <code>%define</code> <code>api.value.type</code> and <code>api.location.type</code>.

                    </li>
                    <li> Location(s): The parser header file and the parser implementation file before the Bison-generated <code>YYSTYPE</code> and <code>YYLTYPE</code> definitions.
                    </li>
                </ul>

            </dd>
            <dt><code>provides</code></dt>
            <dd>
                <a name="index-_0025code-provides-2"></a>

                <ul>
                    <li> Language(s): C, C++

                    </li>
                    <li> Purpose: This is the best place to write additional definitions and declarations that should be provided to other modules.

                    </li>
                    <li> Location(s): The parser header file and the parser implementation file after the Bison-generated <code>YYSTYPE</code>, <code>YYLTYPE</code>, and token definitions.
                    </li>
                </ul>

            </dd>
            <dt><code>top</code></dt>
            <dd>
                <a name="index-_0025code-top-1"></a>

                <ul>
                    <li> Language(s): C, C++

                    </li>
                    <li> Purpose: The unqualified <code>%code</code> or <code>%code requires</code> should usually be more appropriate than <code>%code top</code>. However, occasionally it is necessary to insert code much nearer the top of the parser implementation
                        file. For example:

                        <div class="example">
                            <pre class="example">%code top {
  #define _GNU_SOURCE
  #include &lt;stdio.h&gt;
}
</pre></div>

                    </li>
                    <li> Location(s): Near the top of the parser implementation file.
                    </li>
                </ul>

            </dd>
            <dt><code>imports</code></dt>
            <dd>
                <a name="index-_0025code-imports"></a>

                <ul>
                    <li> Language(s): Java

                    </li>
                    <li> Purpose: This is the best place to write Java import directives.

                    </li>
                    <li> Location(s): The parser Java file after any Java package directive and before any class definitions.
                    </li>
                </ul>
            </dd>
        </dl>

        <p>Though we say the insertion locations are language-dependent, they are technically skeleton-dependent. Writers of non-standard skeletons however should choose their locations consistently with the behavior of the standard Bison skeletons.
        </p>

        <hr>
        <a name="Multiple-Parsers"></a>
        <div class="header">
            <p>
                Previous: <a href="#Declarations" accesskey="p" rel="prev">Declarations</a>, Up: <a href="#Grammar-File" accesskey="u" rel="up">Grammar File</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Multiple-Parsers-in-the-Same-Program"></a>
        <h3 class="section">3.8 Multiple Parsers in the Same Program</h3>

        <p>Most programs that use Bison parse only one language and therefore contain only one Bison parser. But what if you want to parse more than one language with the same program? Then you need to avoid name conflicts between different definitions of
            functions and variables such as <code>yyparse</code>,
            <code>yylval</code>. To use different parsers from the same compilation unit, you also need to avoid conflicts on types and macros (e.g., <code>YYSTYPE</code>) exported in the generated header.
        </p>
        <p>The easy way to do this is to define the <code>%define</code> variable
            <code>api.prefix</code>. With different <code>api.prefix</code>s it is guaranteed that headers do not conflict when included together, and that compiled objects can be linked together too. Specifying &lsquo;<samp>%define api.prefix
{<var>prefix</var>}</samp>&rsquo; (or passing the option &lsquo;<samp>-Dapi.prefix={<var>prefix</var>}</samp>&rsquo;, see
            <a href="#Invocation">Invoking Bison</a>) renames the interface functions and variables of the Bison parser to start with <var>prefix</var> instead of &lsquo;
            <samp>yy</samp>&rsquo;, and all the macros to start by <var>PREFIX</var> (i.e., <var>prefix</var> upper-cased) instead of &lsquo;<samp>YY</samp>&rsquo;.
        </p>
        <p>The renamed symbols include <code>yyparse</code>, <code>yylex</code>, <code>yyerror</code>,
            <code>yynerrs</code>, <code>yylval</code>, <code>yylloc</code>, <code>yychar</code> and
            <code>yydebug</code>. If you use a push parser, <code>yypush_parse</code>,
            <code>yypull_parse</code>, <code>yypstate</code>, <code>yypstate_new</code> and
            <code>yypstate_delete</code> will also be renamed. The renamed macros include
            <code>YYSTYPE</code>, <code>YYLTYPE</code>, and <code>YYDEBUG</code>, which is treated specifically &mdash; more about this below.
        </p>
        <p>For example, if you use &lsquo;<samp>%define api.prefix {c}</samp>&rsquo;, the names become
            <code>cparse</code>, <code>clex</code>, &hellip;, <code>CSTYPE</code>, <code>CLTYPE</code>, and so on.
        </p>
        <p>The <code>%define</code> variable <code>api.prefix</code> works in two different ways. In the implementation file, it works by adding macro definitions to the beginning of the parser implementation file, defining <code>yyparse</code> as
            <code><var>prefix</var>parse</code>, and so on:
        </p>
        <div class="example">
            <pre class="example">#define YYSTYPE CTYPE
#define yyparse cparse
#define yylval  clval
...
YYSTYPE yylval;
int yyparse (void);
</pre></div>

        <p>This effectively substitutes one name for the other in the entire parser implementation file, thus the &ldquo;original&rdquo; names (<code>yylex</code>,
            <code>YYSTYPE</code>, &hellip;) are also usable in the parser implementation file.
        </p>
        <p>However, in the parser header file, the symbols are defined renamed, for instance:
        </p>
        <div class="example">
            <pre class="example">extern CSTYPE clval;
int cparse (void);
</pre></div>

        <p>The macro <code>YYDEBUG</code> is commonly used to enable the tracing support in parsers. To comply with this tradition, when <code>api.prefix</code> is used,
            <code>YYDEBUG</code> (not renamed) is used as a default value:
        </p>
        <div class="example">
            <pre class="example">/* Debug traces.  */
#ifndef CDEBUG
# if defined YYDEBUG
#  if YYDEBUG
#   define CDEBUG 1
#  else
#   define CDEBUG 0
#  endif
# else
#  define CDEBUG 0
# endif
#endif
#if CDEBUG
extern int cdebug;
#endif
</pre></div>

        <br>
        <br>

        <p>Prior to Bison 2.6, a feature similar to <code>api.prefix</code> was provided by the obsolete directive <code>%name-prefix</code> (see <a href="#Table-of-Symbols">Bison
Symbols</a>) and the option <code>--name-prefix</code> (see <a href="#Bison-Options">Bison Options</a>).
        </p>
        <hr>
        <a name="Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#Algorithm" accesskey="n" rel="next">Algorithm</a>, Previous: <a href="#Grammar-File" accesskey="p" rel="prev">Grammar File</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Parser-C_002dLanguage-Interface"></a>
        <h2 class="chapter">4 Parser C-Language Interface</h2>
        <a name="index-C_002dlanguage-interface"></a>
        <a name="index-interface"></a>

        <p>The Bison parser is actually a C function named <code>yyparse</code>. Here we describe the interface conventions of <code>yyparse</code> and the other functions that it needs to use.
        </p>
        <p>Keep in mind that the parser uses many C identifiers starting with &lsquo;
            <samp>yy</samp>&rsquo; and &lsquo;<samp>YY</samp>&rsquo; for internal purposes. If you use such an identifier (aside from those in this manual) in an action or in epilogue in the grammar file, you are likely to run into trouble.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-Function" accesskey="1">Parser Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yyparse</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Push-Parser-Function" accesskey="2">Push Parser Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypush_parse</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Pull-Parser-Function" accesskey="3">Pull Parser Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypull_parse</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-Create-Function" accesskey="4">Parser Create Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypstate_new</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-Delete-Function" accesskey="5">Parser Delete Function</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to call <code>yypstate_delete</code> and what it returns.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Lexical" accesskey="6">Lexical</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">You must supply a function <code>yylex</code> which reads tokens.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Error-Reporting" accesskey="7">Error Reporting</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">You must supply a function <code>yyerror</code>.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Action-Features" accesskey="8">Action Features</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Special features for use in actions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Internationalization" accesskey="9">Internationalization</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to let the parser speak in the user&rsquo;s native language.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Parser-Function"></a>
        <div class="header">
            <p>
                Next: <a href="#Push-Parser-Function" accesskey="n" rel="next">Push Parser Function</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Parser-Function-yyparse"></a>
        <h3 class="section">4.1 The Parser Function <code>yyparse</code></h3>
        <a name="index-yyparse"></a>

        <p>You call the function <code>yyparse</code> to cause parsing to occur. This function reads tokens, executes actions, and ultimately returns when it encounters end-of-input or an unrecoverable syntax error. You can also write an action which directs
            <code>yyparse</code> to return immediately without reading further.
        </p>

        <dl>
            <dt><a name="index-yyparse-1"></a>Function: <em>int</em> <strong>yyparse</strong> <em>(void)</em></dt>
            <dd>
                <p>The value returned by <code>yyparse</code> is 0 if parsing was successful (return is due to end-of-input).
                </p>
                <p>The value is 1 if parsing failed because of invalid input, i.e., input that contains a syntax error or that causes <code>YYABORT</code> to be invoked.
                </p>
                <p>The value is 2 if parsing failed due to memory exhaustion.
                </p>
            </dd>
        </dl>

        <p>In an action, you can cause immediate return from <code>yyparse</code> by using these macros:
        </p>
        <dl>
            <dt><a name="index-YYACCEPT"></a>Macro: <strong>YYACCEPT</strong></dt>
            <dd>
                <a name="index-YYACCEPT-1"></a>
                <p>Return immediately with value 0 (to report success).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYABORT"></a>Macro: <strong>YYABORT</strong></dt>
            <dd>
                <a name="index-YYABORT-1"></a>
                <p>Return immediately with value 1 (to report failure).
                </p>
            </dd>
        </dl>

        <p>If you use a reentrant parser, you can optionally pass additional parameter information to it in a reentrant way. To do so, use the declaration <code>%parse-param</code>:
        </p>
        <dl>
            <dt><a name="index-_0025parse_002dparam"></a>Directive: <strong>%parse-param</strong> <em>{<var>argument-declaration</var>} &hellip;</em></dt>
            <dd>
                <a name="index-_0025parse_002dparam-1"></a>
                <p>Declare that one or more
                    <var>argument-declaration</var> are additional <code>yyparse</code> arguments. The <var>argument-declaration</var> is used when declaring functions or prototypes. The last identifier in
                    <var>argument-declaration</var> must be the argument name.
                </p>
            </dd>
        </dl>

        <p>Here&rsquo;s an example. Write this in the parser:
        </p>
        <div class="example">
            <pre class="example">%parse-param {int *nastiness} {int *randomness}
</pre></div>

        <p>Then call the parser like this:
        </p>
        <div class="example">
            <pre class="example">{
  int nastiness, randomness;
  &hellip;  /* <span class="roman">Store proper data in <code>nastiness</code> and <code>randomness</code>.</span>  */
  value = yyparse (&amp;nastiness, &amp;randomness);
  &hellip;
}
</pre></div>

        <p>In the grammar actions, use expressions like this to refer to the data:
        </p>
        <div class="example">
            <pre class="example">exp: &hellip;    { &hellip;; *randomness += 1; &hellip; }
</pre></div>

        <p>Using the following:
        </p>
        <div class="example">
            <pre class="example">%parse-param {int *randomness}
</pre></div>

        <p>Results in these signatures:
        </p>
        <div class="example">
            <pre class="example">void yyerror (int *randomness, const char *msg);
int  yyparse (int *randomness);
</pre></div>

        <p>Or, if both <code>%define api.pure full</code> (or just <code>%define api.pure</code>) and <code>%locations</code> are used:
        </p>
        <div class="example">
            <pre class="example">void yyerror (YYLTYPE *llocp, int *randomness, const char *msg);
int  yyparse (int *randomness);
</pre></div>

        <hr>
        <a name="Push-Parser-Function"></a>
        <div class="header">
            <p>
                Next: <a href="#Pull-Parser-Function" accesskey="n" rel="next">Pull Parser Function</a>, Previous: <a href="#Parser-Function" accesskey="p" rel="prev">Parser Function</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Push-Parser-Function-yypush_005fparse"></a>
        <h3 class="section">4.2 The Push Parser Function <code>yypush_parse</code></h3>
        <a name="index-yypush_005fparse"></a>

        <p>(The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>You call the function <code>yypush_parse</code> to parse a single token. This function is available if either the &lsquo;<samp>%define api.push-pull push</samp>&rsquo; or &lsquo;
            <samp>%define api.push-pull both</samp>&rsquo; declaration is used. See <a href="#Push-Decl">A Push Parser</a>.
        </p>
        <dl>
            <dt><a name="index-yypush_005fparse-1"></a>Function: <em>int</em> <strong>yypush_parse</strong> <em>(yypstate *<var>yyps</var>)</em></dt>
            <dd>
                <p>The value returned by <code>yypush_parse</code> is the same as for yyparse with the following exception: it returns <code>YYPUSH_MORE</code> if more input is required to finish parsing the grammar.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Pull-Parser-Function"></a>
        <div class="header">
            <p>
                Next: <a href="#Parser-Create-Function" accesskey="n" rel="next">Parser Create Function</a>, Previous: <a href="#Push-Parser-Function" accesskey="p" rel="prev">Push Parser Function</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Pull-Parser-Function-yypull_005fparse"></a>
        <h3 class="section">4.3 The Pull Parser Function <code>yypull_parse</code></h3>
        <a name="index-yypull_005fparse"></a>

        <p>(The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>You call the function <code>yypull_parse</code> to parse the rest of the input stream. This function is available if the &lsquo;<samp>%define api.push-pull both</samp>&rsquo; declaration is used. See <a href="#Push-Decl">A Push Parser</a>.
        </p>
        <dl>
            <dt><a name="index-yypull_005fparse-1"></a>Function: <em>int</em> <strong>yypull_parse</strong> <em>(yypstate *<var>yyps</var>)</em></dt>
            <dd>
                <p>The value returned by <code>yypull_parse</code> is the same as for <code>yyparse</code>.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Parser-Create-Function"></a>
        <div class="header">
            <p>
                Next: <a href="#Parser-Delete-Function" accesskey="n" rel="next">Parser Delete Function</a>, Previous: <a href="#Pull-Parser-Function" accesskey="p" rel="prev">Pull Parser Function</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Parser-Create-Function-yystate_005fnew"></a>
        <h3 class="section">4.4 The Parser Create Function <code>yystate_new</code></h3>
        <a name="index-yypstate_005fnew"></a>

        <p>(The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>You call the function <code>yypstate_new</code> to create a new parser instance. This function is available if either the &lsquo;<samp>%define api.push-pull push</samp>&rsquo; or &lsquo;
            <samp>%define api.push-pull both</samp>&rsquo; declaration is used. See <a href="#Push-Decl">A Push Parser</a>.
        </p>
        <dl>
            <dt><a name="index-yypstate_005fnew-1"></a>Function: <em>yypstate*</em> <strong>yypstate_new</strong> <em>(void)</em></dt>
            <dd>
                <p>The function will return a valid parser instance if there was memory available or 0 if no memory was available. In impure mode, it will also return 0 if a parser instance is currently allocated.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Parser-Delete-Function"></a>
        <div class="header">
            <p>
                Next: <a href="#Lexical" accesskey="n" rel="next">Lexical</a>, Previous: <a href="#Parser-Create-Function" accesskey="p" rel="prev">Parser Create Function</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Parser-Delete-Function-yystate_005fdelete"></a>
        <h3 class="section">4.5 The Parser Delete Function <code>yystate_delete</code></h3>
        <a name="index-yypstate_005fdelete"></a>

        <p>(The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>You call the function <code>yypstate_delete</code> to delete a parser instance. function is available if either the &lsquo;<samp>%define api.push-pull push</samp>&rsquo; or &lsquo;
            <samp>%define api.push-pull both</samp>&rsquo; declaration is used. See <a href="#Push-Decl">A Push Parser</a>.
        </p>
        <dl>
            <dt><a name="index-yypstate_005fdelete-1"></a>Function: <em>void</em> <strong>yypstate_delete</strong> <em>(yypstate *<var>yyps</var>)</em></dt>
            <dd>
                <p>This function will reclaim the memory associated with a parser instance. After this call, you should no longer attempt to use the parser instance.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Lexical"></a>
        <div class="header">
            <p>
                Next: <a href="#Error-Reporting" accesskey="n" rel="next">Error Reporting</a>, Previous: <a href="#Parser-Delete-Function" accesskey="p" rel="prev">Parser Delete Function</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Lexical-Analyzer-Function-yylex"></a>
        <h3 class="section">4.6 The Lexical Analyzer Function <code>yylex</code></h3>
        <a name="index-yylex"></a>
        <a name="index-lexical-analyzer"></a>

        <p>The <em>lexical analyzer</em> function, <code>yylex</code>, recognizes tokens from the input stream and returns them to the parser. Bison does not create this function automatically; you must write it so that <code>yyparse</code> can call it.
            The function is sometimes referred to as a lexical scanner.
        </p>
        <p>In simple programs, <code>yylex</code> is often defined at the end of the Bison grammar file. If <code>yylex</code> is defined in a separate source file, you need to arrange for the token-type macro definitions to be available there. To do this,
            use the &lsquo;<samp>-d</samp>&rsquo; option when you run Bison, so that it will write these macro definitions into the separate parser header file, <samp><var>name</var>.tab.h</samp>, which you can include in the other source files that need
            it. See <a href="#Invocation">Invoking
Bison</a>.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calling-Convention" accesskey="1">Calling Convention</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How <code>yyparse</code> calls <code>yylex</code>.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Token-Values" accesskey="2">Token Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How <code>yylex</code> must return the semantic value of the token it has read.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Token-Locations" accesskey="3">Token Locations</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How <code>yylex</code> must return the text location (line number, etc.) of the token, if the actions want that.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Pure-Calling" accesskey="4">Pure Calling</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How the calling convention differs in a pure parser (see <a href="#Pure-Decl">A Pure (Reentrant) Parser</a>).
                </td>
            </tr>
        </table>

        <hr>
        <a name="Calling-Convention"></a>
        <div class="header">
            <p>
                Next: <a href="#Token-Values" accesskey="n" rel="next">Token Values</a>, Up: <a href="#Lexical" accesskey="u" rel="up">Lexical</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calling-Convention-for-yylex"></a>
        <h4 class="subsection">4.6.1 Calling Convention for <code>yylex</code></h4>

        <p>The value that <code>yylex</code> returns must be the positive numeric code for the type of token it has just found; a zero or negative value signifies end-of-input.
        </p>
        <p>When a token is referred to in the grammar rules by a name, that name in the parser implementation file becomes a C macro whose definition is the proper numeric code for that token type. So <code>yylex</code> can use the name to indicate that
            type. See <a href="#Symbols">Symbols</a>.
        </p>
        <p>When a token is referred to in the grammar rules by a character literal, the numeric code for that character is also the code for the token type. So <code>yylex</code> can simply return that character code, possibly converted to <code>unsigned char</code>            to avoid sign-extension. The null character must not be used this way, because its code is zero and that signifies end-of-input.
        </p>
        <p>Here is an example showing these things:
        </p>
        <div class="example">
            <pre class="example">int
yylex (void)
{
  &hellip;
  if (c == EOF)    /* Detect end-of-input.  */
    return 0;
  &hellip;
  if (c == '+' || c == '-')
    return c;      /* Assume token type for '+' is '+'.  */
  &hellip;
  return INT;      /* Return the type of the token.  */
  &hellip;
}
</pre></div>

        <p>This interface has been designed so that the output from the <code>lex</code> utility can be used without change as the definition of <code>yylex</code>.
        </p>
        <p>If the grammar uses literal string tokens, there are two ways that
            <code>yylex</code> can determine the token type codes for them:
        </p>
        <ul>
            <li> If the grammar defines symbolic token names as aliases for the literal string tokens, <code>yylex</code> can use these symbolic names like all others. In this case, the use of the literal string tokens in the grammar file has no effect on
                <code>yylex</code>.

            </li>
            <li> <code>yylex</code> can find the multicharacter token in the <code>yytname</code> table. The index of the token in the table is the token type&rsquo;s code. The name of a multicharacter token is recorded in <code>yytname</code> with a double-quote,
                the token&rsquo;s characters, and another double-quote. The token&rsquo;s characters are escaped as necessary to be suitable as input to Bison.

                <p>Here&rsquo;s code for looking up a multicharacter token in <code>yytname</code>, assuming that the characters of the token are stored in
                    <code>token_buffer</code>, and assuming that the token does not contain any characters like &lsquo;<samp>&quot;</samp>&rsquo; that require escaping.
                </p>
                <div class="example">
                    <pre class="example">for (i = 0; i &lt; YYNTOKENS; i++)
  {
    if (yytname[i] != 0
        &amp;&amp; yytname[i][0] == '&quot;'
        &amp;&amp; ! strncmp (yytname[i] + 1, token_buffer,
                      strlen (token_buffer))
        &amp;&amp; yytname[i][strlen (token_buffer) + 1] == '&quot;'
        &amp;&amp; yytname[i][strlen (token_buffer) + 2] == 0)
      break;
  }
</pre></div>

                <p>The <code>yytname</code> table is generated only if you use the
                    <code>%token-table</code> declaration. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </li>
        </ul>

        <hr>
        <a name="Token-Values"></a>
        <div class="header">
            <p>
                Next: <a href="#Token-Locations" accesskey="n" rel="next">Token Locations</a>, Previous: <a href="#Calling-Convention" accesskey="p" rel="prev">Calling Convention</a>, Up: <a href="#Lexical" accesskey="u" rel="up">Lexical</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Semantic-Values-of-Tokens"></a>
        <h4 class="subsection">4.6.2 Semantic Values of Tokens</h4>

        <a name="index-yylval-4"></a>
        <p>In an ordinary (nonreentrant) parser, the semantic value of the token must be stored into the global variable <code>yylval</code>. When you are using just one data type for semantic values, <code>yylval</code> has that type. Thus, if the type
            is <code>int</code> (the default), you might write this in
            <code>yylex</code>:
        </p>
        <div class="example">
            <pre class="example">  &hellip;
  yylval = value;  /* Put value onto Bison stack.  */
  return INT;      /* Return the type of the token.  */
  &hellip;
</pre></div>

        <p>When you are using multiple data types, <code>yylval</code>&rsquo;s type is a union made from the <code>%union</code> declaration (see <a href="#Union-Decl">The
Union Declaration</a>). So when you store a token&rsquo;s value, you must use the proper member of the union. If the <code>%union</code> declaration looks like this:
        </p>
        <div class="example">
            <pre class="example">%union {
  int intval;
  double val;
  symrec *tptr;
}
</pre></div>

        <p>then the code in <code>yylex</code> might look like this:
        </p>
        <div class="example">
            <pre class="example">  &hellip;
  yylval.intval = value; /* Put value onto Bison stack.  */
  return INT;            /* Return the type of the token.  */
  &hellip;
</pre></div>

        <hr>
        <a name="Token-Locations"></a>
        <div class="header">
            <p>
                Next: <a href="#Pure-Calling" accesskey="n" rel="next">Pure Calling</a>, Previous: <a href="#Token-Values" accesskey="p" rel="prev">Token Values</a>, Up: <a href="#Lexical" accesskey="u" rel="up">Lexical</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Textual-Locations-of-Tokens"></a>
        <h4 class="subsection">4.6.3 Textual Locations of Tokens</h4>

        <a name="index-yylloc-4"></a>
        <p>If you are using the &lsquo;<samp>@<var>n</var></samp>&rsquo;-feature (see <a href="#Tracking-Locations">Tracking Locations</a>) in actions to keep track of the textual locations of tokens and groupings, then you must provide this information
            in <code>yylex</code>. The function
            <code>yyparse</code> expects to find the textual location of a token just parsed in the global variable <code>yylloc</code>. So <code>yylex</code> must store the proper data in that variable.
        </p>
        <p>By default, the value of <code>yylloc</code> is a structure and you need only initialize the members that are going to be used by the actions. The four members are called <code>first_line</code>, <code>first_column</code>,
            <code>last_line</code> and <code>last_column</code>. Note that the use of this feature makes the parser noticeably slower.
        </p>
        <a name="index-YYLTYPE-1"></a>
        <p>The data type of <code>yylloc</code> has the name <code>YYLTYPE</code>.
        </p>
        <hr>
        <a name="Pure-Calling"></a>
        <div class="header">
            <p>
                Previous: <a href="#Token-Locations" accesskey="p" rel="prev">Token Locations</a>, Up: <a href="#Lexical" accesskey="u" rel="up">Lexical</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calling-Conventions-for-Pure-Parsers"></a>
        <h4 class="subsection">4.6.4 Calling Conventions for Pure Parsers</h4>

        <p>When you use the Bison declaration <code>%define api.pure full</code> to request a pure, reentrant parser, the global communication variables <code>yylval</code> and <code>yylloc</code> cannot be used. (See <a href="#Pure-Decl">A Pure (Reentrant)
Parser</a>.) In such parsers the two global variables are replaced by pointers passed as arguments to <code>yylex</code>. You must declare them as shown here, and pass the information back by storing it through those pointers.
        </p>
        <div class="example">
            <pre class="example">int
yylex (YYSTYPE *lvalp, YYLTYPE *llocp)
{
  &hellip;
  *lvalp = value;  /* Put value onto Bison stack.  */
  return INT;      /* Return the type of the token.  */
  &hellip;
}
</pre></div>

        <p>If the grammar file does not use the &lsquo;<samp>@</samp>&rsquo; constructs to refer to textual locations, then the type <code>YYLTYPE</code> will not be defined. In this case, omit the second argument; <code>yylex</code> will be called with
            only one argument.
        </p>
        <p>If you wish to pass additional arguments to <code>yylex</code>, use
            <code>%lex-param</code> just like <code>%parse-param</code> (see <a href="#Parser-Function">Parser Function</a>). To pass additional arguments to both <code>yylex</code> and
            <code>yyparse</code>, use <code>%param</code>.
        </p>
        <dl>
            <dt><a name="index-_0025lex_002dparam"></a>Directive: <strong>%lex-param</strong> <em>{<var>argument-declaration</var>} &hellip;</em></dt>
            <dd>
                <a name="index-_0025lex_002dparam-1"></a>
                <p>Specify that <var>argument-declaration</var> are additional <code>yylex</code> argument declarations. You may pass one or more such declarations, which is equivalent to repeating <code>%lex-param</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025param"></a>Directive: <strong>%param</strong> <em>{<var>argument-declaration</var>} &hellip;</em></dt>
            <dd>
                <a name="index-_0025param-1"></a>
                <p>Specify that <var>argument-declaration</var> are additional
                    <code>yylex</code>/<code>yyparse</code> argument declaration. This is equivalent to &lsquo;
                    <samp>%lex-param {<var>argument-declaration</var>} &hellip; %parse-param
{<var>argument-declaration</var>} &hellip;</samp>&rsquo;. You may pass one or more declarations, which is equivalent to repeating <code>%param</code>.
                </p>
            </dd>
        </dl>

        <p>For instance:
        </p>
        <div class="example">
            <pre class="example">%lex-param   {scanner_mode *mode}
%parse-param {parser_mode *mode}
%param       {environment_type *env}
</pre></div>

        <p>results in the following signatures:
        </p>
        <div class="example">
            <pre class="example">int yylex   (scanner_mode *mode, environment_type *env);
int yyparse (parser_mode *mode, environment_type *env);
</pre></div>

        <p>If &lsquo;<samp>%define api.pure full</samp>&rsquo; is added:
        </p>
        <div class="example">
            <pre class="example">int yylex   (YYSTYPE *lvalp, scanner_mode *mode, environment_type *env);
int yyparse (parser_mode *mode, environment_type *env);
</pre></div>

        <p>and finally, if both &lsquo;<samp>%define api.pure full</samp>&rsquo; and <code>%locations</code> are used:
        </p>
        <div class="example">
            <pre class="example">int yylex   (YYSTYPE *lvalp, YYLTYPE *llocp,
             scanner_mode *mode, environment_type *env);
int yyparse (parser_mode *mode, environment_type *env);
</pre></div>

        <hr>
        <a name="Error-Reporting"></a>
        <div class="header">
            <p>
                Next: <a href="#Action-Features" accesskey="n" rel="next">Action Features</a>, Previous: <a href="#Lexical" accesskey="p" rel="prev">Lexical</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Error-Reporting-Function-yyerror"></a>
        <h3 class="section">4.7 The Error Reporting Function <code>yyerror</code></h3>
        <a name="index-error-reporting-function"></a>
        <a name="index-yyerror"></a>
        <a name="index-parse-error"></a>
        <a name="index-syntax-error"></a>

        <p>The Bison parser detects a <em>syntax error</em> (or <em>parse error</em>) whenever it reads a token which cannot satisfy any syntax rule. An action in the grammar can also explicitly proclaim an error, using the macro <code>YYERROR</code> (see
            <a href="#Action-Features">Special Features for Use in Actions</a>).
        </p>
        <p>The Bison parser expects to report the error by calling an error reporting function named <code>yyerror</code>, which you must supply. It is called by <code>yyparse</code> whenever a syntax error is found, and it receives one argument. For a syntax
            error, the string is normally
            <code>&quot;syntax&nbsp;error&quot;</code>
            <!-- /@w -->.
        </p>
        <a name="index-_0025define-parse_002eerror-1"></a>
        <p>If you invoke &lsquo;<samp>%define parse.error verbose</samp>&rsquo; in the Bison declarations section (see <a href="#Bison-Declarations">The Bison Declarations Section</a>), then Bison provides a more verbose and specific error message string
            instead of just plain <code>&quot;syntax&nbsp;error&quot;</code>
            <!-- /@w -->. However, that message sometimes contains incorrect information if LAC is not enabled (see <a href="#LAC">LAC</a>).
        </p>
        <p>The parser can detect one other kind of error: memory exhaustion. This can happen when the input contains constructions that are very deeply nested. It isn&rsquo;t likely you will encounter this, since the Bison parser normally extends its stack
            automatically up to a very large limit. But if memory is exhausted, <code>yyparse</code> calls <code>yyerror</code> in the usual fashion, except that the argument string is <code>&quot;memory&nbsp;exhausted&quot;</code>
            <!-- /@w -->.
        </p>
        <p>In some cases diagnostics like <code>&quot;syntax&nbsp;error&quot;</code>
            <!-- /@w -->are translated automatically from English to some other language before they are passed to <code>yyerror</code>. See <a href="#Internationalization">Internationalization</a>.
        </p>
        <p>The following definition suffices in simple programs:
        </p>
        <div class="example">
            <pre class="example">void
yyerror (char const *s)
{
</pre><pre class="example">  fprintf (stderr, &quot;%s\n&quot;, s);
}
</pre></div>

        <p>After <code>yyerror</code> returns to <code>yyparse</code>, the latter will attempt error recovery if you have written suitable error recovery grammar rules (see <a href="#Error-Recovery">Error Recovery</a>). If recovery is impossible, <code>yyparse</code>            will immediately return 1.
        </p>
        <p>Obviously, in location tracking pure parsers, <code>yyerror</code> should have an access to the current location. With <code>%define api.pure</code>, this is indeed the case for the GLR parsers, but not for the Yacc parser, for historical reasons,
            and this is the why <code>%define api.pure full</code> should be prefered over <code>%define api.pure</code>.
        </p>
        <p>When <code>%locations %define api.pure full</code> is used, <code>yyerror</code> has the following signature:
        </p>
        <div class="example">
            <pre class="example">void yyerror (YYLTYPE *locp, char const *msg);
</pre></div>

        <p>The prototypes are only indications of how the code produced by Bison uses <code>yyerror</code>. Bison-generated code always ignores the returned value, so <code>yyerror</code> can return any type, including <code>void</code>. Also, <code>yyerror</code>            can be a variadic function; that is why the message is always passed last.
        </p>
        <p>Traditionally <code>yyerror</code> returns an <code>int</code> that is always ignored, but this is purely for historical reasons, and <code>void</code> is preferable since it more accurately describes the return type for
            <code>yyerror</code>.
        </p>
        <a name="index-yynerrs-1"></a>
        <p>The variable <code>yynerrs</code> contains the number of syntax errors reported so far. Normally this variable is global; but if you request a pure parser (see <a href="#Pure-Decl">A Pure (Reentrant) Parser</a>) then it is a local variable which
            only the actions can access.
        </p>
        <hr>
        <a name="Action-Features"></a>
        <div class="header">
            <p>
                Next: <a href="#Internationalization" accesskey="n" rel="next">Internationalization</a>, Previous: <a href="#Error-Reporting" accesskey="p" rel="prev">Error Reporting</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Special-Features-for-Use-in-Actions"></a>
        <h3 class="section">4.8 Special Features for Use in Actions</h3>
        <a name="index-summary_002c-action-features"></a>
        <a name="index-action-features-summary"></a>

        <p>Here is a table of Bison constructs, variables and macros that are useful in actions.
        </p>
        <dl>
            <dt><a name="index-_0024_0024"></a>Variable: <strong>$$</strong></dt>
            <dd>
                <p>Acts like a variable that contains the semantic value for the grouping made by the current rule. See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024"></a>Variable: <strong>$</strong> <em><var>n</var></em></dt>
            <dd>
                <p>Acts like a variable that contains the semantic value for the
                    <var>n</var>th component of the current rule. See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024_003c"></a>Variable: <strong>$&lt;</strong> <em><var>typealt</var>&gt;$</em></dt>
            <dd>
                <p>Like <code>$$</code> but specifies alternative <var>typealt</var> in the union specified by the <code>%union</code> declaration. See <a href="#Action-Types">Data
Types of Values in Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024_003c-1"></a>Variable: <strong>$&lt;</strong> <em><var>typealt</var>&gt;<var>n</var></em></dt>
            <dd>
                <p>Like <code>$<var>n</var></code> but specifies alternative <var>typealt</var> in the union specified by the <code>%union</code> declaration. See <a href="#Action-Types">Data Types of Values in Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYABORT-2"></a>Macro: <strong>YYABORT</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Return immediately from <code>yyparse</code>, indicating failure. See <a href="#Parser-Function">The Parser Function <code>yyparse</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYACCEPT-2"></a>Macro: <strong>YYACCEPT</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Return immediately from <code>yyparse</code>, indicating success. See <a href="#Parser-Function">The Parser Function <code>yyparse</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYBACKUP"></a>Macro: <strong>YYBACKUP</strong> <em>(<var>token</var>, <var>value</var>)<code>;</code></em></dt>
            <dd>
                <a name="index-YYBACKUP-1"></a>
                <p>Unshift a token. This macro is allowed only for rules that reduce a single value, and only when there is no lookahead token. It is also disallowed in GLR parsers. It installs a lookahead token with token type <var>token</var> and semantic
                    value <var>value</var>; then it discards the value that was going to be reduced by this rule.
                </p>
                <p>If the macro is used when it is not valid, such as when there is a lookahead token already, then it reports a syntax error with a message &lsquo;<samp>cannot back up</samp>&rsquo; and performs ordinary error recovery.
                </p>
                <p>In either case, the rest of the action is not executed.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYEMPTY"></a>Macro: <strong>YYEMPTY</strong></dt>
            <dd>
                <p>Value stored in <code>yychar</code> when there is no lookahead token.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYEOF"></a>Macro: <strong>YYEOF</strong></dt>
            <dd>
                <p>Value stored in <code>yychar</code> when the lookahead is the end of the input stream.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYERROR-1"></a>Macro: <strong>YYERROR</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Cause an immediate syntax error. This statement initiates error recovery just as if the parser itself had detected an error; however, it does not call <code>yyerror</code>, and does not print any message. If you want to print an error
                    message, call <code>yyerror</code> explicitly before the &lsquo;<samp>YYERROR;</samp>&rsquo; statement. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYRECOVERING"></a>Macro: <strong>YYRECOVERING</strong></dt>
            <dd>
                <a name="index-YYRECOVERING-1"></a>
                <p>The expression <code>YYRECOVERING ()</code> yields 1 when the parser is recovering from a syntax error, and 0 otherwise. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yychar"></a>Variable: <strong>yychar</strong></dt>
            <dd>
                <p>Variable containing either the lookahead token, or <code>YYEOF</code> when the lookahead is the end of the input stream, or <code>YYEMPTY</code> when no lookahead has been performed so the next token is not yet known. Do not modify <code>yychar</code>                    in a deferred semantic action (see <a href="#GLR-Semantic-Actions">GLR Semantic Actions</a>). See <a href="#Lookahead">Lookahead Tokens</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyclearin-1"></a>Macro: <strong>yyclearin</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Discard the current lookahead token. This is useful primarily in error rules. Do not invoke <code>yyclearin</code> in a deferred semantic action (see <a href="#GLR-Semantic-Actions">GLR Semantic Actions</a>). See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyerrok"></a>Macro: <strong>yyerrok</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Resume generating error messages immediately for subsequent syntax errors. This is useful primarily in error rules. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yylloc"></a>Variable: <strong>yylloc</strong></dt>
            <dd>
                <p>Variable containing the lookahead token location when <code>yychar</code> is not set to <code>YYEMPTY</code> or <code>YYEOF</code>. Do not modify <code>yylloc</code> in a deferred semantic action (see <a href="#GLR-Semantic-Actions">GLR Semantic Actions</a>).
                    See <a href="#Actions-and-Locations">Actions and Locations</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yylval"></a>Variable: <strong>yylval</strong></dt>
            <dd>
                <p>Variable containing the lookahead token semantic value when <code>yychar</code> is not set to <code>YYEMPTY</code> or <code>YYEOF</code>. Do not modify <code>yylval</code> in a deferred semantic action (see <a href="#GLR-Semantic-Actions">GLR Semantic Actions</a>).
                    See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0040"></a>Value: <strong>@</strong> <em>$</em></dt>
            <dd>
                <p>Acts like a structure variable containing information on the textual location of the grouping made by the current rule. See <a href="#Tracking-Locations">Tracking Locations</a>.
                </p>




            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0040-1"></a>Value: <strong>@</strong> <em><var>n</var></em></dt>
            <dd>
                <a name="index-_0040n"></a>
                <p>Acts like a structure variable containing information on the textual location of the <var>n</var>th component of the current rule. See <a href="#Tracking-Locations">Tracking Locations</a>.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Internationalization"></a>
        <div class="header">
            <p>
                Previous: <a href="#Action-Features" accesskey="p" rel="prev">Action Features</a>, Up: <a href="#Interface" accesskey="u" rel="up">Interface</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Parser-Internationalization"></a>
        <h3 class="section">4.9 Parser Internationalization</h3>
        <a name="index-internationalization"></a>
        <a name="index-i18n"></a>
        <a name="index-NLS"></a>
        <a name="index-gettext"></a>
        <a name="index-bison_002dpo"></a>

        <p>A Bison-generated parser can print diagnostics, including error and tracing messages. By default, they appear in English. However, Bison also supports outputting diagnostics in the user&rsquo;s native language. To make this work, the user should
            set the usual environment variables. See <a href="http://www.gnu.org/software/gettext/manual/gettext.html#Users">The User&rsquo;s View</a> in <cite>GNU <code>gettext</code> utilities</cite>. For example, the shell command &lsquo;<samp>export LC_ALL=fr_CA.UTF-8</samp>&rsquo;
            might set the user&rsquo;s locale to French Canadian using the UTF-8 encoding. The exact set of available locales depends on the user&rsquo;s installation.
        </p>
        <p>The maintainer of a package that uses a Bison-generated parser enables the internationalization of the parser&rsquo;s output through the following steps. Here we assume a package that uses GNU Autoconf and GNU Automake.
        </p>
        <ol>
            <li>
                <a name="index-bison_002di18n_002em4"></a>
                Into the directory containing the GNU Autoconf macros used by the package &mdash;often called <samp>m4</samp>&mdash; copy the
                <samp>bison-i18n.m4</samp> file installed by Bison under &lsquo;
                <samp>share/aclocal/bison-i18n.m4</samp>&rsquo; in Bison&rsquo;s installation directory. For example:

                <div class="example">
                    <pre class="example">cp /usr/local/share/aclocal/bison-i18n.m4 m4/bison-i18n.m4
</pre></div>

            </li>
            <li>
                <a name="index-BISON_005fI18N"></a>
                <a name="index-BISON_005fLOCALEDIR"></a>
                <a name="index-YYENABLE_005fNLS"></a>
                In the top-level <samp>configure.ac</samp>, after the <code>AM_GNU_GETTEXT</code> invocation, add an invocation of <code>BISON_I18N</code>. This macro is defined in the file <samp>bison-i18n.m4</samp> that you copied earlier. It causes
                &lsquo;
                <samp>configure</samp>&rsquo; to find the value of the
                <code>BISON_LOCALEDIR</code> variable, and it defines the source-language symbol <code>YYENABLE_NLS</code> to enable translations in the Bison-generated parser.

            </li>
            <li> In the <code>main</code> function of your program, designate the directory containing Bison&rsquo;s runtime message catalog, through a call to &lsquo;
                <samp>bindtextdomain</samp>&rsquo; with domain name &lsquo;<samp>bison-runtime</samp>&rsquo;. For example:

                <div class="example">
                    <pre class="example">bindtextdomain (&quot;bison-runtime&quot;, BISON_LOCALEDIR);
</pre></div>

                <p>Typically this appears after any other call <code>bindtextdomain
(PACKAGE, LOCALEDIR)</code> that your package already has. Here we rely on &lsquo;
                    <samp>BISON_LOCALEDIR</samp>&rsquo; to be defined as a string through the
                    <samp>Makefile</samp>.
                </p>
            </li>
            <li> In the <samp>Makefile.am</samp> that controls the compilation of the <code>main</code> function, make &lsquo;<samp>BISON_LOCALEDIR</samp>&rsquo; available as a C preprocessor macro, either in &lsquo;<samp>DEFS</samp>&rsquo; or in &lsquo;<samp>AM_CPPFLAGS</samp>&rsquo;.
                For example:

                <div class="example">
                    <pre class="example">DEFS = @DEFS@ -DBISON_LOCALEDIR='&quot;$(BISON_LOCALEDIR)&quot;'
</pre></div>

                <p>or:
                </p>
                <div class="example">
                    <pre class="example">AM_CPPFLAGS = -DBISON_LOCALEDIR='&quot;$(BISON_LOCALEDIR)&quot;'
</pre></div>

            </li>
            <li> Finally, invoke the command <code>autoreconf</code> to generate the build infrastructure.
            </li>
        </ol>


        <hr>
        <a name="Algorithm"></a>
        <div class="header">
            <p>
                Next: <a href="#Error-Recovery" accesskey="n" rel="next">Error Recovery</a>, Previous: <a href="#Interface" accesskey="p" rel="prev">Interface</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-Bison-Parser-Algorithm"></a>
        <h2 class="chapter">5 The Bison Parser Algorithm</h2>
        <a name="index-Bison-parser-algorithm"></a>
        <a name="index-algorithm-of-parser"></a>
        <a name="index-shifting"></a>
        <a name="index-reduction"></a>
        <a name="index-parser-stack"></a>
        <a name="index-stack_002c-parser"></a>

        <p>As Bison reads tokens, it pushes them onto a stack along with their semantic values. The stack is called the <em>parser stack</em>. Pushing a token is traditionally called <em>shifting</em>.
        </p>
        <p>For example, suppose the infix calculator has read &lsquo;<samp>1 + 5 *</samp>&rsquo;, with a &lsquo;
            <samp>3</samp>&rsquo; to come. The stack will have four elements, one for each token that was shifted.
        </p>
        <p>But the stack does not always have an element for each token read. When the last <var>n</var> tokens and groupings shifted match the components of a grammar rule, they can be combined according to that rule. This is called
            <em>reduction</em>. Those tokens and groupings are replaced on the stack by a single grouping whose symbol is the result (left hand side) of that rule. Running the rule&rsquo;s action is part of the process of reduction, because this is what
            computes the semantic value of the resulting grouping.
        </p>
        <p>For example, if the infix calculator&rsquo;s parser stack contains this:
        </p>
        <div class="example">
            <pre class="example">1 + 5 * 3
</pre></div>

        <p>and the next input token is a newline character, then the last three elements can be reduced to 15 via the rule:
        </p>
        <div class="example">
            <pre class="example">expr: expr '*' expr;
</pre></div>

        <p>Then the stack contains just these three elements:
        </p>
        <div class="example">
            <pre class="example">1 + 15
</pre></div>

        <p>At this point, another reduction can be made, resulting in the single value 16. Then the newline token can be shifted.
        </p>
        <p>The parser tries, by shifts and reductions, to reduce the entire input down to a single grouping whose symbol is the grammar&rsquo;s start-symbol (see <a href="#Language-and-Grammar">Languages and Context-Free Grammars</a>).
        </p>
        <p>This kind of parser is known in the literature as a bottom-up parser.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Lookahead" accesskey="1">Lookahead</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Parser looks one token ahead when deciding what to do.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Shift_002fReduce" accesskey="2">Shift/Reduce</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Conflicts: when either shifting or reduction is valid.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence" accesskey="3">Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Operator precedence works by resolving conflicts.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Contextual-Precedence" accesskey="4">Contextual Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">When an operator&rsquo;s precedence depends on context.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Parser-States" accesskey="5">Parser States</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The parser is a finite-state-machine with stack.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Reduce_002fReduce" accesskey="6">Reduce/Reduce</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">When two rules are applicable in the same situation.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mysterious-Conflicts" accesskey="7">Mysterious Conflicts</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Conflicts that look unjustified.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tuning-LR" accesskey="8">Tuning LR</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to tune fundamental aspects of LR-based parsing.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Generalized-LR-Parsing" accesskey="9">Generalized LR Parsing</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Parsing arbitrary context-free grammars.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Memory-Management">Memory Management</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">What happens when memory is exhausted. How to avoid it.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Lookahead"></a>
        <div class="header">
            <p>
                Next: <a href="#Shift_002fReduce" accesskey="n" rel="next">Shift/Reduce</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Lookahead-Tokens"></a>
        <h3 class="section">5.1 Lookahead Tokens</h3>
        <a name="index-lookahead-token"></a>

        <p>The Bison parser does <em>not</em> always reduce immediately as soon as the last <var>n</var> tokens and groupings match a rule. This is because such a simple strategy is inadequate to handle most languages. Instead, when a reduction is possible,
            the parser sometimes &ldquo;looks ahead&rdquo; at the next token in order to decide what to do.
        </p>
        <p>When a token is read, it is not immediately shifted; first it becomes the
            <em>lookahead token</em>, which is not on the stack. Now the parser can perform one or more reductions of tokens and groupings on the stack, while the lookahead token remains off to the side. When no more reductions should take place, the
            lookahead token is shifted onto the stack. This does not mean that all possible reductions have been done; depending on the token type of the lookahead token, some rules may choose to delay their application.
        </p>
        <p>Here is a simple case where lookahead is needed. These three rules define expressions which contain binary addition operators and postfix unary factorial operators (&lsquo;<samp>!</samp>&rsquo;), and allow parentheses for grouping.
        </p>
        <div class="example">
            <pre class="example">expr:
  term '+' expr
| term
;
</pre><pre class="example">
</pre><pre class="example">term:
  '(' expr ')'
| term '!'
| &quot;number&quot;
;
</pre></div>

        <p>Suppose that the tokens &lsquo;<samp>1&nbsp;+&nbsp;2</samp>&rsquo;
            <!-- /@w -->have been read and shifted; what should be done? If the following token is &lsquo;<samp>)</samp>&rsquo;, then the first three tokens must be reduced to form an <code>expr</code>. This is the only valid course, because shifting the &lsquo;<samp>)</samp>&rsquo;
            would produce a sequence of symbols
            <code>term&nbsp;')'</code>
            <!-- /@w -->, and no rule allows this.
        </p>
        <p>If the following token is &lsquo;<samp>!</samp>&rsquo;, then it must be shifted immediately so that &lsquo;<samp>2&nbsp;!</samp>&rsquo;
            <!-- /@w -->can be reduced to make a <code>term</code>. If instead the parser were to reduce before shifting, &lsquo;<samp>1&nbsp;+&nbsp;2</samp>&rsquo;
            <!-- /@w -->would become an
            <code>expr</code>. It would then be impossible to shift the &lsquo;<samp>!</samp>&rsquo; because doing so would produce on the stack the sequence of symbols <code>expr
'!'</code>. No rule allows that sequence.
        </p>
        <a name="index-yychar-3"></a>
        <a name="index-yylval-5"></a>
        <a name="index-yylloc-5"></a>
        <p>The lookahead token is stored in the variable <code>yychar</code>. Its semantic value and location, if any, are stored in the variables
            <code>yylval</code> and <code>yylloc</code>. See <a href="#Action-Features">Special Features for Use in Actions</a>.
        </p>
        <hr>
        <a name="Shift_002fReduce"></a>
        <div class="header">
            <p>
                Next: <a href="#Precedence" accesskey="n" rel="next">Precedence</a>, Previous: <a href="#Lookahead" accesskey="p" rel="prev">Lookahead</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Shift_002fReduce-Conflicts"></a>
        <h3 class="section">5.2 Shift/Reduce Conflicts</h3>
        <a name="index-conflicts-3"></a>
        <a name="index-shift_002freduce-conflicts-2"></a>
        <a name="index-dangling-else"></a>
        <a name="index-else_002c-dangling"></a>

        <p>Suppose we are parsing a language which has if-then and if-then-else statements, with a pair of rules like this:
        </p>
        <div class="example">
            <pre class="example">if_stmt:
  &quot;if&quot; expr &quot;then&quot; stmt
| &quot;if&quot; expr &quot;then&quot; stmt &quot;else&quot; stmt
;
</pre></div>

        <p>Here <code>&quot;if&quot;</code>, <code>&quot;then&quot;</code> and <code>&quot;else&quot;</code> are terminal symbols for specific keyword tokens.
        </p>
        <p>When the <code>&quot;else&quot;</code> token is read and becomes the lookahead token, the contents of the stack (assuming the input is valid) are just right for reduction by the first rule. But it is also legitimate to shift the
            <code>&quot;else&quot;</code>, because that would lead to eventual reduction by the second rule.
        </p>
        <p>This situation, where either a shift or a reduction would be valid, is called a <em>shift/reduce conflict</em>. Bison is designed to resolve these conflicts by choosing to shift, unless otherwise directed by operator precedence declarations. To
            see the reason for this, let&rsquo;s contrast it with the other alternative.
        </p>
        <p>Since the parser prefers to shift the <code>&quot;else&quot;</code>, the result is to attach the else-clause to the innermost if-statement, making these two inputs equivalent:
        </p>
        <div class="example">
            <pre class="example">if x then if y then win; else lose;

if x then do; if y then win; else lose; end;
</pre></div>

        <p>But if the parser chose to reduce when possible rather than shift, the result would be to attach the else-clause to the outermost if-statement, making these two inputs equivalent:
        </p>
        <div class="example">
            <pre class="example">if x then if y then win; else lose;

if x then do; if y then win; end; else lose;
</pre></div>

        <p>The conflict exists because the grammar as written is ambiguous: either parsing of the simple nested if-statement is legitimate. The established convention is that these ambiguities are resolved by attaching the else-clause to the innermost if-statement;
            this is what Bison accomplishes by choosing to shift rather than reduce. (It would ideally be cleaner to write an unambiguous grammar, but that is very hard to do in this case.) This particular ambiguity was first encountered in the specifications
            of Algol 60 and is called the &ldquo;dangling <code>else</code>&rdquo; ambiguity.
        </p>
        <p>To avoid warnings from Bison about predictable, legitimate shift/reduce conflicts, you can use the <code>%expect <var>n</var></code> declaration. There will be no warning as long as the number of shift/reduce conflicts is exactly <var>n</var>,
            and Bison will report an error if there is a different number. See <a href="#Expect-Decl">Suppressing Conflict Warnings</a>. However, we don&rsquo;t recommend the use of <code>%expect</code> (except &lsquo;<samp>%expect 0</samp>&rsquo;!),
            as an equal number of conflicts does not mean that they are the <em>same</em>. When possible, you should rather use precedence directives to <em>fix</em> the conflicts explicitly (see <a href="#Non-Operators">Using Precedence For Non
Operators</a>).
        </p>
        <p>The definition of <code>if_stmt</code> above is solely to blame for the conflict, but the conflict does not actually appear without additional rules. Here is a complete Bison grammar file that actually manifests the conflict:
        </p>
        <div class="example">
            <pre class="example">%%
</pre><pre class="example">stmt:
  expr
| if_stmt
;
</pre><pre class="example">
</pre><pre class="example">if_stmt:
  &quot;if&quot; expr &quot;then&quot; stmt
| &quot;if&quot; expr &quot;then&quot; stmt &quot;else&quot; stmt
;
</pre><pre class="example">
expr:
  &quot;identifier&quot;
;
</pre></div>

        <hr>
        <a name="Precedence"></a>
        <div class="header">
            <p>
                Next: <a href="#Contextual-Precedence" accesskey="n" rel="next">Contextual Precedence</a>, Previous: <a href="#Shift_002fReduce" accesskey="p" rel="prev">Shift/Reduce</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Operator-Precedence-1"></a>
        <h3 class="section">5.3 Operator Precedence</h3>
        <a name="index-operator-precedence"></a>
        <a name="index-precedence-of-operators"></a>

        <p>Another situation where shift/reduce conflicts appear is in arithmetic expressions. Here shifting is not always the preferred resolution; the Bison declarations for operator precedence allow you to specify when to shift and when to reduce.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Why-Precedence" accesskey="1">Why Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">An example showing why precedence is needed.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Using-Precedence" accesskey="2">Using Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to specify precedence and associativity.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence-Only" accesskey="3">Precedence Only</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How to specify precedence only.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Precedence-Examples" accesskey="4">Precedence Examples</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How these features are used in the previous example.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#How-Precedence" accesskey="5">How Precedence</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">How they work.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Non-Operators" accesskey="6">Non Operators</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using precedence for general conflicts.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Why-Precedence"></a>
        <div class="header">
            <p>
                Next: <a href="#Using-Precedence" accesskey="n" rel="next">Using Precedence</a>, Up: <a href="#Precedence" accesskey="u" rel="up">Precedence</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="When-Precedence-is-Needed"></a>
        <h4 class="subsection">5.3.1 When Precedence is Needed</h4>

        <p>Consider the following ambiguous grammar fragment (ambiguous because the input &lsquo;<samp>1&nbsp;<span class="nolinebreak">-</span>&nbsp;2&nbsp;*&nbsp;3</samp>&rsquo;
            <!-- /@w -->can be parsed in two different ways):
        </p>
        <div class="example">
            <pre class="example">expr:
  expr '-' expr
| expr '*' expr
| expr '&lt;' expr
| '(' expr ')'
&hellip;
;
</pre></div>

        <p>Suppose the parser has seen the tokens &lsquo;<samp>1</samp>&rsquo;, &lsquo;<samp>-</samp>&rsquo; and &lsquo;<samp>2</samp>&rsquo;; should it reduce them via the rule for the subtraction operator? It depends on the next token. Of course, if the
            next token is &lsquo;<samp>)</samp>&rsquo;, we must reduce; shifting is invalid because no single rule can reduce the token sequence &lsquo;<samp><span class="nolinebreak">-</span>&nbsp;2&nbsp;)</samp>&rsquo;
            <!-- /@w -->or anything starting with that. But if the next token is &lsquo;<samp>*</samp>&rsquo; or &lsquo;<samp>&lt;</samp>&rsquo;, we have a choice: either shifting or reduction would allow the parse to complete, but with different results.
        </p>
        <p>To decide which one Bison should do, we must consider the results. If the next operator token <var>op</var> is shifted, then it must be reduced first in order to permit another opportunity to reduce the difference. The result is (in effect) &lsquo;<samp>1&nbsp;<span class="nolinebreak">-</span>&nbsp;(2&nbsp;<var>op</var>&nbsp;3)</samp>&rsquo;
            <!-- /@w -->. On the other hand, if the subtraction is reduced before shifting <var>op</var>, the result is &lsquo;<samp>(1&nbsp;<span class="nolinebreak">-</span>&nbsp;2)&nbsp;<var>op</var>&nbsp;3</samp>&rsquo;
            <!-- /@w -->. Clearly, then, the choice of shift or reduce should depend on the relative precedence of the operators &lsquo;
            <samp>-</samp>&rsquo; and <var>op</var>: &lsquo;<samp>*</samp>&rsquo; should be shifted first, but not &lsquo;
            <samp>&lt;</samp>&rsquo;.
        </p>
        <a name="index-associativity"></a>
        <p>What about input such as &lsquo;<samp>1&nbsp;<span class="nolinebreak">-</span>&nbsp;2&nbsp;<span class="nolinebreak">-</span>&nbsp;5</samp>&rsquo;
            <!-- /@w -->; should this be &lsquo;
            <samp>(1&nbsp;<span class="nolinebreak">-</span>&nbsp;2)&nbsp;<span class="nolinebreak">-</span>&nbsp;5</samp>&rsquo;
            <!-- /@w -->or should it be &lsquo;<samp>1&nbsp;<span class="nolinebreak">-</span>&nbsp;(2&nbsp;<span class="nolinebreak">-</span>&nbsp;5)</samp>&rsquo;
            <!-- /@w -->? For most operators we prefer the former, which is called <em>left association</em>. The latter alternative, <em>right association</em>, is desirable for assignment operators. The choice of left or right association is a matter of whether
            the parser chooses to shift or reduce when the stack contains &lsquo;<samp>1&nbsp;<span class="nolinebreak">-</span>&nbsp;2</samp>&rsquo;
            <!-- /@w -->and the lookahead token is &lsquo;<samp>-</samp>&rsquo;: shifting makes right-associativity.
        </p>
        <hr>
        <a name="Using-Precedence"></a>
        <div class="header">
            <p>
                Next: <a href="#Precedence-Only" accesskey="n" rel="next">Precedence Only</a>, Previous: <a href="#Why-Precedence" accesskey="p" rel="prev">Why Precedence</a>, Up: <a href="#Precedence" accesskey="u" rel="up">Precedence</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Specifying-Operator-Precedence"></a>
        <h4 class="subsection">5.3.2 Specifying Operator Precedence</h4>
        <a name="index-_0025left-1"></a>
        <a name="index-_0025nonassoc-1"></a>
        <a name="index-_0025precedence"></a>
        <a name="index-_0025right-1"></a>

        <p>Bison allows you to specify these choices with the operator precedence declarations <code>%left</code> and <code>%right</code>. Each such declaration contains a list of tokens, which are operators whose precedence and associativity is being declared.
            The <code>%left</code> declaration makes all those operators left-associative and the <code>%right</code> declaration makes them right-associative. A third alternative is <code>%nonassoc</code>, which declares that it is a syntax error to
            find the same operator twice &ldquo;in a row&rdquo;. The last alternative, <code>%precedence</code>, allows to define only precedence and no associativity at all. As a result, any associativity-related conflict that remains will be reported
            as an compile-time error. The directive <code>%nonassoc</code> creates run-time error: using the operator in a associative way is a syntax error. The directive <code>%precedence</code> creates compile-time errors: an operator
            <em>can</em> be involved in an associativity-related conflict, contrary to what expected the grammar author.
        </p>
        <p>The relative precedence of different operators is controlled by the order in which they are declared. The first precedence/associativity declaration in the file declares the operators whose precedence is lowest, the next such declaration declares
            the operators whose precedence is a little higher, and so on.
        </p>
        <hr>
        <a name="Precedence-Only"></a>
        <div class="header">
            <p>
                Next: <a href="#Precedence-Examples" accesskey="n" rel="next">Precedence Examples</a>, Previous: <a href="#Using-Precedence" accesskey="p" rel="prev">Using Precedence</a>, Up: <a href="#Precedence" accesskey="u" rel="up">Precedence</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Specifying-Precedence-Only"></a>
        <h4 class="subsection">5.3.3 Specifying Precedence Only</h4>
        <a name="index-_0025precedence-1"></a>

        <p>Since POSIX Yacc defines only <code>%left</code>, <code>%right</code>, and
            <code>%nonassoc</code>, which all defines precedence and associativity, little attention is paid to the fact that precedence cannot be defined without defining associativity. Yet, sometimes, when trying to solve a conflict, precedence suffices.
            In such a case, using <code>%left</code>,
            <code>%right</code>, or <code>%nonassoc</code> might hide future (associativity related) conflicts that would remain hidden.
        </p>
        <p>The dangling <code>else</code> ambiguity (see <a href="#Shift_002fReduce">Shift/Reduce
Conflicts</a>) can be solved explicitly. This shift/reduce conflicts occurs in the following situation, where the period denotes the current parsing state:
        </p>
        <div class="example">
            <pre class="example">if <var>e1</var> then if  <var>e2</var> then <var>s1</var> . else <var>s2</var>
</pre></div>

        <p>The conflict involves the reduction of the rule &lsquo;<samp>IF expr THEN
stmt</samp>&rsquo;, which precedence is by default that of its last token (
            <code>THEN</code>), and the shifting of the token <code>ELSE</code>. The usual disambiguation (attach the <code>else</code> to the closest <code>if</code>), shifting must be preferred, i.e., the precedence of <code>ELSE</code> must be higher
            than that of <code>THEN</code>. But neither is expected to be involved in an associativity related conflict, which can be specified as follows.
        </p>
        <div class="example">
            <pre class="example">%precedence THEN
%precedence ELSE
</pre></div>

        <p>The unary-minus is another typical example where associativity is usually over-specified, see <a href="#Infix-Calc">Infix Notation
Calculator - <code>calc</code></a>. The <code>%left</code> directive is traditionally used to declare the precedence of <code>NEG</code>, which is more than needed since it also defines its associativity. While this is harmless in the traditional example,
            who knows how <code>NEG</code> might be used in future evolutions of the grammar&hellip;
        </p>
        <hr>
        <a name="Precedence-Examples"></a>
        <div class="header">
            <p>
                Next: <a href="#How-Precedence" accesskey="n" rel="next">How Precedence</a>, Previous: <a href="#Precedence-Only" accesskey="p" rel="prev">Precedence Only</a>, Up: <a href="#Precedence" accesskey="u" rel="up">Precedence</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Precedence-Examples-1"></a>
        <h4 class="subsection">5.3.4 Precedence Examples</h4>

        <p>In our example, we would want the following declarations:
        </p>
        <div class="example">
            <pre class="example">%left '&lt;'
%left '-'
%left '*'
</pre></div>

        <p>In a more complete example, which supports other operators as well, we would declare them in groups of equal precedence. For example, <code>'+'</code> is declared with <code>'-'</code>:
        </p>
        <div class="example">
            <pre class="example">%left '&lt;' '&gt;' '=' &quot;!=&quot; &quot;&lt;=&quot; &quot;&gt;=&quot;
%left '+' '-'
%left '*' '/'
</pre></div>

        <hr>
        <a name="How-Precedence"></a>
        <div class="header">
            <p>
                Next: <a href="#Non-Operators" accesskey="n" rel="next">Non Operators</a>, Previous: <a href="#Precedence-Examples" accesskey="p" rel="prev">Precedence Examples</a>, Up: <a href="#Precedence" accesskey="u" rel="up">Precedence</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="How-Precedence-Works"></a>
        <h4 class="subsection">5.3.5 How Precedence Works</h4>

        <p>The first effect of the precedence declarations is to assign precedence levels to the terminal symbols declared. The second effect is to assign precedence levels to certain rules: each rule gets its precedence from the last terminal symbol mentioned
            in the components. (You can also specify explicitly the precedence of a rule. See <a href="#Contextual-Precedence">Context-Dependent Precedence</a>.)
        </p>
        <p>Finally, the resolution of conflicts works by comparing the precedence of the rule being considered with that of the lookahead token. If the token&rsquo;s precedence is higher, the choice is to shift. If the rule&rsquo;s precedence is higher,
            the choice is to reduce. If they have equal precedence, the choice is made based on the associativity of that precedence level. The verbose output file made by &lsquo;<samp>-v</samp>&rsquo; (see <a href="#Invocation">Invoking Bison</a>) says
            how each conflict was resolved.
        </p>
        <p>Not all rules and not all tokens have precedence. If either the rule or the lookahead token has no precedence, then the default is to shift.
        </p>
        <hr>
        <a name="Non-Operators"></a>
        <div class="header">
            <p>
                Previous: <a href="#How-Precedence" accesskey="p" rel="prev">How Precedence</a>, Up: <a href="#Precedence" accesskey="u" rel="up">Precedence</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Using-Precedence-For-Non-Operators"></a>
        <h4 class="subsection">5.3.6 Using Precedence For Non Operators</h4>

        <p>Using properly precedence and associativity directives can help fixing shift/reduce conflicts that do not involve arithmetics-like operators. For instance, the &ldquo;dangling <code>else</code>&rdquo; problem (see <a href="#Shift_002fReduce">Shift/Reduce Conflicts</a>)
            can be solved elegantly in two different ways.
        </p>
        <p>In the present case, the conflict is between the token <code>&quot;else&quot;</code> willing to be shifted, and the rule &lsquo;<samp>if_stmt: &quot;if&quot; expr &quot;then&quot; stmt</samp>&rsquo;, asking for reduction. By default, the precedence
            of a rule is that of its last token, here <code>&quot;then&quot;</code>, so the conflict will be solved appropriately by giving <code>&quot;else&quot;</code> a precedence higher than that of <code>&quot;then&quot;</code>, for instance as follows:
        </p>
        <div class="example">
            <pre class="example">%precedence &quot;then&quot;
%precedence &quot;else&quot;
</pre></div>

        <p>Alternatively, you may give both tokens the same precedence, in which case associativity is used to solve the conflict. To preserve the shift action, use right associativity:
        </p>
        <div class="example">
            <pre class="example">%right &quot;then&quot; &quot;else&quot;
</pre></div>

        <p>Neither solution is perfect however. Since Bison does not provide, so far, &ldquo;scoped&rdquo; precedence, both force you to declare the precedence of these keywords with respect to the other operators your grammar. Therefore, instead of being
            warned about new conflicts you would be unaware of (e.g., a shift/reduce conflict due to &lsquo;<samp>if test then 1 else 2 + 3</samp>&rsquo; being ambiguous: &lsquo;<samp>if test then 1 else (2 + 3)</samp>&rsquo; or &lsquo;<samp>(if test then 1
else 2) + 3</samp>&rsquo;?), the conflict will be already &ldquo;fixed&rdquo;.
        </p>
        <hr>
        <a name="Contextual-Precedence"></a>
        <div class="header">
            <p>
                Next: <a href="#Parser-States" accesskey="n" rel="next">Parser States</a>, Previous: <a href="#Precedence" accesskey="p" rel="prev">Precedence</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Context_002dDependent-Precedence"></a>
        <h3 class="section">5.4 Context-Dependent Precedence</h3>
        <a name="index-context_002ddependent-precedence"></a>
        <a name="index-unary-operator-precedence"></a>
        <a name="index-precedence_002c-context_002ddependent"></a>
        <a name="index-precedence_002c-unary-operator"></a>
        <a name="index-_0025prec"></a>

        <p>Often the precedence of an operator depends on the context. This sounds outlandish at first, but it is really very common. For example, a minus sign typically has a very high precedence as a unary operator, and a somewhat lower precedence (lower
            than multiplication) as a binary operator.
        </p>
        <p>The Bison precedence declarations can only be used once for a given token; so a token has only one precedence declared in this way. For context-dependent precedence, you need to use an additional mechanism: the <code>%prec</code> modifier for
            rules.
        </p>
        <p>The <code>%prec</code> modifier declares the precedence of a particular rule by specifying a terminal symbol whose precedence should be used for that rule. It&rsquo;s not necessary for that symbol to appear otherwise in the rule. The modifier&rsquo;s
            syntax is:
        </p>
        <div class="example">
            <pre class="example">%prec <var>terminal-symbol</var>
</pre></div>

        <p>and it is written after the components of the rule. Its effect is to assign the rule the precedence of <var>terminal-symbol</var>, overriding the precedence that would be deduced for it in the ordinary way. The altered rule precedence then affects
            how conflicts involving that rule are resolved (see <a href="#Precedence">Operator Precedence</a>).
        </p>
        <p>Here is how <code>%prec</code> solves the problem of unary minus. First, declare a precedence for a fictitious terminal symbol named <code>UMINUS</code>. There are no tokens of this type, but the symbol serves to stand for its precedence:
        </p>
        <div class="example">
            <pre class="example">&hellip;
%left '+' '-'
%left '*'
%left UMINUS
</pre></div>

        <p>Now the precedence of <code>UMINUS</code> can be used in specific rules:
        </p>
        <div class="example">
            <pre class="example">exp:
  &hellip;
| exp '-' exp
  &hellip;
| '-' exp %prec UMINUS
</pre></div>


        <hr>
        <a name="Parser-States"></a>
        <div class="header">
            <p>
                Next: <a href="#Reduce_002fReduce" accesskey="n" rel="next">Reduce/Reduce</a>, Previous: <a href="#Contextual-Precedence" accesskey="p" rel="prev">Contextual Precedence</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Parser-States-1"></a>
        <h3 class="section">5.5 Parser States</h3>
        <a name="index-finite_002dstate-machine"></a>
        <a name="index-parser-state"></a>
        <a name="index-state-_0028of-parser_0029"></a>

        <p>The function <code>yyparse</code> is implemented using a finite-state machine. The values pushed on the parser stack are not simply token type codes; they represent the entire sequence of terminal and nonterminal symbols at or near the top of
            the stack. The current state collects all the information about previous input which is relevant to deciding what to do next.
        </p>
        <p>Each time a lookahead token is read, the current parser state together with the type of lookahead token are looked up in a table. This table entry can say, &ldquo;Shift the lookahead token.&rdquo; In this case, it also specifies the new parser
            state, which is pushed onto the top of the parser stack. Or it can say, &ldquo;Reduce using rule number <var>n</var>.&rdquo; This means that a certain number of tokens or groupings are taken off the top of the stack, and replaced by one grouping.
            In other words, that number of states are popped from the stack, and one new state is pushed.
        </p>
        <p>There is one other alternative: the table can say that the lookahead token is erroneous in the current state. This causes error processing to begin (see <a href="#Error-Recovery">Error Recovery</a>).
        </p>
        <hr>
        <a name="Reduce_002fReduce"></a>
        <div class="header">
            <p>
                Next: <a href="#Mysterious-Conflicts" accesskey="n" rel="next">Mysterious Conflicts</a>, Previous: <a href="#Parser-States" accesskey="p" rel="prev">Parser States</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Reduce_002fReduce-Conflicts"></a>
        <h3 class="section">5.6 Reduce/Reduce Conflicts</h3>
        <a name="index-reduce_002freduce-conflict"></a>
        <a name="index-conflicts_002c-reduce_002freduce"></a>

        <p>A reduce/reduce conflict occurs if there are two or more rules that apply to the same sequence of input. This usually indicates a serious error in the grammar.
        </p>
        <p>For example, here is an erroneous attempt to define a sequence of zero or more <code>word</code> groupings.
        </p>
        <div class="example">
            <pre class="example">sequence:
  %empty         { printf (&quot;empty sequence\n&quot;); }
| maybeword
| sequence word  { printf (&quot;added word %s\n&quot;, $2); }
;
</pre><pre class="example">
</pre><pre class="example">maybeword:
  %empty    { printf (&quot;empty maybeword\n&quot;); }
| word      { printf (&quot;single word %s\n&quot;, $1); }
;
</pre></div>

        <p>The error is an ambiguity: there is more than one way to parse a single
            <code>word</code> into a <code>sequence</code>. It could be reduced to a
            <code>maybeword</code> and then into a <code>sequence</code> via the second rule. Alternatively, nothing-at-all could be reduced into a <code>sequence</code> via the first rule, and this could be combined with the <code>word</code> using the
            third rule for <code>sequence</code>.
        </p>
        <p>There is also more than one way to reduce nothing-at-all into a
            <code>sequence</code>. This can be done directly via the first rule, or indirectly via <code>maybeword</code> and then the second rule.
        </p>
        <p>You might think that this is a distinction without a difference, because it does not change whether any particular input is valid or not. But it does affect which actions are run. One parsing order runs the second rule&rsquo;s action; the other
            runs the first rule&rsquo;s action and the third rule&rsquo;s action. In this example, the output of the program changes.
        </p>
        <p>Bison resolves a reduce/reduce conflict by choosing to use the rule that appears first in the grammar, but it is very risky to rely on this. Every reduce/reduce conflict must be studied and usually eliminated. Here is the proper way to define
            <code>sequence</code>:
        </p>
        <div class="example">
            <pre class="example">sequence:
  %empty         { printf (&quot;empty sequence\n&quot;); }
| sequence word  { printf (&quot;added word %s\n&quot;, $2); }
;
</pre></div>

        <p>Here is another common error that yields a reduce/reduce conflict:
        </p>
        <div class="example">
            <pre class="example">sequence:
  %empty
| sequence words
| sequence redirects
;
</pre><pre class="example">
</pre><pre class="example">words:
  %empty
| words word
;
</pre><pre class="example">
</pre><pre class="example">redirects:
  %empty
| redirects redirect
;
</pre></div>

        <p>The intention here is to define a sequence which can contain either
            <code>word</code> or <code>redirect</code> groupings. The individual definitions of
            <code>sequence</code>, <code>words</code> and <code>redirects</code> are error-free, but the three together make a subtle ambiguity: even an empty input can be parsed in infinitely many ways!
        </p>
        <p>Consider: nothing-at-all could be a <code>words</code>. Or it could be two
            <code>words</code> in a row, or three, or any number. It could equally well be a
            <code>redirects</code>, or two, or any number. Or it could be a <code>words</code> followed by three <code>redirects</code> and another <code>words</code>. And so on.
        </p>
        <p>Here are two ways to correct these rules. First, to make it a single level of sequence:
        </p>
        <div class="example">
            <pre class="example">sequence:
  %empty
| sequence word
| sequence redirect
;
</pre></div>

        <p>Second, to prevent either a <code>words</code> or a <code>redirects</code> from being empty:
        </p>
        <div class="example">
            <pre class="example">sequence:
  %empty
| sequence words
| sequence redirects
;
</pre><pre class="example">
</pre><pre class="example">words:
  word
| words word
;
</pre><pre class="example">
</pre><pre class="example">redirects:
  redirect
| redirects redirect
;
</pre></div>

        <p>Yet this proposal introduces another kind of ambiguity! The input &lsquo;
            <samp>word word</samp>&rsquo; can be parsed as a single <code>words</code> composed of two &lsquo;
            <samp>word</samp>&rsquo;s, or as two one-<code>word</code> <code>words</code> (and likewise for
            <code>redirect</code>/<code>redirects</code>). However this ambiguity is now a shift/reduce conflict, and therefore it can now be addressed with precedence directives.
        </p>
        <p>To simplify the matter, we will proceed with <code>word</code> and <code>redirect</code> being tokens: <code>&quot;word&quot;</code> and <code>&quot;redirect&quot;</code>.
        </p>
        <p>To prefer the longest <code>words</code>, the conflict between the token
            <code>&quot;word&quot;</code> and the rule &lsquo;<samp>sequence: sequence words</samp>&rsquo; must be resolved as a shift. To this end, we use the same techniques as exposed above, see
            <a href="#Non-Operators">Using Precedence For Non Operators</a>. One solution relies on precedences: use <code>%prec</code> to give a lower precedence to the rule:
        </p>
        <div class="example">
            <pre class="example">%precedence &quot;word&quot;
%precedence &quot;sequence&quot;
%%
</pre><pre class="example">sequence:
  %empty
| sequence word      %prec &quot;sequence&quot;
| sequence redirect  %prec &quot;sequence&quot;
;
</pre><pre class="example">
</pre><pre class="example">words:
  word
| words &quot;word&quot;
;
</pre></div>

        <p>Another solution relies on associativity: provide both the token and the rule with the same precedence, but make them right-associative:
        </p>
        <div class="example">
            <pre class="example">%right &quot;word&quot; &quot;redirect&quot;
%%
</pre><pre class="example">sequence:
  %empty
| sequence word      %prec &quot;word&quot;
| sequence redirect  %prec &quot;redirect&quot;
;
</pre></div>

        <hr>
        <a name="Mysterious-Conflicts"></a>
        <div class="header">
            <p>
                Next: <a href="#Tuning-LR" accesskey="n" rel="next">Tuning LR</a>, Previous: <a href="#Reduce_002fReduce" accesskey="p" rel="prev">Reduce/Reduce</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Mysterious-Conflicts-1"></a>
        <h3 class="section">5.7 Mysterious Conflicts</h3>
        <a name="index-Mysterious-Conflicts"></a>

        <p>Sometimes reduce/reduce conflicts can occur that don&rsquo;t look warranted. Here is an example:
        </p>
        <div class="example">
            <pre class="example">%%
def: param_spec return_spec ',';
param_spec:
  type
| name_list ':' type
;
</pre><pre class="example">
</pre><pre class="example">return_spec:
  type
| name ':' type
;
</pre><pre class="example">
type: &quot;id&quot;;

</pre><pre class="example">name: &quot;id&quot;;
name_list:
  name
| name ',' name_list
;
</pre></div>

        <p>It would seem that this grammar can be parsed with only a single token of lookahead: when a <code>param_spec</code> is being read, an <code>&quot;id&quot;</code> is a
            <code>name</code> if a comma or colon follows, or a <code>type</code> if another
            <code>&quot;id&quot;</code> follows. In other words, this grammar is LR(1).
        </p>
        <a name="index-LR"></a>
        <a name="index-LALR"></a>
        <p>However, for historical reasons, Bison cannot by default handle all LR(1) grammars. In this grammar, two contexts, that after an <code>&quot;id&quot;</code> at the beginning of a <code>param_spec</code> and likewise at the beginning of a
            <code>return_spec</code>, are similar enough that Bison assumes they are the same. They appear similar because the same set of rules would be active&mdash;the rule for reducing to a <code>name</code> and that for reducing to a <code>type</code>.
            Bison is unable to determine at that stage of processing that the rules would require different lookahead tokens in the two contexts, so it makes a single parser state for them both. Combining the two contexts causes a conflict later. In parser
            terminology, this occurrence means that the grammar is not LALR(1).
        </p>
        <a name="index-IELR"></a>
        <a name="index-canonical-LR"></a>
        <p>For many practical grammars (specifically those that fall into the non-LR(1) class), the limitations of LALR(1) result in difficulties beyond just mysterious reduce/reduce conflicts. The best way to fix all these problems is to select a different
            parser table construction algorithm. Either IELR(1) or canonical LR(1) would suffice, but the former is more efficient and easier to debug during development. See <a href="#LR-Table-Construction">LR Table Construction</a>, for details. (Bison&rsquo;s
            IELR(1) and canonical LR(1) implementations are experimental. More user feedback will help to stabilize them.)
        </p>
        <p>If you instead wish to work around LALR(1)&rsquo;s limitations, you can often fix a mysterious conflict by identifying the two parser states that are being confused, and adding something to make them look distinct. In the above example, adding
            one rule to
            <code>return_spec</code> as follows makes the problem go away:
        </p>
        <div class="example">
            <pre class="example">&hellip;
return_spec:
  type
| name ':' type
| &quot;id&quot; &quot;bogus&quot;       /* This rule is never used.  */
;
</pre></div>

        <p>This corrects the problem because it introduces the possibility of an additional active rule in the context after the <code>&quot;id&quot;</code> at the beginning of
            <code>return_spec</code>. This rule is not active in the corresponding context in a <code>param_spec</code>, so the two contexts receive distinct parser states. As long as the token <code>&quot;bogus&quot;</code> is never generated by <code>yylex</code>,
            the added rule cannot alter the way actual input is parsed.
        </p>
        <p>In this particular example, there is another way to solve the problem: rewrite the rule for <code>return_spec</code> to use <code>&quot;id&quot;</code> directly instead of via <code>name</code>. This also causes the two confusing contexts to have
            different sets of active rules, because the one for
            <code>return_spec</code> activates the altered rule for <code>return_spec</code> rather than the one for <code>name</code>.
        </p>
        <div class="example">
            <pre class="example">param_spec:
  type
| name_list ':' type
;
</pre><pre class="example">
</pre><pre class="example">return_spec:
  type
| &quot;id&quot; ':' type
;
</pre></div>

        <p>For a more detailed exposition of LALR(1) parsers and parser generators, see <a href="#Bibliography">DeRemer 1982</a>.
        </p>
        <hr>
        <a name="Tuning-LR"></a>
        <div class="header">
            <p>
                Next: <a href="#Generalized-LR-Parsing" accesskey="n" rel="next">Generalized LR Parsing</a>, Previous: <a href="#Mysterious-Conflicts" accesskey="p" rel="prev">Mysterious Conflicts</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Tuning-LR-1"></a>
        <h3 class="section">5.8 Tuning LR</h3>

        <p>The default behavior of Bison&rsquo;s LR-based parsers is chosen mostly for historical reasons, but that behavior is often not robust. For example, in the previous section, we discussed the mysterious conflicts that can be produced by LALR(1),
            Bison&rsquo;s default parser table construction algorithm. Another example is Bison&rsquo;s <code>%define parse.error verbose</code> directive, which instructs the generated parser to produce verbose syntax error messages, which can sometimes
            contain incorrect information.
        </p>
        <p>In this section, we explore several modern features of Bison that allow you to tune fundamental aspects of the generated LR-based parsers. Some of these features easily eliminate shortcomings like those mentioned above. Others can be helpful purely
            for understanding your parser.
        </p>
        <p>Most of the features discussed in this section are still experimental. More user feedback will help to stabilize them.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#LR-Table-Construction" accesskey="1">LR Table Construction</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Choose a different construction algorithm.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Default-Reductions" accesskey="2">Default Reductions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Disable default reductions.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#LAC" accesskey="3">LAC</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Correct lookahead sets in the parser states.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Unreachable-States" accesskey="4">Unreachable States</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Keep unreachable parser states for debugging.
                </td>
            </tr>
        </table>

        <hr>
        <a name="LR-Table-Construction"></a>
        <div class="header">
            <p>
                Next: <a href="#Default-Reductions" accesskey="n" rel="next">Default Reductions</a>, Up: <a href="#Tuning-LR" accesskey="u" rel="up">Tuning LR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="LR-Table-Construction-1"></a>
        <h4 class="subsection">5.8.1 LR Table Construction</h4>
        <a name="index-Mysterious-Conflict"></a>
        <a name="index-LALR-1"></a>
        <a name="index-IELR-1"></a>
        <a name="index-canonical-LR-1"></a>
        <a name="index-_0025define-lr_002etype-1"></a>

        <p>For historical reasons, Bison constructs LALR(1) parser tables by default. However, LALR does not possess the full language-recognition power of LR. As a result, the behavior of parsers employing LALR parser tables is often mysterious. We presented
            a simple example of this effect in <a href="#Mysterious-Conflicts">Mysterious Conflicts</a>.
        </p>
        <p>As we also demonstrated in that example, the traditional approach to eliminating such mysterious behavior is to restructure the grammar. Unfortunately, doing so correctly is often difficult. Moreover, merely discovering that LALR causes mysterious
            behavior in your parser can be difficult as well.
        </p>
        <p>Fortunately, Bison provides an easy way to eliminate the possibility of such mysterious behavior altogether. You simply need to activate a more powerful parser table construction algorithm by using the <code>%define lr.type</code> directive.
        </p>
        <dl>
            <dt><a name="index-_0025define-lr_002etype-2"></a>Directive: <strong>%define lr.type</strong> <em><var>type</var></em></dt>
            <dd>
                <p>Specify the type of parser tables within the LR(1) family. The accepted values for <var>type</var> are:
                </p>
                <ul>
                    <li> <code>lalr</code> (default)
                    </li>
                    <li> <code>ielr</code>
                    </li>
                    <li> <code>canonical-lr</code>
                    </li>
                </ul>

                <p>(This feature is experimental. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <p>For example, to activate IELR, you might add the following directive to you grammar file:
        </p>
        <div class="example">
            <pre class="example">%define lr.type ielr
</pre></div>

        <p>For the example in <a href="#Mysterious-Conflicts">Mysterious Conflicts</a>, the mysterious conflict is then eliminated, so there is no need to invest time in comprehending the conflict or restructuring the grammar to fix it. If, during future
            development, the grammar evolves such that all mysterious behavior would have disappeared using just LALR, you need not fear that continuing to use IELR will result in unnecessarily large parser tables. That is, IELR generates LALR tables
            when LALR (using a deterministic parsing algorithm) is sufficient to support the full language-recognition power of LR. Thus, by enabling IELR at the start of grammar development, you can safely and completely eliminate the need to consider
            LALR&rsquo;s shortcomings.
        </p>
        <p>While IELR is almost always preferable, there are circumstances where LALR or the canonical LR parser tables described by Knuth (see <a href="#Bibliography">Knuth 1965</a>) can be useful. Here we summarize the relative advantages of each parser
            table construction algorithm within Bison:
        </p>
        <ul>
            <li> LALR

                <p>There are at least two scenarios where LALR can be worthwhile:
                </p>
                <ul>
                    <li> GLR without static conflict resolution.

                        <a name="index-GLR-with-LALR"></a>
                        <p>When employing GLR parsers (see <a href="#GLR-Parsers">GLR Parsers</a>), if you do not resolve any conflicts statically (for example, with <code>%left</code> or <code>%precedence</code>), then the parser explores all potential
                            parses of any given input. In this case, the choice of parser table construction algorithm is guaranteed not to alter the language accepted by the parser. LALR parser tables are the smallest parser tables Bison can currently
                            construct, so they may then be preferable. Nevertheless, once you begin to resolve conflicts statically, GLR behaves more like a deterministic parser in the syntactic contexts where those conflicts appear, and so either IELR
                            or canonical LR can then be helpful to avoid LALR&rsquo;s mysterious behavior.
                        </p>
                    </li>
                    <li> Malformed grammars.

                        <p>Occasionally during development, an especially malformed grammar with a major recurring flaw may severely impede the IELR or canonical LR parser table construction algorithm. LALR can be a quick way to construct parser tables in
                            order to investigate such problems while ignoring the more subtle differences from IELR and canonical LR.
                        </p>
                    </li>
                </ul>

            </li>
            <li> IELR

                <p>IELR (Inadequacy Elimination LR) is a minimal LR algorithm. That is, given any grammar (LR or non-LR), parsers using IELR or canonical LR parser tables always accept exactly the same set of sentences. However, like LALR, IELR merges parser
                    states during parser table construction so that the number of parser states is often an order of magnitude less than for canonical LR. More importantly, because canonical LR&rsquo;s extra parser states may contain duplicate conflicts
                    in the case of non-LR grammars, the number of conflicts for IELR is often an order of magnitude less as well. This effect can significantly reduce the complexity of developing a grammar.
                </p>
            </li>
            <li> Canonical LR

                <a name="index-delayed-syntax-error-detection"></a>
                <a name="index-LAC"></a>
                <a name="index-_0025nonassoc-2"></a>
                <p>While inefficient, canonical LR parser tables can be an interesting means to explore a grammar because they possess a property that IELR and LALR tables do not. That is, if <code>%nonassoc</code> is not used and default reductions are
                    left disabled (see <a href="#Default-Reductions">Default Reductions</a>), then, for every left context of every canonical LR state, the set of tokens accepted by that state is guaranteed to be the exact set of tokens that is syntactically
                    acceptable in that left context. It might then seem that an advantage of canonical LR parsers in production is that, under the above constraints, they are guaranteed to detect a syntax error as soon as possible without performing any
                    unnecessary reductions. However, IELR parsers that use LAC are also able to achieve this behavior without sacrificing <code>%nonassoc</code> or default reductions. For details and a few caveats of LAC, see <a href="#LAC">LAC</a>.
                </p>
            </li>
        </ul>

        <p>For a more detailed exposition of the mysterious behavior in LALR parsers and the benefits of IELR, see <a href="#Bibliography">Denny 2008 March</a>, and
            <a href="#Bibliography">Denny 2010 November</a>.
        </p>
        <hr>
        <a name="Default-Reductions"></a>
        <div class="header">
            <p>
                Next: <a href="#LAC" accesskey="n" rel="next">LAC</a>, Previous: <a href="#LR-Table-Construction" accesskey="p" rel="prev">LR Table Construction</a>, Up: <a href="#Tuning-LR" accesskey="u" rel="up">Tuning LR</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Default-Reductions-1"></a>
        <h4 class="subsection">5.8.2 Default Reductions</h4>
        <a name="index-default-reductions"></a>
        <a name="index-_0025define-lr_002edefault_002dreduction-1"></a>
        <a name="index-_0025nonassoc-3"></a>

        <p>After parser table construction, Bison identifies the reduction with the largest lookahead set in each parser state. To reduce the size of the parser state, traditional Bison behavior is to remove that lookahead set and to assign that reduction
            to be the default parser action. Such a reduction is known as a <em>default reduction</em>.
        </p>
        <p>Default reductions affect more than the size of the parser tables. They also affect the behavior of the parser:
        </p>
        <ul>
            <li> Delayed <code>yylex</code> invocations.

                <a name="index-delayed-yylex-invocations"></a>
                <a name="index-consistent-states"></a>
                <a name="index-defaulted-states"></a>
                <p>A <em>consistent state</em> is a state that has only one possible parser action. If that action is a reduction and is encoded as a default reduction, then that consistent state is called a <em>defaulted state</em>. Upon reaching a defaulted
                    state, a Bison-generated parser does not bother to invoke <code>yylex</code> to fetch the next token before performing the reduction. In other words, whether default reductions are enabled in consistent states determines how soon a
                    Bison-generated parser invokes <code>yylex</code> for a token: immediately when it <em>reaches</em> that token in the input or when it eventually <em>needs</em> that token as a lookahead to determine the next parser action. Traditionally,
                    default reductions are enabled, and so the parser exhibits the latter behavior.
                </p>
                <p>The presence of defaulted states is an important consideration when designing <code>yylex</code> and the grammar file. That is, if the behavior of
                    <code>yylex</code> can influence or be influenced by the semantic actions associated with the reductions in defaulted states, then the delay of the next <code>yylex</code> invocation until after those reductions is significant. For
                    example, the semantic actions might pop a scope stack that <code>yylex</code> uses to determine what token to return. Thus, the delay might be necessary to ensure that <code>yylex</code> does not look up the next token in a scope that
                    should already be considered closed.
                </p>
            </li>
            <li> Delayed syntax error detection.

                <a name="index-delayed-syntax-error-detection-1"></a>
                <p>When the parser fetches a new token by invoking <code>yylex</code>, it checks whether there is an action for that token in the current parser state. The parser detects a syntax error if and only if either (1) there is no action for that
                    token or (2) the action for that token is the error action (due to the use of <code>%nonassoc</code>). However, if there is a default reduction in that state (which might or might not be a defaulted state), then it is impossible for
                    condition 1 to exist. That is, all tokens have an action. Thus, the parser sometimes fails to detect the syntax error until it reaches a later state.
                </p>
                <a name="index-LAC-1"></a>
                <p>While default reductions never cause the parser to accept syntactically incorrect sentences, the delay of syntax error detection can have unexpected effects on the behavior of the parser. However, the delay can be caused anyway by parser
                    state merging and the use of <code>%nonassoc</code>, and it can be fixed by another Bison feature, LAC. We discuss the effects of delayed syntax error detection and LAC more in the next section (see <a href="#LAC">LAC</a>).
                </p>
            </li>
        </ul>

        <p>For canonical LR, the only default reduction that Bison enables by default is the accept action, which appears only in the accepting state, which has no other action and is thus a defaulted state. However, the default accept action does not delay
            any <code>yylex</code> invocation or syntax error detection because the accept action ends the parse.
        </p>
        <p>For LALR and IELR, Bison enables default reductions in nearly all states by default. There are only two exceptions. First, states that have a shift action on the <code>error</code> token do not have default reductions because delayed syntax error
            detection could then prevent the <code>error</code> token from ever being shifted in that state. However, parser state merging can cause the same effect anyway, and LAC fixes it in both cases, so future versions of Bison might drop this exception
            when LAC is activated. Second, GLR parsers do not record the default reduction as the action on a lookahead token for which there is a conflict. The correct action in this case is to split the parse instead.
        </p>
        <p>To adjust which states have default reductions enabled, use the
            <code>%define lr.default-reduction</code> directive.
        </p>
        <dl>
            <dt><a name="index-_0025define-lr_002edefault_002dreduction-2"></a>Directive: <strong>%define lr.default-reduction</strong> <em><var>where</var></em></dt>
            <dd>
                <p>Specify the kind of states that are permitted to contain default reductions. The accepted values of <var>where</var> are:
                </p>
                <ul>
                    <li> <code>most</code> (default for LALR and IELR)
                    </li>
                    <li> <code>consistent</code>
                    </li>
                    <li> <code>accepting</code> (default for canonical LR)
                    </li>
                </ul>

                <p>(The ability to specify where default reductions are permitted is experimental. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <hr>
        <a name="LAC"></a>
        <div class="header">
            <p>
                Next: <a href="#Unreachable-States" accesskey="n" rel="next">Unreachable States</a>, Previous: <a href="#Default-Reductions" accesskey="p" rel="prev">Default Reductions</a>, Up: <a href="#Tuning-LR" accesskey="u" rel="up">Tuning LR</a>                &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="LAC-1"></a>
        <h4 class="subsection">5.8.3 LAC</h4>
        <a name="index-_0025define-parse_002elac-1"></a>
        <a name="index-LAC-2"></a>
        <a name="index-lookahead-correction"></a>

        <p>Canonical LR, IELR, and LALR can suffer from a couple of problems upon encountering a syntax error. First, the parser might perform additional parser stack reductions before discovering the syntax error. Such reductions can perform user semantic
            actions that are unexpected because they are based on an invalid token, and they cause error recovery to begin in a different syntactic context than the one in which the invalid token was encountered. Second, when verbose error messages are
            enabled (see
            <a href="#Error-Reporting">Error Reporting</a>), the expected token list in the syntax error message can both contain invalid tokens and omit valid tokens.
        </p>
        <p>The culprits for the above problems are <code>%nonassoc</code>, default reductions in inconsistent states (see <a href="#Default-Reductions">Default Reductions</a>), and parser state merging. Because IELR and LALR merge parser states, they suffer
            the most. Canonical LR can suffer only if <code>%nonassoc</code> is used or if default reductions are enabled for inconsistent states.
        </p>
        <p>LAC (Lookahead Correction) is a new mechanism within the parsing algorithm that solves these problems for canonical LR, IELR, and LALR without sacrificing <code>%nonassoc</code>, default reductions, or state merging. You can enable LAC with the
            <code>%define parse.lac</code> directive.
        </p>
        <dl>
            <dt><a name="index-_0025define-parse_002elac-2"></a>Directive: <strong>%define parse.lac</strong> <em><var>value</var></em></dt>
            <dd>
                <p>Enable LAC to improve syntax error handling.
                </p>
                <ul>
                    <li> <code>none</code> (default)
                    </li>
                    <li> <code>full</code>
                    </li>
                </ul>
                <p>(This feature is experimental. More user feedback will help to stabilize it. Moreover, it is currently only available for deterministic parsers in C.)
                </p>
            </dd>
        </dl>

        <p>Conceptually, the LAC mechanism is straight-forward. Whenever the parser fetches a new token from the scanner so that it can determine the next parser action, it immediately suspends normal parsing and performs an exploratory parse using a temporary
            copy of the normal parser state stack. During this exploratory parse, the parser does not perform user semantic actions. If the exploratory parse reaches a shift action, normal parsing then resumes on the normal parser stacks. If the exploratory
            parse reaches an error instead, the parser reports a syntax error. If verbose syntax error messages are enabled, the parser must then discover the list of expected tokens, so it performs a separate exploratory parse for each token in the grammar.
        </p>
        <p>There is one subtlety about the use of LAC. That is, when in a consistent parser state with a default reduction, the parser will not attempt to fetch a token from the scanner because no lookahead is needed to determine the next parser action.
            Thus, whether default reductions are enabled in consistent states (see <a href="#Default-Reductions">Default Reductions</a>) affects how soon the parser detects a syntax error: immediately when it <em>reaches</em> an erroneous token or when
            it eventually
            <em>needs</em> that token as a lookahead to determine the next parser action. The latter behavior is probably more intuitive, so Bison currently provides no way to achieve the former behavior while default reductions are enabled in consistent
            states.
        </p>
        <p>Thus, when LAC is in use, for some fixed decision of whether to enable default reductions in consistent states, canonical LR and IELR behave almost exactly the same for both syntactically acceptable and syntactically unacceptable input. While
            LALR still does not support the full language-recognition power of canonical LR and IELR, LAC at least enables LALR&rsquo;s syntax error handling to correctly reflect LALR&rsquo;s language-recognition power.
        </p>
        <p>There are a few caveats to consider when using LAC:
        </p>
        <ul>
            <li> Infinite parsing loops.

                <p>IELR plus LAC does have one shortcoming relative to canonical LR. Some parsers generated by Bison can loop infinitely. LAC does not fix infinite parsing loops that occur between encountering a syntax error and detecting it, but enabling
                    canonical LR or disabling default reductions sometimes does.
                </p>
            </li>
            <li> Verbose error message limitations.

                <p>Because of internationalization considerations, Bison-generated parsers limit the size of the expected token list they are willing to report in a verbose syntax error message. If the number of expected tokens exceeds that limit, the list
                    is simply dropped from the message. Enabling LAC can increase the size of the list and thus cause the parser to drop it. Of course, dropping the list is better than reporting an incorrect list.
                </p>
            </li>
            <li> Performance.

                <p>Because LAC requires many parse actions to be performed twice, it can have a performance penalty. However, not all parse actions must be performed twice. Specifically, during a series of default reductions in consistent states and shift
                    actions, the parser never has to initiate an exploratory parse. Moreover, the most time-consuming tasks in a parse are often the file I/O, the lexical analysis performed by the scanner, and the user&rsquo;s semantic actions, but none
                    of these are performed during the exploratory parse. Finally, the base of the temporary stack used during an exploratory parse is a pointer into the normal parser state stack so that the stack is never physically copied. In our experience,
                    the performance penalty of LAC has proved insignificant for practical grammars.
                </p>
            </li>
        </ul>

        <p>While the LAC algorithm shares techniques that have been recognized in the parser community for years, for the publication that introduces LAC, see <a href="#Bibliography">Denny 2010 May</a>.
        </p>
        <hr>
        <a name="Unreachable-States"></a>
        <div class="header">
            <p>
                Previous: <a href="#LAC" accesskey="p" rel="prev">LAC</a>, Up: <a href="#Tuning-LR" accesskey="u" rel="up">Tuning LR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index"
                    rel="index">Index</a>]</p>
        </div>
        <a name="Unreachable-States-1"></a>
        <h4 class="subsection">5.8.4 Unreachable States</h4>
        <a name="index-_0025define-lr_002ekeep_002dunreachable_002dstate-1"></a>
        <a name="index-unreachable-states"></a>

        <p>If there exists no sequence of transitions from the parser&rsquo;s start state to some state <var>s</var>, then Bison considers <var>s</var> to be an <em>unreachable
state</em>. A state can become unreachable during conflict resolution if Bison disables a shift action leading to it from a predecessor state.
        </p>
        <p>By default, Bison removes unreachable states from the parser after conflict resolution because they are useless in the generated parser. However, keeping unreachable states is sometimes useful when trying to understand the relationship between
            the parser and the grammar.
        </p>
        <dl>
            <dt><a name="index-_0025define-lr_002ekeep_002dunreachable_002dstate-2"></a>Directive: <strong>%define lr.keep-unreachable-state</strong> <em><var>value</var></em></dt>
            <dd>
                <p>Request that Bison allow unreachable states to remain in the parser tables.
                    <var>value</var> must be a Boolean. The default is <code>false</code>.
                </p>
            </dd>
        </dl>

        <p>There are a few caveats to consider:
        </p>
        <ul>
            <li> Missing or extraneous warnings.

                <p>Unreachable states may contain conflicts and may use rules not used in any other state. Thus, keeping unreachable states may induce warnings that are irrelevant to your parser&rsquo;s behavior, and it may eliminate warnings that are relevant.
                    Of course, the change in warnings may actually be relevant to a parser table analysis that wants to keep unreachable states, so this behavior will likely remain in future Bison releases.
                </p>
            </li>
            <li> Other useless states.

                <p>While Bison is able to remove unreachable states, it is not guaranteed to remove other kinds of useless states. Specifically, when Bison disables reduce actions during conflict resolution, some goto actions may become useless, and thus
                    some additional states may become useless. If Bison were to compute which goto actions were useless and then disable those actions, it could identify such states as unreachable and then remove those states. However, Bison does not
                    compute which goto actions are useless.
                </p>
            </li>
        </ul>

        <hr>
        <a name="Generalized-LR-Parsing"></a>
        <div class="header">
            <p>
                Next: <a href="#Memory-Management" accesskey="n" rel="next">Memory Management</a>, Previous: <a href="#Tuning-LR" accesskey="p" rel="prev">Tuning LR</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Generalized-LR-_0028GLR_0029-Parsing"></a>
        <h3 class="section">5.9 Generalized LR (GLR) Parsing</h3>
        <a name="index-GLR-parsing-2"></a>
        <a name="index-generalized-LR-_0028GLR_0029-parsing-2"></a>
        <a name="index-ambiguous-grammars-1"></a>
        <a name="index-nondeterministic-parsing-1"></a>

        <p>Bison produces <em>deterministic</em> parsers that choose uniquely when to reduce and which reduction to apply based on a summary of the preceding input and on one extra token of lookahead. As a result, normal Bison handles a proper subset of
            the family of context-free languages. Ambiguous grammars, since they have strings with more than one possible sequence of reductions cannot have deterministic parsers in this sense. The same is true of languages that require more than one
            symbol of lookahead, since the parser lacks the information necessary to make a decision at the point it must be made in a shift-reduce parser. Finally, as previously mentioned (see <a href="#Mysterious-Conflicts">Mysterious Conflicts</a>),
            there are languages where Bison&rsquo;s default choice of how to summarize the input seen so far loses necessary information.
        </p>
        <p>When you use the &lsquo;<samp>%glr-parser</samp>&rsquo; declaration in your grammar file, Bison generates a parser that uses a different algorithm, called Generalized LR (or GLR). A Bison GLR parser uses the same basic algorithm for parsing as
            an ordinary Bison parser, but behaves differently in cases where there is a shift-reduce conflict that has not been resolved by precedence rules (see <a href="#Precedence">Precedence</a>) or a reduce-reduce conflict. When a GLR parser encounters
            such a situation, it effectively <em>splits</em> into a several parsers, one for each possible shift or reduction. These parsers then proceed as usual, consuming tokens in lock-step. Some of the stacks may encounter other conflicts and split
            further, with the result that instead of a sequence of states, a Bison GLR parsing stack is what is in effect a tree of states.
        </p>
        <p>In effect, each stack represents a guess as to what the proper parse is. Additional input may indicate that a guess was wrong, in which case the appropriate stack silently disappears. Otherwise, the semantics actions generated in each stack are
            saved, rather than being executed immediately. When a stack disappears, its saved semantic actions never get executed. When a reduction causes two stacks to become equivalent, their sets of semantic actions are both saved with the state that
            results from the reduction. We say that two stacks are equivalent when they both represent the same sequence of states, and each pair of corresponding states represents a grammar symbol that produces the same segment of the input token stream.
        </p>
        <p>Whenever the parser makes a transition from having multiple states to having one, it reverts to the normal deterministic parsing algorithm, after resolving and executing the saved-up actions. At this transition, some of the states on the stack
            will have semantic values that are sets (actually multisets) of possible actions. The parser tries to pick one of the actions by first finding one whose rule has the highest dynamic precedence, as set by the &lsquo;<samp>%dprec</samp>&rsquo;
            declaration. Otherwise, if the alternative actions are not ordered by precedence, but there the same merging function is declared for both rules by the &lsquo;<samp>%merge</samp>&rsquo; declaration, Bison resolves and evaluates both and then
            calls the merge function on the result. Otherwise, it reports an ambiguity.
        </p>
        <p>It is possible to use a data structure for the GLR parsing tree that permits the processing of any LR(1) grammar in linear time (in the size of the input), any unambiguous (not necessarily LR(1)) grammar in quadratic worst-case time, and any general
            (possibly ambiguous) context-free grammar in cubic worst-case time. However, Bison currently uses a simpler data structure that requires time proportional to the length of the input times the maximum number of stacks required for any prefix
            of the input. Thus, really ambiguous or nondeterministic grammars can require exponential time and space to process. Such badly behaving examples, however, are not generally of practical interest. Usually, nondeterminism in a grammar is local&mdash;the
            parser is &ldquo;in doubt&rdquo; only for a few tokens at a time. Therefore, the current data structure should generally be adequate. On LR(1) portions of a grammar, in particular, it is only slightly slower than with the deterministic LR(1)
            Bison parser.
        </p>
        <p>For a more detailed exposition of GLR parsers, see <a href="#Bibliography">Scott
2000</a>.
        </p>
        <hr>
        <a name="Memory-Management"></a>
        <div class="header">
            <p>
                Previous: <a href="#Generalized-LR-Parsing" accesskey="p" rel="prev">Generalized LR Parsing</a>, Up: <a href="#Algorithm" accesskey="u" rel="up">Algorithm</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Memory-Management_002c-and-How-to-Avoid-Memory-Exhaustion"></a>
        <h3 class="section">5.10 Memory Management, and How to Avoid Memory Exhaustion</h3>
        <a name="index-memory-exhaustion"></a>
        <a name="index-memory-management"></a>
        <a name="index-stack-overflow"></a>
        <a name="index-parser-stack-overflow"></a>
        <a name="index-overflow-of-parser-stack"></a>

        <p>The Bison parser stack can run out of memory if too many tokens are shifted and not reduced. When this happens, the parser function <code>yyparse</code> calls <code>yyerror</code> and then returns 2.
        </p>
        <p>Because Bison parsers have growing stacks, hitting the upper limit usually results from using a right recursion instead of a left recursion, see <a href="#Recursion">Recursive Rules</a>.
        </p>
        <a name="index-YYMAXDEPTH-1"></a>
        <p>By defining the macro <code>YYMAXDEPTH</code>, you can control how deep the parser stack can become before memory is exhausted. Define the macro with a value that is an integer. This value is the maximum number of tokens that can be shifted (and
            not reduced) before overflow.
        </p>
        <p>The stack space allowed is not necessarily allocated. If you specify a large value for <code>YYMAXDEPTH</code>, the parser normally allocates a small stack at first, and then makes it bigger by stages as needed. This increasing allocation happens
            automatically and silently. Therefore, you do not need to make <code>YYMAXDEPTH</code> painfully small merely to save space for ordinary inputs that do not need much stack.
        </p>
        <p>However, do not allow <code>YYMAXDEPTH</code> to be a value so large that arithmetic overflow could occur when calculating the size of the stack space. Also, do not allow <code>YYMAXDEPTH</code> to be less than
            <code>YYINITDEPTH</code>.
        </p>
        <a name="index-default-stack-limit"></a>
        <p>The default value of <code>YYMAXDEPTH</code>, if you do not define it, is 10000.
        </p>
        <a name="index-YYINITDEPTH-1"></a>
        <p>You can control how much stack is allocated initially by defining the macro <code>YYINITDEPTH</code> to a positive integer. For the deterministic parser in C, this value must be a compile-time constant unless you are assuming C99 or some other
            target language or compiler that allows variable-length arrays. The default is 200.
        </p>
        <p>Do not allow <code>YYINITDEPTH</code> to be greater than <code>YYMAXDEPTH</code>.
        </p>
        <p>You can generate a deterministic parser containing C++ user code from the default (C) skeleton, as well as from the C++ skeleton (see <a href="#C_002b_002b-Parsers">C++ Parsers</a>). However, if you do use the default skeleton and want to allow
            the parsing stack to grow, be careful not to use semantic types or location types that require non-trivial copy constructors. The C skeleton bypasses these constructors when copying data to new, larger stacks.
        </p>
        <hr>
        <a name="Error-Recovery"></a>
        <div class="header">
            <p>
                Next: <a href="#Context-Dependency" accesskey="n" rel="next">Context Dependency</a>, Previous: <a href="#Algorithm" accesskey="p" rel="prev">Algorithm</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Error-Recovery-1"></a>
        <h2 class="chapter">6 Error Recovery</h2>
        <a name="index-error-recovery"></a>
        <a name="index-recovery-from-errors"></a>

        <p>It is not usually acceptable to have a program terminate on a syntax error. For example, a compiler should recover sufficiently to parse the rest of the input file and check it for errors; a calculator should accept another expression.
        </p>
        <p>In a simple interactive command parser where each input is one line, it may be sufficient to allow <code>yyparse</code> to return 1 on error and have the caller ignore the rest of the input line when that happens (and then call
            <code>yyparse</code> again). But this is inadequate for a compiler, because it forgets all the syntactic context leading up to the error. A syntax error deep within a function in the compiler input should not cause the compiler to treat the
            following line like the beginning of a source file.
        </p>
        <a name="index-error"></a>
        <p>You can define how to recover from a syntax error by writing rules to recognize the special token <code>error</code>. This is a terminal symbol that is always defined (you need not declare it) and reserved for error handling. The Bison parser
            generates an <code>error</code> token whenever a syntax error happens; if you have provided a rule to recognize this token in the current context, the parse can continue.
        </p>
        <p>For example:
        </p>
        <div class="example">
            <pre class="example">stmts:
  %empty
| stmts '\n'
| stmts exp '\n'
| stmts error '\n'
</pre></div>

        <p>The fourth rule in this example says that an error followed by a newline makes a valid addition to any <code>stmts</code>.
        </p>
        <p>What happens if a syntax error occurs in the middle of an <code>exp</code>? The error recovery rule, interpreted strictly, applies to the precise sequence of a <code>stmts</code>, an <code>error</code> and a newline. If an error occurs in the
            middle of an <code>exp</code>, there will probably be some additional tokens and subexpressions on the stack after the last <code>stmts</code>, and there will be tokens to read before the next newline. So the rule is not applicable in the
            ordinary way.
        </p>
        <p>But Bison can force the situation to fit the rule, by discarding part of the semantic context and part of the input. First it discards states and objects from the stack until it gets back to a state in which the
            <code>error</code> token is acceptable. (This means that the subexpressions already parsed are discarded, back to the last complete <code>stmts</code>.) At this point the <code>error</code> token can be shifted. Then, if the old lookahead
            token is not acceptable to be shifted next, the parser reads tokens and discards them until it finds a token which is acceptable. In this example, Bison reads and discards input until the next newline so that the fourth rule can apply. Note
            that discarded symbols are possible sources of memory leaks, see <a href="#Destructor-Decl">Freeing
Discarded Symbols</a>, for a means to reclaim this memory.
        </p>
        <p>The choice of error rules in the grammar is a choice of strategies for error recovery. A simple and useful strategy is simply to skip the rest of the current input line or current statement if an error is detected:
        </p>
        <div class="example">
            <pre class="example">stmt: error ';'  /* On error, skip until ';' is read.  */
</pre></div>

        <p>It is also useful to recover to the matching close-delimiter of an opening-delimiter that has already been parsed. Otherwise the close-delimiter will probably appear to be unmatched, and generate another, spurious error message:
        </p>
        <div class="example">
            <pre class="example">primary:
  '(' expr ')'
| '(' error ')'
&hellip;
;
</pre></div>

        <p>Error recovery strategies are necessarily guesses. When they guess wrong, one syntax error often leads to another. In the above example, the error recovery rule guesses that an error is due to bad input within one
            <code>stmt</code>. Suppose that instead a spurious semicolon is inserted in the middle of a valid <code>stmt</code>. After the error recovery rule recovers from the first error, another syntax error will be found straightaway, since the text
            following the spurious semicolon is also an invalid
            <code>stmt</code>.
        </p>
        <p>To prevent an outpouring of error messages, the parser will output no error message for another syntax error that happens shortly after the first; only after three consecutive input tokens have been successfully shifted will error messages resume.
        </p>
        <p>Note that rules which accept the <code>error</code> token may have actions, just as any other rules can.
        </p>
        <a name="index-yyerrok-1"></a>
        <p>You can make error messages resume immediately by using the macro
            <code>yyerrok</code> in an action. If you do this in the error rule&rsquo;s action, no error messages will be suppressed. This macro requires no arguments; &lsquo;
            <samp>yyerrok;</samp>&rsquo; is a valid C statement.
        </p>
        <a name="index-yyclearin-2"></a>
        <p>The previous lookahead token is reanalyzed immediately after an error. If this is unacceptable, then the macro <code>yyclearin</code> may be used to clear this token. Write the statement &lsquo;<samp>yyclearin;</samp>&rsquo; in the error rule&rsquo;s
            action. See <a href="#Action-Features">Special Features for Use in Actions</a>.
        </p>
        <p>For example, suppose that on a syntax error, an error handling routine is called that advances the input stream to some point where parsing should once again commence. The next symbol returned by the lexical scanner is probably correct. The previous
            lookahead token ought to be discarded with &lsquo;<samp>yyclearin;</samp>&rsquo;.
        </p>
        <a name="index-YYRECOVERING-3"></a>
        <p>The expression <code>YYRECOVERING ()</code> yields 1 when the parser is recovering from a syntax error, and 0 otherwise. Syntax error diagnostics are suppressed while recovering from a syntax error.
        </p>
        <hr>
        <a name="Context-Dependency"></a>
        <div class="header">
            <p>
                Next: <a href="#Debugging" accesskey="n" rel="next">Debugging</a>, Previous: <a href="#Error-Recovery" accesskey="p" rel="prev">Error Recovery</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Handling-Context-Dependencies"></a>
        <h2 class="chapter">7 Handling Context Dependencies</h2>

        <p>The Bison paradigm is to parse tokens first, then group them into larger syntactic units. In many languages, the meaning of a token is affected by its context. Although this violates the Bison paradigm, certain techniques (known as <em>kludges</em>)
            may enable you to write Bison parsers for such languages.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Semantic-Tokens" accesskey="1">Semantic Tokens</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Token parsing can depend on the semantic context.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Lexical-Tie_002dins" accesskey="2">Lexical Tie-ins</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Token parsing can depend on the syntactic context.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tie_002din-Recovery" accesskey="3">Tie-in Recovery</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Lexical tie-ins have implications for how error recovery rules must be written.
                </td>
            </tr>
        </table>

        <p>(Actually, &ldquo;kludge&rdquo; means any technique that gets its job done but is neither clean nor robust.)
        </p>
        <hr>
        <a name="Semantic-Tokens"></a>
        <div class="header">
            <p>
                Next: <a href="#Lexical-Tie_002dins" accesskey="n" rel="next">Lexical Tie-ins</a>, Up: <a href="#Context-Dependency" accesskey="u" rel="up">Context Dependency</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Semantic-Info-in-Token-Types"></a>
        <h3 class="section">7.1 Semantic Info in Token Types</h3>

        <p>The C language has a context dependency: the way an identifier is used depends on what its current meaning is. For example, consider this:
        </p>
        <div class="example">
            <pre class="example">foo (x);
</pre></div>

        <p>This looks like a function call statement, but if <code>foo</code> is a typedef name, then this is actually a declaration of <code>x</code>. How can a Bison parser for C decide how to parse this input?
        </p>
        <p>The method used in GNU C is to have two different token types,
            <code>IDENTIFIER</code> and <code>TYPENAME</code>. When <code>yylex</code> finds an identifier, it looks up the current declaration of the identifier in order to decide which token type to return: <code>TYPENAME</code> if the identifier is
            declared as a typedef, <code>IDENTIFIER</code> otherwise.
        </p>
        <p>The grammar rules can then express the context dependency by the choice of token type to recognize. <code>IDENTIFIER</code> is accepted as an expression, but <code>TYPENAME</code> is not. <code>TYPENAME</code> can start a declaration, but
            <code>IDENTIFIER</code> cannot. In contexts where the meaning of the identifier is <em>not</em> significant, such as in declarations that can shadow a typedef name, either <code>TYPENAME</code> or <code>IDENTIFIER</code> is accepted&mdash;there
            is one rule for each of the two token types.
        </p>
        <p>This technique is simple to use if the decision of which kinds of identifiers to allow is made at a place close to where the identifier is parsed. But in C this is not always so: C allows a declaration to redeclare a typedef name provided an explicit
            type has been specified earlier:
        </p>
        <div class="example">
            <pre class="example">typedef int foo, bar;
int baz (void)
</pre><pre class="example">{
  static bar (bar);      /* <span class="roman">redeclare <code>bar</code> as static variable</span> */
  extern foo foo (foo);  /* <span class="roman">redeclare <code>foo</code> as function</span> */
  return foo (bar);
}
</pre></div>

        <p>Unfortunately, the name being declared is separated from the declaration construct itself by a complicated syntactic structure&mdash;the &ldquo;declarator&rdquo;.
        </p>
        <p>As a result, part of the Bison parser for C needs to be duplicated, with all the nonterminal names changed: once for parsing a declaration in which a typedef name can be redefined, and once for parsing a declaration in which that can&rsquo;t be
            done. Here is a part of the duplication, with actions omitted for brevity:
        </p>
        <div class="example">
            <pre class="example">initdcl:
  declarator maybeasm '=' init
| declarator maybeasm
;
</pre><pre class="example">
</pre><pre class="example">notype_initdcl:
  notype_declarator maybeasm '=' init
| notype_declarator maybeasm
;
</pre></div>

        <p>Here <code>initdcl</code> can redeclare a typedef name, but <code>notype_initdcl</code> cannot. The distinction between <code>declarator</code> and
            <code>notype_declarator</code> is the same sort of thing.
        </p>
        <p>There is some similarity between this technique and a lexical tie-in (described next), in that information which alters the lexical analysis is changed during parsing by other parts of the program. The difference is here the information is global,
            and is used for other purposes in the program. A true lexical tie-in has a special-purpose flag controlled by the syntactic context.
        </p>
        <hr>
        <a name="Lexical-Tie_002dins"></a>
        <div class="header">
            <p>
                Next: <a href="#Tie_002din-Recovery" accesskey="n" rel="next">Tie-in Recovery</a>, Previous: <a href="#Semantic-Tokens" accesskey="p" rel="prev">Semantic Tokens</a>, Up: <a href="#Context-Dependency" accesskey="u" rel="up">Context Dependency</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Lexical-Tie_002dins-1"></a>
        <h3 class="section">7.2 Lexical Tie-ins</h3>
        <a name="index-lexical-tie_002din"></a>

        <p>One way to handle context-dependency is the <em>lexical tie-in</em>: a flag which is set by Bison actions, whose purpose is to alter the way tokens are parsed.
        </p>
        <p>For example, suppose we have a language vaguely like C, but with a special construct &lsquo;<samp>hex (<var>hex-expr</var>)</samp>&rsquo;. After the keyword <code>hex</code> comes an expression in parentheses in which all integers are hexadecimal.
            In particular, the token &lsquo;<samp>a1b</samp>&rsquo; must be treated as an integer rather than as an identifier if it appears in that context. Here is how you can do it:
        </p>
        <div class="example">
            <pre class="example">%{
  int hexflag;
  int yylex (void);
  void yyerror (char const *);
%}
%%
&hellip;
</pre><pre class="example">expr:
  IDENTIFIER
| constant
| HEX '('        { hexflag = 1; }
    expr ')'     { hexflag = 0; $$ = $4; }
| expr '+' expr  { $$ = make_sum ($1, $3); }
&hellip;
;
</pre><pre class="example">
</pre><pre class="example">constant:
  INTEGER
| STRING
;
</pre></div>

        <p>Here we assume that <code>yylex</code> looks at the value of <code>hexflag</code>; when it is nonzero, all integers are parsed in hexadecimal, and tokens starting with letters are parsed as integers if possible.
        </p>
        <p>The declaration of <code>hexflag</code> shown in the prologue of the grammar file is needed to make it accessible to the actions (see <a href="#Prologue">The Prologue</a>). You must also write the code in <code>yylex</code> to obey the flag.
        </p>
        <hr>
        <a name="Tie_002din-Recovery"></a>
        <div class="header">
            <p>
                Previous: <a href="#Lexical-Tie_002dins" accesskey="p" rel="prev">Lexical Tie-ins</a>, Up: <a href="#Context-Dependency" accesskey="u" rel="up">Context Dependency</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Lexical-Tie_002dins-and-Error-Recovery"></a>
        <h3 class="section">7.3 Lexical Tie-ins and Error Recovery</h3>

        <p>Lexical tie-ins make strict demands on any error recovery rules you have. See <a href="#Error-Recovery">Error Recovery</a>.
        </p>
        <p>The reason for this is that the purpose of an error recovery rule is to abort the parsing of one construct and resume in some larger construct. For example, in C-like languages, a typical error recovery rule is to skip tokens until the next semicolon,
            and then start a new statement, like this:
        </p>
        <div class="example">
            <pre class="example">stmt:
  expr ';'
| IF '(' expr ')' stmt { &hellip; }
&hellip;
| error ';'  { hexflag = 0; }
;
</pre></div>

        <p>If there is a syntax error in the middle of a &lsquo;<samp>hex (<var>expr</var>)</samp>&rsquo; construct, this error rule will apply, and then the action for the completed &lsquo;<samp>hex (<var>expr</var>)</samp>&rsquo; will never run. So <code>hexflag</code>            would remain set for the entire rest of the input, or until the next <code>hex</code> keyword, causing identifiers to be misinterpreted as integers.
        </p>
        <p>To avoid this problem the error recovery rule itself clears <code>hexflag</code>.
        </p>
        <p>There may also be an error recovery rule that works within expressions. For example, there could be a rule which applies within parentheses and skips to the close-parenthesis:
        </p>
        <div class="example">
            <pre class="example">expr:
  &hellip;
| '(' expr ')'   { $$ = $2; }
| '(' error ')'
&hellip;
</pre></div>

        <p>If this rule acts within the <code>hex</code> construct, it is not going to abort that construct (since it applies to an inner level of parentheses within the construct). Therefore, it should not clear the flag: the rest of the <code>hex</code>            construct should be parsed with the flag still in effect.
        </p>
        <p>What if there is an error recovery rule which might abort out of the
            <code>hex</code> construct or might not, depending on circumstances? There is no way you can write the action to determine whether a <code>hex</code> construct is being aborted or not. So if you are using a lexical tie-in, you had better make
            sure your error recovery rules are not of this kind. Each rule must be such that you can be sure that it always will, or always won&rsquo;t, have to clear the flag.
        </p>

        <hr>
        <a name="Debugging"></a>
        <div class="header">
            <p>
                Next: <a href="#Invocation" accesskey="n" rel="next">Invocation</a>, Previous: <a href="#Context-Dependency" accesskey="p" rel="prev">Context Dependency</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Debugging-Your-Parser"></a>
        <h2 class="chapter">8 Debugging Your Parser</h2>

        <p>Developing a parser can be a challenge, especially if you don&rsquo;t understand the algorithm (see <a href="#Algorithm">The Bison Parser Algorithm</a>). This chapter explains how understand and debug a parser.
        </p>
        <p>The first sections focus on the static part of the parser: its structure. They explain how to generate and read the detailed description of the automaton. There are several formats available:
        </p>
        <ul class="no-bullet">
            <li>- as text, see <a href="#Understanding">Understanding Your Parser</a>;

            </li>
            <li>- as a graph, see <a href="#Graphviz">Visualizing Your Parser</a>;

            </li>
            <li>- or as a markup report that can be turned, for instance, into HTML, see
                <a href="#Xml">Visualizing your parser in multiple formats</a>.
            </li>
        </ul>

        <p>The last section focuses on the dynamic part of the parser: how to enable and understand the parser run-time traces (see <a href="#Tracing">Tracing Your
Parser</a>).
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Understanding" accesskey="1">Understanding</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Understanding the structure of your parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Graphviz" accesskey="2">Graphviz</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Getting a visual representation of the parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Xml" accesskey="3">Xml</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Getting a markup representation of the parser.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Tracing" accesskey="4">Tracing</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Tracing the execution of your parser.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Understanding"></a>
        <div class="header">
            <p>
                Next: <a href="#Graphviz" accesskey="n" rel="next">Graphviz</a>, Up: <a href="#Debugging" accesskey="u" rel="up">Debugging</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Understanding-Your-Parser"></a>
        <h3 class="section">8.1 Understanding Your Parser</h3>

        <p>As documented elsewhere (see <a href="#Algorithm">The Bison Parser Algorithm</a>) Bison parsers are <em>shift/reduce automata</em>. In some cases (much more frequent than one would hope), looking at this automaton is required to tune or simply
            fix a parser.
        </p>
        <p>The textual file is generated when the options <samp>--report</samp> or
            <samp>--verbose</samp> are specified, see <a href="#Invocation">Invoking
Bison</a>. Its name is made by removing &lsquo;<samp>.tab.c</samp>&rsquo; or &lsquo;<samp>.c</samp>&rsquo; from the parser implementation file name, and adding &lsquo;<samp>.output</samp>&rsquo; instead. Therefore, if the grammar file is <samp>foo.y</samp>,
            then the parser implementation file is called <samp>foo.tab.c</samp> by default. As a consequence, the verbose output file is called <samp>foo.output</samp>.
        </p>
        <p>The following grammar file, <samp>calc.y</samp>, will be used in the sequel:
        </p>
        <div class="example">
            <pre class="example">%token NUM STR
</pre><pre class="example">%left '+' '-'
%left '*'
</pre><pre class="example">%%
</pre><pre class="example">exp:
  exp '+' exp
| exp '-' exp
| exp '*' exp
| exp '/' exp
| NUM
;
</pre><pre class="example">useless: STR;
%%
</pre></div>

        <p><code>bison</code> reports:
        </p>
        <div class="example">
            <pre class="example">calc.y: warning: 1 nonterminal useless in grammar
calc.y: warning: 1 rule useless in grammar
calc.y:12.1-7: warning: nonterminal useless in grammar: useless
calc.y:12.10-12: warning: rule useless in grammar: useless: STR
calc.y: conflicts: 7 shift/reduce
</pre></div>

        <p>When given <samp>--report=state</samp>, in addition to <samp>calc.tab.c</samp>, it creates a file <samp>calc.output</samp> with contents detailed below. The order of the output and the exact presentation might vary, but the interpretation is the
            same.
        </p>
        <a name="index-token_002c-useless"></a>
        <a name="index-useless-token"></a>
        <a name="index-nonterminal_002c-useless"></a>
        <a name="index-useless-nonterminal"></a>
        <a name="index-rule_002c-useless"></a>
        <a name="index-useless-rule"></a>
        <p>The first section reports useless tokens, nonterminals and rules. Useless nonterminals and rules are removed in order to produce a smaller parser, but useless tokens are preserved, since they might be used by the scanner (note the difference between
            &ldquo;useless&rdquo; and &ldquo;unused&rdquo; below):
        </p>
        <div class="example">
            <pre class="example">Nonterminals useless in grammar
   useless

Terminals unused in grammar
   STR

Rules useless in grammar
    6 useless: STR
</pre></div>

        <p>The next section lists states that still have conflicts.
        </p>
        <div class="example">
            <pre class="example">State 8 conflicts: 1 shift/reduce
State 9 conflicts: 1 shift/reduce
State 10 conflicts: 1 shift/reduce
State 11 conflicts: 4 shift/reduce
</pre></div>

        <p>Then Bison reproduces the exact grammar it used:
        </p>
        <div class="example">
            <pre class="example">Grammar

    0 $accept: exp $end

    1 exp: exp '+' exp
    2    | exp '-' exp
    3    | exp '*' exp
    4    | exp '/' exp
    5    | NUM
</pre></div>

        <p>and reports the uses of the symbols:
        </p>
        <div class="example">
            <pre class="example">Terminals, with rules where they appear

$end (0) 0
'*' (42) 3
'+' (43) 1
'-' (45) 2
'/' (47) 4
error (256)
NUM (258) 5
STR (259)
</pre><pre class="example">
</pre><pre class="example">Nonterminals, with rules where they appear

$accept (9)
    on left: 0
exp (10)
    on left: 1 2 3 4 5, on right: 0 1 2 3 4
</pre></div>

        <a name="index-item"></a>
        <a name="index-pointed-rule"></a>
        <a name="index-rule_002c-pointed"></a>
        <p>Bison then proceeds onto the automaton itself, describing each state with its set of <em>items</em>, also known as <em>pointed rules</em>. Each item is a production rule together with a point (&lsquo;<samp>.</samp>&rsquo;) marking the location
            of the input cursor.
        </p>
        <div class="example">
            <pre class="example">State 0

    0 $accept: . exp $end

    NUM  shift, and go to state 1

    exp  go to state 2
</pre></div>

        <p>This reads as follows: &ldquo;state 0 corresponds to being at the very beginning of the parsing, in the initial rule, right before the start symbol (here, <code>exp</code>). When the parser returns to this state right after having reduced a rule
            that produced an <code>exp</code>, the control flow jumps to state 2. If there is no such transition on a nonterminal symbol, and the lookahead is a <code>NUM</code>, then this token is shifted onto the parse stack, and the control flow jumps
            to state 1. Any other lookahead triggers a syntax error.&rdquo;
        </p>
        <a name="index-core_002c-item-set"></a>
        <a name="index-item-set-core"></a>
        <a name="index-kernel_002c-item-set"></a>
        <a name="index-item-set-core-1"></a>
        <p>Even though the only active rule in state 0 seems to be rule 0, the report lists <code>NUM</code> as a lookahead token because <code>NUM</code> can be at the beginning of any rule deriving an <code>exp</code>. By default Bison reports the so-called
            <em>core</em> or <em>kernel</em> of the item set, but if you want to see more detail you can invoke <code>bison</code> with
            <samp>--report=itemset</samp> to list the derived items as well:
        </p>
        <div class="example">
            <pre class="example">State 0

    0 $accept: . exp $end
    1 exp: . exp '+' exp
    2    | . exp '-' exp
    3    | . exp '*' exp
    4    | . exp '/' exp
    5    | . NUM

    NUM  shift, and go to state 1

    exp  go to state 2
</pre></div>

        <p>In the state 1&hellip;
        </p>
        <div class="example">
            <pre class="example">State 1

    5 exp: NUM .

    $default  reduce using rule 5 (exp)
</pre></div>

        <p>the rule 5, &lsquo;<samp>exp: NUM;</samp>&rsquo;, is completed. Whatever the lookahead token (&lsquo;
            <samp>$default</samp>&rsquo;), the parser will reduce it. If it was coming from State 0, then, after this reduction it will return to state 0, and will jump to state 2 (&lsquo;<samp>exp: go to state 2</samp>&rsquo;).
        </p>
        <div class="example">
            <pre class="example">State 2

    0 $accept: exp . $end
    1 exp: exp . '+' exp
    2    | exp . '-' exp
    3    | exp . '*' exp
    4    | exp . '/' exp

    $end  shift, and go to state 3
    '+'   shift, and go to state 4
    '-'   shift, and go to state 5
    '*'   shift, and go to state 6
    '/'   shift, and go to state 7
</pre></div>

        <p>In state 2, the automaton can only shift a symbol. For instance, because of the item &lsquo;<samp>exp: exp . '+' exp</samp>&rsquo;, if the lookahead is &lsquo;
            <samp>+</samp>&rsquo; it is shifted onto the parse stack, and the automaton jumps to state 4, corresponding to the item &lsquo;<samp>exp: exp '+' . exp</samp>&rsquo;. Since there is no default action, any lookahead not listed triggers a syntax
            error.
        </p>
        <a name="index-accepting-state"></a>
        <p>The state 3 is named the <em>final state</em>, or the <em>accepting
state</em>:
        </p>
        <div class="example">
            <pre class="example">State 3

    0 $accept: exp $end .

    $default  accept
</pre></div>

        <p>the initial rule is completed (the start symbol and the end-of-input were read), the parsing exits successfully.
        </p>
        <p>The interpretation of states 4 to 7 is straightforward, and is left to the reader.
        </p>
        <div class="example">
            <pre class="example">State 4

    1 exp: exp '+' . exp

    NUM  shift, and go to state 1

    exp  go to state 8


State 5

    2 exp: exp '-' . exp

    NUM  shift, and go to state 1

    exp  go to state 9


State 6

    3 exp: exp '*' . exp

    NUM  shift, and go to state 1

    exp  go to state 10


State 7

    4 exp: exp '/' . exp

    NUM  shift, and go to state 1

    exp  go to state 11
</pre></div>

        <p>As was announced in beginning of the report, &lsquo;<samp>State 8 conflicts:
1 shift/reduce</samp>&rsquo;:
        </p>
        <div class="example">
            <pre class="example">State 8

    1 exp: exp . '+' exp
    1    | exp '+' exp .
    2    | exp . '-' exp
    3    | exp . '*' exp
    4    | exp . '/' exp

    '*'  shift, and go to state 6
    '/'  shift, and go to state 7

    '/'       [reduce using rule 1 (exp)]
    $default  reduce using rule 1 (exp)
</pre></div>

        <p>Indeed, there are two actions associated to the lookahead &lsquo;<samp>/</samp>&rsquo;: either shifting (and going to state 7), or reducing rule 1. The conflict means that either the grammar is ambiguous, or the parser lacks information to make
            the right decision. Indeed the grammar is ambiguous, as, since we did not specify the precedence of &lsquo;<samp>/</samp>&rsquo;, the sentence &lsquo;<samp>NUM + NUM / NUM</samp>&rsquo; can be parsed as &lsquo;<samp>NUM + (NUM /
NUM)</samp>&rsquo;, which corresponds to shifting &lsquo;<samp>/</samp>&rsquo;, or as &lsquo;<samp>(NUM + NUM) /
NUM</samp>&rsquo;, which corresponds to reducing rule 1.
        </p>
        <p>Because in deterministic parsing a single decision can be made, Bison arbitrarily chose to disable the reduction, see <a href="#Shift_002fReduce">Shift/Reduce Conflicts</a>. Discarded actions are reported between square brackets.
        </p>
        <p>Note that all the previous states had a single possible action: either shifting the next token and going to the corresponding state, or reducing a single rule. In the other cases, i.e., when shifting
            <em>and</em> reducing is possible or when <em>several</em> reductions are possible, the lookahead is required to select the action. State 8 is one such state: if the lookahead is &lsquo;<samp>*</samp>&rsquo; or &lsquo;<samp>/</samp>&rsquo;
            then the action is shifting, otherwise the action is reducing rule 1. In other words, the first two items, corresponding to rule 1, are not eligible when the lookahead token is &lsquo;<samp>*</samp>&rsquo;, since we specified that &lsquo;<samp>*</samp>&rsquo;
            has higher precedence than &lsquo;<samp>+</samp>&rsquo;. More generally, some items are eligible only with some set of possible lookahead tokens. When run with
            <samp>--report=lookahead</samp>, Bison specifies these lookahead tokens:
        </p>
        <div class="example">
            <pre class="example">State 8

    1 exp: exp . '+' exp
    1    | exp '+' exp .  [$end, '+', '-', '/']
    2    | exp . '-' exp
    3    | exp . '*' exp
    4    | exp . '/' exp

    '*'  shift, and go to state 6
    '/'  shift, and go to state 7

    '/'       [reduce using rule 1 (exp)]
    $default  reduce using rule 1 (exp)
</pre></div>

        <p>Note however that while &lsquo;<samp>NUM + NUM / NUM</samp>&rsquo; is ambiguous (which results in the conflicts on &lsquo;<samp>/</samp>&rsquo;), &lsquo;<samp>NUM + NUM * NUM</samp>&rsquo; is not: the conflict was solved thanks to associativity
            and precedence directives. If invoked with
            <samp>--report=solved</samp>, Bison includes information about the solved conflicts in the report:
        </p>
        <div class="example">
            <pre class="example">Conflict between rule 1 and token '+' resolved as reduce (%left '+').
Conflict between rule 1 and token '-' resolved as reduce (%left '-').
Conflict between rule 1 and token '*' resolved as shift ('+' &lt; '*').
</pre></div>


        <p>The remaining states are similar:
        </p>
        <div class="example">
            <pre class="example">State 9

    1 exp: exp . '+' exp
    2    | exp . '-' exp
    2    | exp '-' exp .
    3    | exp . '*' exp
    4    | exp . '/' exp

    '*'  shift, and go to state 6
    '/'  shift, and go to state 7

    '/'       [reduce using rule 2 (exp)]
    $default  reduce using rule 2 (exp)
</pre><pre class="example">
</pre><pre class="example">State 10

    1 exp: exp . '+' exp
    2    | exp . '-' exp
    3    | exp . '*' exp
    3    | exp '*' exp .
    4    | exp . '/' exp

    '/'  shift, and go to state 7

    '/'       [reduce using rule 3 (exp)]
    $default  reduce using rule 3 (exp)
</pre><pre class="example">
</pre><pre class="example">State 11

    1 exp: exp . '+' exp
    2    | exp . '-' exp
    3    | exp . '*' exp
    4    | exp . '/' exp
    4    | exp '/' exp .

    '+'  shift, and go to state 4
    '-'  shift, and go to state 5
    '*'  shift, and go to state 6
    '/'  shift, and go to state 7

    '+'       [reduce using rule 4 (exp)]
    '-'       [reduce using rule 4 (exp)]
    '*'       [reduce using rule 4 (exp)]
    '/'       [reduce using rule 4 (exp)]
    $default  reduce using rule 4 (exp)
</pre></div>

        <p>Observe that state 11 contains conflicts not only due to the lack of precedence of &lsquo;<samp>/</samp>&rsquo; with respect to &lsquo;<samp>+</samp>&rsquo;, &lsquo;<samp>-</samp>&rsquo;, and &lsquo;<samp>*</samp>&rsquo;, but also because the
            associativity of &lsquo;<samp>/</samp>&rsquo; is not specified.
        </p>
        <p>Bison may also produce an HTML version of this output, via an XML file and XSLT processing (see <a href="#Xml">Visualizing your parser in multiple formats</a>).
        </p>

        <hr>
        <a name="Graphviz"></a>
        <div class="header">
            <p>
                Next: <a href="#Xml" accesskey="n" rel="next">Xml</a>, Previous: <a href="#Understanding" accesskey="p" rel="prev">Understanding</a>, Up: <a href="#Debugging" accesskey="u" rel="up">Debugging</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Visualizing-Your-Parser"></a>
        <h3 class="section">8.2 Visualizing Your Parser</h3>
        <a name="index-dot"></a>

        <p>As another means to gain better understanding of the shift/reduce automaton corresponding to the Bison parser, a DOT file can be generated. Note that debugging a real grammar with this is tedious at best, and impractical most of the times, because
            the generated files are huge (the generation of a PDF or PNG file from it will take very long, and more often than not it will fail due to memory exhaustion). This option was rather designed for beginners, to help them understand LR parsers.
        </p>
        <p>This file is generated when the <samp>--graph</samp> option is specified (see <a href="#Invocation">Invoking Bison</a>). Its name is made by removing &lsquo;
            <samp>.tab.c</samp>&rsquo; or &lsquo;<samp>.c</samp>&rsquo; from the parser implementation file name, and adding &lsquo;<samp>.dot</samp>&rsquo; instead. If the grammar file is <samp>foo.y</samp>, the Graphviz output file is called <samp>foo.dot</samp>.
            A DOT file may also be produced via an XML file and XSLT processing (see <a href="#Xml">Visualizing your
parser in multiple formats</a>).
        </p>

        <p>The following grammar file, <samp>rr.y</samp>, will be used in the sequel:
        </p>
        <div class="example">
            <pre class="example">%%
</pre><pre class="example">exp: a &quot;;&quot; | b &quot;.&quot;;
a: &quot;0&quot;;
b: &quot;0&quot;;
</pre></div>

        <p>The graphical output (see <a href="#fig_003agraph">Figure 8.1</a>) is very similar to the textual one, and as such it is easier understood by making direct comparisons between them. See <a href="#Debugging">Debugging Your
Parser</a>, for a detailled analysis of the textual report.
        </p>
        <div class="float">
            <a name="fig_003agraph"></a>
            <img src="figs/example.png" alt="figs/example">

            <div class="float-caption">
                <p><strong>Figure 8.1: </strong>A graphical rendering of the parser.</p>
            </div>
        </div>
        <a name="Graphical-Representation-of-States"></a>
        <h4 class="subheading">Graphical Representation of States</h4>

        <p>The items (pointed rules) for each state are grouped together in graph nodes. Their numbering is the same as in the verbose file. See the following points, about transitions, for examples
        </p>
        <p>When invoked with <samp>--report=lookaheads</samp>, the lookahead tokens, when needed, are shown next to the relevant rule between square brackets as a comma separated list. This is the case in the figure for the representation of reductions,
            below.
        </p>
        <br>

        <p>The transitions are represented as directed edges between the current and the target states.
        </p>
        <a name="Graphical-Representation-of-Shifts"></a>
        <h4 class="subheading">Graphical Representation of Shifts</h4>

        <p>Shifts are shown as solid arrows, labelled with the lookahead token for that shift. The following describes a reduction in the <samp>rr.output</samp> file:
        </p>
        <div class="example">
            <pre class="example">State 3

    1 exp: a . &quot;;&quot;

    &quot;;&quot;  shift, and go to state 6
</pre></div>

        <p>A Graphviz rendering of this portion of the graph could be:
        </p>
        <div align="center"><img src="figs/example-shift.png" alt="figs/example-shift">
        </div>
        <a name="Graphical-Representation-of-Reductions"></a>
        <h4 class="subheading">Graphical Representation of Reductions</h4>

        <p>Reductions are shown as solid arrows, leading to a diamond-shaped node bearing the number of the reduction rule. The arrow is labelled with the appropriate comma separated lookahead tokens. If the reduction is the default action for the given
            state, there is no such label.
        </p>
        <p>This is how reductions are represented in the verbose file <samp>rr.output</samp>:
        </p>
        <div class="example">
            <pre class="example">State 1

    3 a: &quot;0&quot; .  [&quot;;&quot;]
    4 b: &quot;0&quot; .  [&quot;.&quot;]

    &quot;.&quot;       reduce using rule 4 (b)
    $default  reduce using rule 3 (a)
</pre></div>

        <p>A Graphviz rendering of this portion of the graph could be:
        </p>
        <div align="center"><img src="figs/example-reduce.png" alt="figs/example-reduce">
        </div>
        <p>When unresolved conflicts are present, because in deterministic parsing a single decision can be made, Bison can arbitrarily choose to disable a reduction, see <a href="#Shift_002fReduce">Shift/Reduce Conflicts</a>. Discarded actions are distinguished
            by a red filling color on these nodes, just like how they are reported between square brackets in the verbose file.
        </p>
        <p>The reduction corresponding to the rule number 0 is the acceptation state. It is shown as a blue diamond, labelled &ldquo;Acc&rdquo;.
        </p>
        <a name="Graphical-representation-of-go-tos"></a>
        <h4 class="subheading">Graphical representation of go tos</h4>

        <p>The &lsquo;<samp>go to</samp>&rsquo; jump transitions are represented as dotted lines bearing the name of the rule being jumped to.
        </p>

        <hr>
        <a name="Xml"></a>
        <div class="header">
            <p>
                Next: <a href="#Tracing" accesskey="n" rel="next">Tracing</a>, Previous: <a href="#Graphviz" accesskey="p" rel="prev">Graphviz</a>, Up: <a href="#Debugging" accesskey="u" rel="up">Debugging</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Visualizing-your-parser-in-multiple-formats"></a>
        <h3 class="section">8.3 Visualizing your parser in multiple formats</h3>
        <a name="index-xml"></a>

        <p>Bison supports two major report formats: textual output (see <a href="#Understanding">Understanding Your Parser</a>) when invoked with option <samp>--verbose</samp>, and DOT (see <a href="#Graphviz">Visualizing Your Parser</a>) when invoked with
            option
            <samp>--graph</samp>. However, another alternative is to output an XML file that may then be, with
            <code>xsltproc</code>, rendered as either a raw text format equivalent to the verbose file, or as an HTML version of the same file, with clickable transitions, or even as a DOT. The <samp>.output</samp> and DOT files obtained via XSLT have
            no difference whatsoever with those obtained by invoking
            <code>bison</code> with options <samp>--verbose</samp> or <samp>--graph</samp>.
        </p>
        <p>The XML file is generated when the options <samp>-x</samp> or
            <samp>--xml[=FILE]</samp> are specified, see <a href="#Invocation">Invoking Bison</a>. If not specified, its name is made by removing &lsquo;<samp>.tab.c</samp>&rsquo; or &lsquo;<samp>.c</samp>&rsquo; from the parser implementation file name,
            and adding &lsquo;<samp>.xml</samp>&rsquo; instead. For instance, if the grammar file is <samp>foo.y</samp>, the default XML output file is <samp>foo.xml</samp>.
        </p>
        <p>Bison ships with a <samp>data/xslt</samp> directory, containing XSL Transformation files to apply to the XML file. Their names are non-ambiguous:
        </p>
        <dl compact="compact">
            <dt><samp>xml2dot.xsl</samp></dt>
            <dd>
                <p>Used to output a copy of the DOT visualization of the automaton.
                </p>
            </dd>
            <dt><samp>xml2text.xsl</samp></dt>
            <dd>
                <p>Used to output a copy of the &lsquo;<samp>.output</samp>&rsquo; file.
                </p>
            </dd>
            <dt><samp>xml2xhtml.xsl</samp></dt>
            <dd>
                <p>Used to output an xhtml enhancement of the &lsquo;<samp>.output</samp>&rsquo; file.
                </p>
            </dd>
        </dl>

        <p>Sample usage (requires <code>xsltproc</code>):
        </p>
        <div class="example">
            <pre class="example">$ bison -x gr.y
</pre><pre class="example">$ bison --print-datadir
/usr/local/share/bison
</pre><pre class="example">$ xsltproc /usr/local/share/bison/xslt/xml2xhtml.xsl gr.xml &gt;gr.html
</pre></div>


        <hr>
        <a name="Tracing"></a>
        <div class="header">
            <p>
                Previous: <a href="#Xml" accesskey="p" rel="prev">Xml</a>, Up: <a href="#Debugging" accesskey="u" rel="up">Debugging</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index"
                    rel="index">Index</a>]</p>
        </div>
        <a name="Tracing-Your-Parser"></a>
        <h3 class="section">8.4 Tracing Your Parser</h3>
        <a name="index-yydebug"></a>
        <a name="index-debugging"></a>
        <a name="index-tracing-the-parser"></a>

        <p>When a Bison grammar compiles properly but parses &ldquo;incorrectly&rdquo;, the
            <code>yydebug</code> parser-trace feature helps figuring out why.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Enabling-Traces" accesskey="1">Enabling Traces</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Activating run-time trace support
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mfcalc-Traces" accesskey="2">Mfcalc Traces</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Extending <code>mfcalc</code> to support traces
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#The-YYPRINT-Macro" accesskey="3">The YYPRINT Macro</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Obsolete interface for semantic value reports
                </td>
            </tr>
        </table>

        <hr>
        <a name="Enabling-Traces"></a>
        <div class="header">
            <p>
                Next: <a href="#Mfcalc-Traces" accesskey="n" rel="next">Mfcalc Traces</a>, Up: <a href="#Tracing" accesskey="u" rel="up">Tracing</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Enabling-Traces-1"></a>
        <h4 class="subsection">8.4.1 Enabling Traces</h4>
        <p>There are several means to enable compilation of trace facilities:
        </p>
        <dl compact="compact">
            <dt>the macro <code>YYDEBUG</code></dt>
            <dd>
                <a name="index-YYDEBUG"></a>
                <p>Define the macro <code>YYDEBUG</code> to a nonzero value when you compile the parser. This is compliant with POSIX Yacc. You could use &lsquo;
                    <samp>-DYYDEBUG=1</samp>&rsquo; as a compiler option or you could put &lsquo;<samp>#define
YYDEBUG 1</samp>&rsquo; in the prologue of the grammar file (see <a href="#Prologue">The
Prologue</a>).
                </p>
                <p>If the <code>%define</code> variable <code>api.prefix</code> is used (see <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>), for instance &lsquo;<samp>%define
api.prefix x</samp>&rsquo;, then if <code>CDEBUG</code> is defined, its value controls the tracing feature (enabled if and only if nonzero); otherwise tracing is enabled if and only if <code>YYDEBUG</code> is nonzero.
                </p>
            </dd>
            <dt>the option <samp>-t</samp> (POSIX Yacc compliant)</dt>
            <dt>the option <samp>--debug</samp> (Bison extension)</dt>
            <dd>
                <p>Use the &lsquo;<samp>-t</samp>&rsquo; option when you run Bison (see <a href="#Invocation">Invoking
Bison</a>). With &lsquo;<samp>%define api.prefix {c}</samp>&rsquo;, it defines <code>CDEBUG</code> to 1, otherwise it defines <code>YYDEBUG</code> to 1.
                </p>
            </dd>
            <dt>the directive &lsquo;<samp>%debug</samp>&rsquo;</dt>
            <dd>
                <a name="index-_0025debug-1"></a>
                <p>Add the <code>%debug</code> directive (see <a href="#Decl-Summary">Bison Declaration
Summary</a>). This Bison extension is maintained for backward compatibility with previous versions of Bison.
                </p>
            </dd>
            <dt>the variable &lsquo;<samp>parse.trace</samp>&rsquo;</dt>
            <dd>
                <a name="index-_0025define-parse_002etrace-1"></a>
                <p>Add the &lsquo;<samp>%define parse.trace</samp>&rsquo; directive (see <a href="#g_t_0025define-Summary">parse.trace</a>), or pass the <samp>-Dparse.trace</samp> option (see <a href="#Bison-Options">Bison Options</a>). This is a Bison extension,
                    which is especially useful for languages that don&rsquo;t use a preprocessor. Unless POSIX and Yacc portability matter to you, this is the preferred solution.
                </p>
            </dd>
        </dl>

        <p>We suggest that you always enable the trace option so that debugging is always possible.
        </p>
        <a name="index-YYFPRINTF"></a>
        <p>The trace facility outputs messages with macro calls of the form
            <code>YYFPRINTF (stderr, <var>format</var>, <var>args</var>)</code> where
            <var>format</var> and <var>args</var> are the usual <code>printf</code> format and variadic arguments. If you define <code>YYDEBUG</code> to a nonzero value but do not define <code>YYFPRINTF</code>, <code>&lt;stdio.h&gt;</code> is automatically
            included and <code>YYFPRINTF</code> is defined to <code>fprintf</code>.
        </p>
        <p>Once you have compiled the program with trace facilities, the way to request a trace is to store a nonzero value in the variable <code>yydebug</code>. You can do this by making the C code do it (in <code>main</code>, perhaps), or you can alter
            the value with a C debugger.
        </p>
        <p>Each step taken by the parser when <code>yydebug</code> is nonzero produces a line or two of trace information, written on <code>stderr</code>. The trace messages tell you these things:
        </p>
        <ul>
            <li> Each time the parser calls <code>yylex</code>, what kind of token was read.

            </li>
            <li> Each time a token is shifted, the depth and complete contents of the state stack (see <a href="#Parser-States">Parser States</a>).

            </li>
            <li> Each time a rule is reduced, which rule it is, and the complete contents of the state stack afterward.
            </li>
        </ul>

        <p>To make sense of this information, it helps to refer to the automaton description file (see <a href="#Understanding">Understanding Your Parser</a>). This file shows the meaning of each state in terms of positions in various rules, and also what
            each state will do with each possible input token. As you read the successive trace messages, you can see that the parser is functioning according to its specification in the listing file. Eventually you will arrive at the place where something
            undesirable happens, and you will see which parts of the grammar are to blame.
        </p>
        <p>The parser implementation file is a C/C++/Java program and you can use debuggers on it, but it&rsquo;s not easy to interpret what it is doing. The parser function is a finite-state machine interpreter, and aside from the actions it executes the
            same code over and over. Only the values of variables show where in the grammar it is working.
        </p>
        <hr>
        <a name="Mfcalc-Traces"></a>
        <div class="header">
            <p>
                Next: <a href="#The-YYPRINT-Macro" accesskey="n" rel="next">The YYPRINT Macro</a>, Previous: <a href="#Enabling-Traces" accesskey="p" rel="prev">Enabling Traces</a>, Up: <a href="#Tracing" accesskey="u" rel="up">Tracing</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Enabling-Debug-Traces-for-mfcalc"></a>
        <h4 class="subsection">8.4.2 Enabling Debug Traces for <code>mfcalc</code></h4>

        <p>The debugging information normally gives the token type of each token read, but not its semantic value. The <code>%printer</code> directive allows specify how semantic values are reported, see <a href="#Printer-Decl">Printing
Semantic Values</a>. For backward compatibility, Yacc like C parsers may also use the <code>YYPRINT</code> (see <a href="#The-YYPRINT-Macro">The <code>YYPRINT</code>
Macro</a>), but its use is discouraged.
        </p>
        <p>As a demonstration of <code>%printer</code>, consider the multi-function calculator, <code>mfcalc</code> (see <a href="#Multi_002dfunction-Calc">Multi-function Calc</a>). To enable run-time traces, and semantic value reports, insert the following
            directives in its prologue:
        </p>
        <div class="example">
            <pre class="example">/* Generate the parser description file.  */
%verbose
/* Enable run-time traces (yydebug).  */
%define parse.trace

/* Formatting semantic values.  */
%printer { fprintf (yyoutput, &quot;%s&quot;, $$-&gt;name); } VAR;
%printer { fprintf (yyoutput, &quot;%s()&quot;, $$-&gt;name); } FNCT;
%printer { fprintf (yyoutput, &quot;%g&quot;, $$); } &lt;double&gt;;
</pre></div>

        <p>The <code>%define</code> directive instructs Bison to generate run-time trace support. Then, activation of these traces is controlled at run-time by the
            <code>yydebug</code> variable, which is disabled by default. Because these traces will refer to the &ldquo;states&rdquo; of the parser, it is helpful to ask for the creation of a description of that parser; this is the purpose of (admittedly
            ill-named)
            <code>%verbose</code> directive.
        </p>
        <p>The set of <code>%printer</code> directives demonstrates how to format the semantic value in the traces. Note that the specification can be done either on the symbol type (e.g., <code>VAR</code> or <code>FNCT</code>), or on the type tag: since
            <code>&lt;double&gt;</code> is the type for both <code>NUM</code> and <code>exp</code>, this printer will be used for them.
        </p>
        <p>Here is a sample of the information provided by run-time traces. The traces are sent onto standard error.
        </p>
        <div class="example">
            <pre class="example">$ <kbd>echo 'sin(1-1)' | ./mfcalc -p</kbd>
Starting parse
Entering state 0
Reducing stack by rule 1 (line 34):
-&gt; $$ = nterm input ()
Stack now 0
Entering state 1
</pre></div>

        <p>This first batch shows a specific feature of this grammar: the first rule (which is in line 34 of <samp>mfcalc.y</samp> can be reduced without even having to look for the first token. The resulting left-hand symbol (<code>$$</code>) is a valueless
            (&lsquo;
            <samp>()</samp>&rsquo;) <code>input</code> non terminal (<code>nterm</code>).
        </p>
        <p>Then the parser calls the scanner.
        </p>
        <div class="example">
            <pre class="example">Reading a token: Next token is token FNCT (sin())
Shifting token FNCT (sin())
Entering state 6
</pre></div>

        <p>That token (<code>token</code>) is a function (<code>FNCT</code>) whose value is &lsquo;
            <samp>sin</samp>&rsquo; as formatted per our <code>%printer</code> specification: &lsquo;<samp>sin()</samp>&rsquo;. The parser stores (<code>Shifting</code>) that token, and others, until it can do something about it.
        </p>
        <div class="example">
            <pre class="example">Reading a token: Next token is token '(' ()
Shifting token '(' ()
Entering state 14
Reading a token: Next token is token NUM (1.000000)
Shifting token NUM (1.000000)
Entering state 4
Reducing stack by rule 6 (line 44):
   $1 = token NUM (1.000000)
-&gt; $$ = nterm exp (1.000000)
Stack now 0 1 6 14
Entering state 24
</pre></div>

        <p>The previous reduction demonstrates the <code>%printer</code> directive for
            <code>&lt;double&gt;</code>: both the token <code>NUM</code> and the resulting nonterminal
            <code>exp</code> have &lsquo;<samp>1</samp>&rsquo; as value.
        </p>
        <div class="example">
            <pre class="example">Reading a token: Next token is token '-' ()
Shifting token '-' ()
Entering state 17
Reading a token: Next token is token NUM (1.000000)
Shifting token NUM (1.000000)
Entering state 4
Reducing stack by rule 6 (line 44):
   $1 = token NUM (1.000000)
-&gt; $$ = nterm exp (1.000000)
Stack now 0 1 6 14 24 17
Entering state 26
Reading a token: Next token is token ')' ()
Reducing stack by rule 11 (line 49):
   $1 = nterm exp (1.000000)
   $2 = token '-' ()
   $3 = nterm exp (1.000000)
-&gt; $$ = nterm exp (0.000000)
Stack now 0 1 6 14
Entering state 24
</pre></div>

        <p>The rule for the subtraction was just reduced. The parser is about to discover the end of the call to <code>sin</code>.
        </p>
        <div class="example">
            <pre class="example">Next token is token ')' ()
Shifting token ')' ()
Entering state 31
Reducing stack by rule 9 (line 47):
   $1 = token FNCT (sin())
   $2 = token '(' ()
   $3 = nterm exp (0.000000)
   $4 = token ')' ()
-&gt; $$ = nterm exp (0.000000)
Stack now 0 1
Entering state 11
</pre></div>

        <p>Finally, the end-of-line allow the parser to complete the computation, and display its result.
        </p>
        <div class="example">
            <pre class="example">Reading a token: Next token is token '\n' ()
Shifting token '\n' ()
Entering state 22
Reducing stack by rule 4 (line 40):
   $1 = nterm exp (0.000000)
   $2 = token '\n' ()
&rArr; 0
-&gt; $$ = nterm line ()
Stack now 0 1
Entering state 10
Reducing stack by rule 2 (line 35):
   $1 = nterm input ()
   $2 = nterm line ()
-&gt; $$ = nterm input ()
Stack now 0
Entering state 1
</pre></div>

        <p>The parser has returned into state 1, in which it is waiting for the next expression to evaluate, or for the end-of-file token, which causes the completion of the parsing.
        </p>
        <div class="example">
            <pre class="example">Reading a token: Now at end of input.
Shifting token $end ()
Entering state 2
Stack now 0 1 2
Cleanup: popping token $end ()
Cleanup: popping nterm input ()
</pre></div>


        <hr>
        <a name="The-YYPRINT-Macro"></a>
        <div class="header">
            <p>
                Previous: <a href="#Mfcalc-Traces" accesskey="p" rel="prev">Mfcalc Traces</a>, Up: <a href="#Tracing" accesskey="u" rel="up">Tracing</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="The-YYPRINT-Macro-1"></a>
        <h4 class="subsection">8.4.3 The <code>YYPRINT</code> Macro</h4>

        <a name="index-YYPRINT"></a>
        <p>Before <code>%printer</code> support, semantic values could be displayed using the
            <code>YYPRINT</code> macro, which works only for terminal symbols and only with the <samp>yacc.c</samp> skeleton.
        </p>
        <dl>
            <dt><a name="index-YYPRINT-1"></a>Macro: <strong>YYPRINT</strong> <em>(<var>stream</var>, <var>token</var>, <var>value</var>);</em></dt>
            <dd>
                <a name="index-YYPRINT-2"></a>
                <p>If you define <code>YYPRINT</code>, it should take three arguments. The parser will pass a standard I/O stream, the numeric code for the token type, and the token value (from <code>yylval</code>).
                </p>
                <p>For <samp>yacc.c</samp> only. Obsoleted by <code>%printer</code>.
                </p>
            </dd>
        </dl>

        <p>Here is an example of <code>YYPRINT</code> suitable for the multi-function calculator (see <a href="#Mfcalc-Declarations">Declarations for <code>mfcalc</code></a>):
        </p>
        <div class="example">
            <pre class="example">%{
  static void print_token_value (FILE *, int, YYSTYPE);
  #define YYPRINT(File, Type, Value)            \
    print_token_value (File, Type, Value)
%}

&hellip; %% &hellip; %% &hellip;

static void
print_token_value (FILE *file, int type, YYSTYPE value)
{
  if (type == VAR)
    fprintf (file, &quot;%s&quot;, value.tptr-&gt;name);
  else if (type == NUM)
    fprintf (file, &quot;%d&quot;, value.val);
}
</pre></div>


        <hr>
        <a name="Invocation"></a>
        <div class="header">
            <p>
                Next: <a href="#Other-Languages" accesskey="n" rel="next">Other Languages</a>, Previous: <a href="#Debugging" accesskey="p" rel="prev">Debugging</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Invoking-Bison"></a>
        <h2 class="chapter">9 Invoking Bison</h2>
        <a name="index-invoking-Bison"></a>
        <a name="index-Bison-invocation"></a>
        <a name="index-options-for-invoking-Bison"></a>

        <p>The usual way to invoke Bison is as follows:
        </p>
        <div class="example">
            <pre class="example">bison <var>infile</var>
</pre></div>

        <p>Here <var>infile</var> is the grammar file name, which usually ends in &lsquo;
            <samp>.y</samp>&rsquo;. The parser implementation file&rsquo;s name is made by replacing the &lsquo;<samp>.y</samp>&rsquo; with &lsquo;<samp>.tab.c</samp>&rsquo; and removing any leading directory. Thus, the &lsquo;<samp>bison foo.y</samp>&rsquo;
            file name yields <samp>foo.tab.c</samp>, and the &lsquo;<samp>bison hack/foo.y</samp>&rsquo; file name yields <samp>foo.tab.c</samp>. It&rsquo;s also possible, in case you are writing C++ code instead of C in your grammar file, to name it
            <samp>foo.ypp</samp> or <samp>foo.y++</samp>. Then, the output files will take an extension like the given one as input (respectively <samp>foo.tab.cpp</samp> and <samp>foo.tab.c++</samp>). This feature takes effect with all options that manipulate
            file names like &lsquo;
            <samp>-o</samp>&rsquo; or &lsquo;<samp>-d</samp>&rsquo;.
        </p>
        <p>For example :
        </p>
        <div class="example">
            <pre class="example">bison -d <var>infile.yxx</var>
</pre></div>
        <p>will produce <samp>infile.tab.cxx</samp> and <samp>infile.tab.hxx</samp>, and
        </p>
        <div class="example">
            <pre class="example">bison -d -o <var>output.c++</var> <var>infile.y</var>
</pre></div>
        <p>will produce <samp>output.c++</samp> and <samp>outfile.h++</samp>.
        </p>
        <p>For compatibility with POSIX, the standard Bison distribution also contains a shell script called <code>yacc</code> that invokes Bison with the <samp>-y</samp> option.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bison-Options" accesskey="1">Bison Options</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">All the options described in detail, in alphabetical order by short options.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Option-Cross-Key" accesskey="2">Option Cross Key</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Alphabetical list of long options.
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Yacc-Library" accesskey="3">Yacc Library</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Yacc-compatible <code>yylex</code> and <code>main</code>.
                </td>
            </tr>
        </table>

        <hr>
        <a name="Bison-Options"></a>
        <div class="header">
            <p>
                Next: <a href="#Option-Cross-Key" accesskey="n" rel="next">Option Cross Key</a>, Up: <a href="#Invocation" accesskey="u" rel="up">Invocation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison-Options-1"></a>
        <h3 class="section">9.1 Bison Options</h3>

        <p>Bison supports both traditional single-letter options and mnemonic long option names. Long option names are indicated with &lsquo;<samp>--</samp>&rsquo; instead of &lsquo;
            <samp>-</samp>&rsquo;. Abbreviations for option names are allowed as long as they are unique. When a long option takes an argument, like &lsquo;
            <samp>--file-prefix</samp>&rsquo;, connect the option name and the argument with &lsquo;
            <samp>=</samp>&rsquo;.
        </p>
        <p>Here is a list of options that can be used with Bison, alphabetized by short option. It is followed by a cross key alphabetized by long option.
        </p>
        <p>Operations modes:
        </p>
        <dl compact="compact">
            <dt><samp>-h</samp></dt>
            <dt><samp>--help</samp></dt>
            <dd>
                <p>Print a summary of the command-line options to Bison and exit.
                </p>
            </dd>
            <dt><samp>-V</samp></dt>
            <dt><samp>--version</samp></dt>
            <dd>
                <p>Print the version number of Bison and exit.
                </p>
            </dd>
            <dt><samp>--print-localedir</samp></dt>
            <dd>
                <p>Print the name of the directory containing locale-dependent data.
                </p>
            </dd>
            <dt><samp>--print-datadir</samp></dt>
            <dd>
                <p>Print the name of the directory containing skeletons and XSLT.
                </p>
            </dd>
            <dt><samp>-y</samp></dt>
            <dt><samp>--yacc</samp></dt>
            <dd>
                <p>Act more like the traditional Yacc command. This can cause different diagnostics to be generated, and may change behavior in other minor ways. Most importantly, imitate Yacc&rsquo;s output file name conventions, so that the parser implementation
                    file is called <samp>y.tab.c</samp>, and the other outputs are called <samp>y.output</samp> and <samp>y.tab.h</samp>. Also, if generating a deterministic parser in C, generate
                    <code>#define</code> statements in addition to an <code>enum</code> to associate token numbers with token names. Thus, the following shell script can substitute for Yacc, and the Bison distribution contains such a script for compatibility
                    with POSIX:
                </p>
                <div class="example">
                    <pre class="example">#! /bin/sh
bison -y &quot;$@&quot;
</pre></div>

                <p>The <samp>-y</samp>/<samp>--yacc</samp> option is intended for use with traditional Yacc grammars. If your grammar uses a Bison extension like &lsquo;<samp>%glr-parser</samp>&rsquo;, Bison might not be Yacc-compatible even if this option
                    is specified.
                </p>
            </dd>
            <dt><samp>-W [<var>category</var>]</samp></dt>
            <dt><samp>--warnings[=<var>category</var>]</samp></dt>
            <dd>
                <p>Output warnings falling in <var>category</var>. <var>category</var> can be one of:
                </p>
                <dl compact="compact">
                    <dt><code>midrule-values</code></dt>
                    <dd>
                        <p>Warn about mid-rule values that are set but not used within any of the actions of the parent rule. For example, warn about unused <code>$2</code> in:
                        </p>
                        <div class="example">
                            <pre class="example">exp: '1' { $$ = 1; } '+' exp { $$ = $1 + $4; };
</pre></div>

                        <p>Also warn about mid-rule values that are used but not set. For example, warn about unset <code>$$</code> in the mid-rule action in:
                        </p>
                        <div class="example">
                            <pre class="example">exp: '1' { $1 = 1; } '+' exp { $$ = $2 + $4; };
</pre></div>

                        <p>These warnings are not enabled by default since they sometimes prove to be false alarms in existing grammars employing the Yacc constructs
                            <code>$0</code> or <code>$-<var>n</var></code> (where <var>n</var> is some positive integer).
                        </p>
                    </dd>
                    <dt><code>yacc</code></dt>
                    <dd>
                        <p>Incompatibilities with POSIX Yacc.
                        </p>
                    </dd>
                    <dt><code>conflicts-sr</code></dt>
                    <dt><code>conflicts-rr</code></dt>
                    <dd>
                        <p>S/R and R/R conflicts. These warnings are enabled by default. However, if the <code>%expect</code> or <code>%expect-rr</code> directive is specified, an unexpected number of conflicts is an error, and an expected number of conflicts
                            is not reported, so <samp>-W</samp> and <samp>--warning</samp> then have no effect on the conflict report.
                        </p>
                    </dd>
                    <dt><code>deprecated</code></dt>
                    <dd>
                        <p>Deprecated constructs whose support will be removed in future versions of Bison.
                        </p>
                    </dd>
                    <dt><code>empty-rule</code></dt>
                    <dd>
                        <p>Empty rules without <code>%empty</code>. See <a href="#Empty-Rules">Empty Rules</a>. Disabled by default, but enabled by uses of <code>%empty</code>, unless
                            <samp>-Wno-empty-rule</samp> was specified.
                        </p>
                    </dd>
                    <dt><code>precedence</code></dt>
                    <dd>
                        <p>Useless precedence and associativity directives. Disabled by default.
                        </p>
                        <p>Consider for instance the following grammar:
                        </p>
                        <div class="example">
                            <pre class="example">%nonassoc &quot;=&quot;
%left &quot;+&quot;
%left &quot;*&quot;
%precedence &quot;(&quot;
</pre><pre class="example">%%
</pre><pre class="example">stmt:
  exp
| &quot;var&quot; &quot;=&quot; exp
;
</pre><pre class="example">
</pre><pre class="example">exp:
  exp &quot;+&quot; exp
| exp &quot;*&quot; &quot;num&quot;
| &quot;(&quot; exp &quot;)&quot;
| &quot;num&quot;
;
</pre></div>

                        <p>Bison reports:
                        </p>
                        <div class="example">
                            <pre class="example">warning: useless precedence and associativity for &quot;=&quot;
 %nonassoc &quot;=&quot;
           ^^^
</pre><pre class="example">warning: useless associativity for &quot;*&quot;, use %precedence
 %left &quot;*&quot;
       ^^^
</pre><pre class="example">warning: useless precedence for &quot;(&quot;
 %precedence &quot;(&quot;
             ^^^
</pre></div>

                        <p>One would get the exact same parser with the following directives instead:
                        </p>
                        <div class="example">
                            <pre class="example">%left &quot;+&quot;
%precedence &quot;*&quot;
</pre></div>

                    </dd>
                    <dt><code>other</code></dt>
                    <dd>
                        <p>All warnings not categorized above. These warnings are enabled by default.
                        </p>
                        <p>This category is provided merely for the sake of completeness. Future releases of Bison may move warnings from this category to new, more specific categories.
                        </p>
                    </dd>
                    <dt><code>all</code></dt>
                    <dd>
                        <p>All the warnings except <code>yacc</code>.
                        </p>
                    </dd>
                    <dt><code>none</code></dt>
                    <dd>
                        <p>Turn off all the warnings.
                        </p>
                    </dd>
                    <dt><code>error</code></dt>
                    <dd>
                        <p>See <samp>-Werror</samp>, below.
                        </p>
                    </dd>
                </dl>

                <p>A category can be turned off by prefixing its name with &lsquo;<samp>no-</samp>&rsquo;. For instance, <samp>-Wno-yacc</samp> will hide the warnings about POSIX Yacc incompatibilities.
                </p>
            </dd>
            <dt><samp>-Werror</samp></dt>
            <dd>
                <p>Turn enabled warnings for every <var>category</var> into errors, unless they are explicitly disabled by <samp>-Wno-error=<var>category</var></samp>.
                </p>
            </dd>
            <dt><samp>-Werror=<var>category</var></samp></dt>
            <dd>
                <p>Enable warnings falling in <var>category</var>, and treat them as errors.
                </p>
                <p><var>category</var> is the same as for <samp>--warnings</samp>, with the exception that it may not be prefixed with &lsquo;<samp>no-</samp>&rsquo; (see above).
                </p>
                <p>Note that the precedence of the &lsquo;<samp>=</samp>&rsquo; and &lsquo;<samp>,</samp>&rsquo; operators is such that the following commands are <em>not</em> equivalent, as the first will not treat S/R conflicts as errors.
                </p>
                <div class="example">
                    <pre class="example">$ bison -Werror=yacc,conflicts-sr input.y
$ bison -Werror=yacc,error=conflicts-sr input.y
</pre></div>

            </dd>
            <dt><samp>-Wno-error</samp></dt>
            <dd>
                <p>Do not turn enabled warnings for every <var>category</var> into errors, unless they are explicitly enabled by <samp>-Werror=<var>category</var></samp>.
                </p>
            </dd>
            <dt><samp>-Wno-error=<var>category</var></samp></dt>
            <dd>
                <p>Deactivate the error treatment for this <var>category</var>. However, the warning itself won&rsquo;t be disabled, or enabled, by this option.
                </p>
            </dd>
            <dt><samp>-f [<var>feature</var>]</samp></dt>
            <dt><samp>--feature[=<var>feature</var>]</samp></dt>
            <dd>
                <p>Activate miscellaneous <var>feature</var>. <var>feature</var> can be one of:
                </p>
                <dl compact="compact">
                    <dt><code>caret</code></dt>
                    <dt><code>diagnostics-show-caret</code></dt>
                    <dd>
                        <p>Show caret errors, in a manner similar to GCC&rsquo;s
                            <samp>-fdiagnostics-show-caret</samp>, or Clang&rsquo;s <samp>-fcaret-diagnotics</samp>. The location provided with the message is used to quote the corresponding line of the source file, underlining the important part of it
                            with carets (^). Here is an example, using the following file <samp>in.y</samp>:
                        </p>
                        <div class="example">
                            <pre class="example">%type &lt;ival&gt; exp
%%
exp: exp '+' exp { $exp = $1 + $2; };
</pre></div>

                        <p>When invoked with <samp>-fcaret</samp> (or nothing), Bison will report:
                        </p>
                        <div class="example">
                            <pre class="example">in.y:3.20-23: error: ambiguous reference: '$exp'
 exp: exp '+' exp { $exp = $1 + $2; };
                    ^^^^
</pre><pre class="example">in.y:3.1-3:       refers to: $exp at $$
 exp: exp '+' exp { $exp = $1 + $2; };
 ^^^
</pre><pre class="example">in.y:3.6-8:       refers to: $exp at $1
 exp: exp '+' exp { $exp = $1 + $2; };
      ^^^
</pre><pre class="example">in.y:3.14-16:     refers to: $exp at $3
 exp: exp '+' exp { $exp = $1 + $2; };
              ^^^
</pre><pre class="example">in.y:3.32-33: error: $2 of 'exp' has no declared type
 exp: exp '+' exp { $exp = $1 + $2; };
                                ^^
</pre></div>

                        <p>Whereas, when invoked with <samp>-fno-caret</samp>, Bison will only report:
                        </p>
                        <div class="example">
                            <pre class="example">in.y:3.20-23: error: ambiguous reference: $exp
in.y:3.1-3:       refers to: $exp at $$
in.y:3.6-8:       refers to: $exp at $1
in.y:3.14-16:     refers to: $exp at $3
in.y:3.32-33: error: $2 of exp has no declared type
</pre></div>

                        <p>This option is activated by default.
                        </p>
                    </dd>
                </dl>
            </dd>
        </dl>

        <p>Tuning the parser:
        </p>
        <dl compact="compact">
            <dt><samp>-t</samp></dt>
            <dt><samp>--debug</samp></dt>
            <dd>
                <p>In the parser implementation file, define the macro <code>YYDEBUG</code> to 1 if it is not already defined, so that the debugging facilities are compiled. See <a href="#Tracing">Tracing Your Parser</a>.
                </p>
            </dd>
            <dt><samp>-D <var>name</var>[=<var>value</var>]</samp></dt>
            <dt><samp>--define=<var>name</var>[=<var>value</var>]</samp></dt>
            <dt><samp>-F <var>name</var>[=<var>value</var>]</samp></dt>
            <dt><samp>--force-define=<var>name</var>[=<var>value</var>]</samp></dt>
            <dd>
                <p>Each of these is equivalent to &lsquo;<samp>%define <var>name</var> &quot;<var>value</var>&quot;</samp>&rsquo; (see <a href="#g_t_0025define-Summary">%define Summary</a>) except that Bison processes multiple definitions for the same <var>name</var>                    as follows:
                </p>
                <ul>
                    <li> Bison quietly ignores all command-line definitions for <var>name</var> except the last.
                    </li>
                    <li> If that command-line definition is specified by a <code>-D</code> or
                        <code>--define</code>, Bison reports an error for any <code>%define</code> definition for <var>name</var>.
                    </li>
                    <li> If that command-line definition is specified by a <code>-F</code> or
                        <code>--force-define</code> instead, Bison quietly ignores all <code>%define</code> definitions for <var>name</var>.
                    </li>
                    <li> Otherwise, Bison reports an error if there are multiple <code>%define</code> definitions for <var>name</var>.
                    </li>
                </ul>

                <p>You should avoid using <code>-F</code> and <code>--force-define</code> in your make files unless you are confident that it is safe to quietly ignore any conflicting <code>%define</code> that may be added to the grammar file.
                </p>
            </dd>
            <dt><samp>-L <var>language</var></samp></dt>
            <dt><samp>--language=<var>language</var></samp></dt>
            <dd>
                <p>Specify the programming language for the generated parser, as if
                    <code>%language</code> was specified (see <a href="#Decl-Summary">Bison Declaration
Summary</a>). Currently supported languages include C, C++, and Java.
                    <var>language</var> is case-insensitive.
                </p>
            </dd>
            <dt><samp>--locations</samp></dt>
            <dd>
                <p>Pretend that <code>%locations</code> was specified. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
            <dt><samp>-p <var>prefix</var></samp></dt>
            <dt><samp>--name-prefix=<var>prefix</var></samp></dt>
            <dd>
                <p>Pretend that <code>%name-prefix &quot;<var>prefix</var>&quot;</code> was specified (see <a href="#Decl-Summary">Decl Summary</a>). Obsoleted by <code>-Dapi.prefix=<var>prefix</var></code>. See <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>.
                </p>
            </dd>
            <dt><samp>-l</samp></dt>
            <dt><samp>--no-lines</samp></dt>
            <dd>
                <p>Don&rsquo;t put any <code>#line</code> preprocessor commands in the parser implementation file. Ordinarily Bison puts them in the parser implementation file so that the C compiler and debuggers will associate errors with your source file,
                    the grammar file. This option causes them to associate errors with the parser implementation file, treating it as an independent source file in its own right.
                </p>
            </dd>
            <dt><samp>-S <var>file</var></samp></dt>
            <dt><samp>--skeleton=<var>file</var></samp></dt>
            <dd>
                <p>Specify the skeleton to use, similar to <code>%skeleton</code> (see <a href="#Decl-Summary">Bison Declaration Summary</a>).
                </p>

                <p>If <var>file</var> does not contain a <code>/</code>, <var>file</var> is the name of a skeleton file in the Bison installation directory. If it does, <var>file</var> is an absolute file name or a file name relative to the current working
                    directory. This is similar to how most shells resolve commands.
                </p>
            </dd>
            <dt><samp>-k</samp></dt>
            <dt><samp>--token-table</samp></dt>
            <dd>
                <p>Pretend that <code>%token-table</code> was specified. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <p>Adjust the output:
        </p>
        <dl compact="compact">
            <dt><samp>--defines[=<var>file</var>]</samp></dt>
            <dd>
                <p>Pretend that <code>%defines</code> was specified, i.e., write an extra output file containing macro definitions for the token type names defined in the grammar, as well as a few other declarations. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
            <dt><samp>-d</samp></dt>
            <dd>
                <p>This is the same as <code>--defines</code> except <code>-d</code> does not accept a
                    <var>file</var> argument since POSIX Yacc requires that <code>-d</code> can be bundled with other short options.
                </p>
            </dd>
            <dt><samp>-b <var>file-prefix</var></samp></dt>
            <dt><samp>--file-prefix=<var>prefix</var></samp></dt>
            <dd>
                <p>Pretend that <code>%file-prefix</code> was specified, i.e., specify prefix to use for all Bison output file names. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
            <dt><samp>-r <var>things</var></samp></dt>
            <dt><samp>--report=<var>things</var></samp></dt>
            <dd>
                <p>Write an extra output file containing verbose description of the comma separated list of <var>things</var> among:
                </p>
                <dl compact="compact">
                    <dt><code>state</code></dt>
                    <dd>
                        <p>Description of the grammar, conflicts (resolved and unresolved), and parser&rsquo;s automaton.
                        </p>
                    </dd>
                    <dt><code>itemset</code></dt>
                    <dd>
                        <p>Implies <code>state</code> and augments the description of the automaton with the full set of items for each state, instead of its core only.
                        </p>
                    </dd>
                    <dt><code>lookahead</code></dt>
                    <dd>
                        <p>Implies <code>state</code> and augments the description of the automaton with each rule&rsquo;s lookahead set.
                        </p>
                    </dd>
                    <dt><code>solved</code></dt>
                    <dd>
                        <p>Implies <code>state</code>. Explain how conflicts were solved thanks to precedence and associativity directives.
                        </p>
                    </dd>
                    <dt><code>all</code></dt>
                    <dd>
                        <p>Enable all the items.
                        </p>
                    </dd>
                    <dt><code>none</code></dt>
                    <dd>
                        <p>Do not generate the report.
                        </p>
                    </dd>
                </dl>

            </dd>
            <dt><samp>--report-file=<var>file</var></samp></dt>
            <dd>
                <p>Specify the <var>file</var> for the verbose description.
                </p>
            </dd>
            <dt><samp>-v</samp></dt>
            <dt><samp>--verbose</samp></dt>
            <dd>
                <p>Pretend that <code>%verbose</code> was specified, i.e., write an extra output file containing verbose descriptions of the grammar and parser. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
            <dt><samp>-o <var>file</var></samp></dt>
            <dt><samp>--output=<var>file</var></samp></dt>
            <dd>
                <p>Specify the <var>file</var> for the parser implementation file.
                </p>
                <p>The other output files&rsquo; names are constructed from <var>file</var> as described under the &lsquo;<samp>-v</samp>&rsquo; and &lsquo;<samp>-d</samp>&rsquo; options.
                </p>
            </dd>
            <dt><samp>-g [<var>file</var>]</samp></dt>
            <dt><samp>--graph[=<var>file</var>]</samp></dt>
            <dd>
                <p>Output a graphical representation of the parser&rsquo;s automaton computed by Bison, in <a href="http://www.graphviz.org/">Graphviz</a>
                    <a href="http://www.graphviz.org/doc/info/lang.html">DOT</a> format.
                    <code><var>file</var></code> is optional. If omitted and the grammar file is <samp>foo.y</samp>, the output file will be
                    <samp>foo.dot</samp>.
                </p>
            </dd>
            <dt><samp>-x [<var>file</var>]</samp></dt>
            <dt><samp>--xml[=<var>file</var>]</samp></dt>
            <dd>
                <p>Output an XML report of the parser&rsquo;s automaton computed by Bison.
                    <code><var>file</var></code> is optional. If omitted and the grammar file is <samp>foo.y</samp>, the output file will be
                    <samp>foo.xml</samp>. (The current XML schema is experimental and may evolve. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Option-Cross-Key"></a>
        <div class="header">
            <p>
                Next: <a href="#Yacc-Library" accesskey="n" rel="next">Yacc Library</a>, Previous: <a href="#Bison-Options" accesskey="p" rel="prev">Bison Options</a>, Up: <a href="#Invocation" accesskey="u" rel="up">Invocation</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Option-Cross-Key-1"></a>
        <h3 class="section">9.2 Option Cross Key</h3>

        <p>Here is a list of options, alphabetized by long option, to help you find the corresponding short option and directive.
        </p>
        <table>
            <thead>
                <tr>
                    <th>Long Option</th>
                    <th>Short Option</th>
                    <th>Bison Directive</th>
                </tr>
            </thead>
            <tr>
                <td><samp>--debug</samp></td>
                <td><samp>-t</samp></td>
                <td><code>%debug</code></td>
            </tr>
            <tr>
                <td><samp>--define=<var>name</var>[=<var>value</var>]</samp></td>
                <td><samp>-D <var>name</var>[=<var>value</var>]</samp></td>
                <td><code>%define <var>name</var> [&quot;<var>value</var>&quot;]</code></td>
            </tr>
            <tr>
                <td><samp>--defines[=<var>file</var>]</samp></td>
                <td><samp>-d</samp></td>
                <td><code>%defines [<var>&quot;file&quot;</var>]</code></td>
            </tr>
            <tr>
                <td><samp>--feature[=<var>feature</var>]</samp></td>
                <td><samp>-f [<var>feature</var>]</samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--file-prefix=<var>prefix</var></samp></td>
                <td><samp>-b <var>prefix</var></samp></td>
                <td><code>%file-prefix <var>&quot;prefix&quot;</var></code></td>
            </tr>
            <tr>
                <td><samp>--force-define=<var>name</var>[=<var>value</var>]</samp></td>
                <td><samp>-F <var>name</var>[=<var>value</var>]</samp></td>
                <td><code>%define <var>name</var> [&quot;<var>value</var>&quot;]</code></td>
            </tr>
            <tr>
                <td><samp>--graph[=<var>file</var>]</samp></td>
                <td><samp>-g [<var>file</var>]</samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--help</samp></td>
                <td><samp>-h</samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--language=<var>language</var></samp></td>
                <td><samp>-L <var>language</var></samp></td>
                <td><code>%language <var>&quot;language&quot;</var></code></td>
            </tr>
            <tr>
                <td><samp>--locations</samp></td>
                <td></td>
                <td><code>%locations</code></td>
            </tr>
            <tr>
                <td><samp>--name-prefix=<var>prefix</var></samp></td>
                <td><samp>-p <var>prefix</var></samp></td>
                <td><code>%name-prefix <var>&quot;prefix&quot;</var></code></td>
            </tr>
            <tr>
                <td><samp>--no-lines</samp></td>
                <td><samp>-l</samp></td>
                <td><code>%no-lines</code></td>
            </tr>
            <tr>
                <td><samp>--output=<var>file</var></samp></td>
                <td><samp>-o <var>file</var></samp></td>
                <td><code>%output <var>&quot;file&quot;</var></code></td>
            </tr>
            <tr>
                <td><samp>--print-datadir</samp></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--print-localedir</samp></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--report-file=<var>file</var></samp></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--report=<var>things</var></samp></td>
                <td><samp>-r <var>things</var></samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--skeleton=<var>file</var></samp></td>
                <td><samp>-S <var>file</var></samp></td>
                <td><code>%skeleton <var>&quot;file&quot;</var></code></td>
            </tr>
            <tr>
                <td><samp>--token-table</samp></td>
                <td><samp>-k</samp></td>
                <td><code>%token-table</code></td>
            </tr>
            <tr>
                <td><samp>--verbose</samp></td>
                <td><samp>-v</samp></td>
                <td><code>%verbose</code></td>
            </tr>
            <tr>
                <td><samp>--version</samp></td>
                <td><samp>-V</samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--warnings[=<var>category</var>]</samp></td>
                <td><samp>-W [<var>category</var>]</samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--xml[=<var>file</var>]</samp></td>
                <td><samp>-x [<var>file</var>]</samp></td>
                <td></td>
            </tr>
            <tr>
                <td><samp>--yacc</samp></td>
                <td><samp>-y</samp></td>
                <td><code>%yacc</code></td>
            </tr>
        </table>

        <hr>
        <a name="Yacc-Library"></a>
        <div class="header">
            <p>
                Previous: <a href="#Option-Cross-Key" accesskey="p" rel="prev">Option Cross Key</a>, Up: <a href="#Invocation" accesskey="u" rel="up">Invocation</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Yacc-Library-1"></a>
        <h3 class="section">9.3 Yacc Library</h3>

        <p>The Yacc library contains default implementations of the
            <code>yyerror</code> and <code>main</code> functions. These default implementations are normally not useful, but POSIX requires them. To use the Yacc library, link your program with the
            <samp>-ly</samp> option. Note that Bison&rsquo;s implementation of the Yacc library is distributed under the terms of the GNU General Public License (see <a href="#Copying">Copying</a>).
        </p>
        <p>If you use the Yacc library&rsquo;s <code>yyerror</code> function, you should declare <code>yyerror</code> as follows:
        </p>
        <div class="example">
            <pre class="example">int yyerror (char const *);
</pre></div>

        <p>The <code>int</code> value returned by this <code>yyerror</code> is ignored.
        </p>
        <p>The implementation of Yacc library&rsquo;s <code>main</code> function is:
        </p>
        <div class="example">
            <pre class="example">int main (void)
{
  setlocale (LC_ALL, &quot;&quot;);
  return yyparse ();
}
</pre></div>

        <p>so if you use it, the internationalization support is enabled (e.g., error messages are translated), and your <code>yyparse</code> function should have the following type signature:
        </p>
        <div class="example">
            <pre class="example">int yyparse (void);
</pre></div>


        <hr>
        <a name="Other-Languages"></a>
        <div class="header">
            <p>
                Next: <a href="#FAQ" accesskey="n" rel="next">FAQ</a>, Previous: <a href="#Invocation" accesskey="p" rel="prev">Invocation</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Parsers-Written-In-Other-Languages"></a>
        <h2 class="chapter">10 Parsers Written In Other Languages</h2>

        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Parsers" accesskey="1">C++ Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The interface to generate C++ parser classes
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Parsers" accesskey="2">Java Parsers</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The interface to generate Java parser classes
                </td>
            </tr>
        </table>

        <hr>
        <a name="C_002b_002b-Parsers"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Parsers" accesskey="n" rel="next">Java Parsers</a>, Up: <a href="#Other-Languages" accesskey="u" rel="up">Other Languages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Parsers-1"></a>
        <h3 class="section">10.1 C++ Parsers</h3>

        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Bison-Interface" accesskey="1">C++ Bison Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Asking for C++ parser generation
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Semantic-Values" accesskey="2">C++ Semantic Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">%union vs. C++
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Location-Values" accesskey="3">C++ Location Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The position and location classes
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Parser-Interface" accesskey="4">C++ Parser Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Instantiating and running the parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Scanner-Interface" accesskey="5">C++ Scanner Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Exchanges between yylex and parse
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#A-Complete-C_002b_002b-Example" accesskey="6">A Complete C++ Example</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Demonstrating their use
                </td>
            </tr>
        </table>

        <hr>
        <a name="C_002b_002b-Bison-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#C_002b_002b-Semantic-Values" accesskey="n" rel="next">C++ Semantic Values</a>, Up: <a href="#C_002b_002b-Parsers" accesskey="u" rel="up">C++ Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Bison-Interface-1"></a>
        <h4 class="subsection">10.1.1 C++ Bison Interface</h4>

        <p>The C++ deterministic parser is selected using the skeleton directive, &lsquo;
            <samp>%skeleton &quot;lalr1.cc&quot;</samp>&rsquo;, or the synonymous command-line option
            <samp>--skeleton=lalr1.cc</samp>. See <a href="#Decl-Summary">Decl Summary</a>.
        </p>
        <p>When run, <code>bison</code> will create several entities in the &lsquo;<samp>yy</samp>&rsquo; namespace.
            <a name="index-_0025define-api_002enamespace-1"></a>
            Use the &lsquo;<samp>%define api.namespace</samp>&rsquo; directive to change the namespace name, see <a href="#g_t_0025define-Summary">api.namespace</a>. The various classes are generated in the following files:
        </p>
        <dl compact="compact">
            <dt><samp>position.hh</samp></dt>
            <dt><samp>location.hh</samp></dt>
            <dd>
                <p>The definition of the classes <code>position</code> and <code>location</code>, used for location tracking when enabled. These files are not generated if the
                    <code>%define</code> variable <code>api.location.type</code> is defined. See <a href="#C_002b_002b-Location-Values">C++ Location Values</a>.
                </p>
            </dd>
            <dt><samp>stack.hh</samp></dt>
            <dd>
                <p>An auxiliary class <code>stack</code> used by the parser.
                </p>
            </dd>
            <dt><samp><var>file</var>.hh</samp></dt>
            <dt><samp><var>file</var>.cc</samp></dt>
            <dd>
                <p>(Assuming the extension of the grammar file was &lsquo;<samp>.yy</samp>&rsquo;.) The declaration and implementation of the C++ parser class. The basename and extension of these two files follow the same rules as with regular C parsers
                    (see
                    <a href="#Invocation">Invocation</a>).
                </p>
                <p>The header is <em>mandatory</em>; you must either pass
                    <samp>-d</samp>/<samp>--defines</samp> to <code>bison</code>, or use the &lsquo;
                    <samp>%defines</samp>&rsquo; directive.
                </p>
            </dd>
        </dl>

        <p>All these files are documented using Doxygen; run <code>doxygen</code> for a complete and accurate documentation.
        </p>
        <hr>
        <a name="C_002b_002b-Semantic-Values"></a>
        <div class="header">
            <p>
                Next: <a href="#C_002b_002b-Location-Values" accesskey="n" rel="next">C++ Location Values</a>, Previous: <a href="#C_002b_002b-Bison-Interface" accesskey="p" rel="prev">C++ Bison Interface</a>, Up: <a href="#C_002b_002b-Parsers" accesskey="u"
                    rel="up">C++ Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Semantic-Values-1"></a>
        <h4 class="subsection">10.1.2 C++ Semantic Values</h4>

        <p>Bison supports two different means to handle semantic values in C++. One is alike the C interface, and relies on unions (see <a href="#C_002b_002b-Unions">C++ Unions</a>). As C++ practitioners know, unions are inconvenient in C++, therefore another
            approach is provided, based on variants (see <a href="#C_002b_002b-Variants">C++ Variants</a>).
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Unions" accesskey="1">C++ Unions</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Semantic values cannot be objects
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-Variants" accesskey="2">C++ Variants</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Using objects as semantic values
                </td>
            </tr>
        </table>

        <hr>
        <a name="C_002b_002b-Unions"></a>
        <div class="header">
            <p>
                Next: <a href="#C_002b_002b-Variants" accesskey="n" rel="next">C++ Variants</a>, Up: <a href="#C_002b_002b-Semantic-Values" accesskey="u" rel="up">C++ Semantic Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Unions-1"></a>
        <h4 class="subsubsection">10.1.2.1 C++ Unions</h4>

        <p>The <code>%union</code> directive works as for C, see <a href="#Union-Decl">The
Union Declaration</a>. In particular it produces a genuine
            <code>union</code>, which have a few specific features in C++.
        </p>
        <ul class="no-bullet">
            <li>- The type <code>YYSTYPE</code> is defined but its use is discouraged: rather you should refer to the parser&rsquo;s encapsulated type
                <code>yy::parser::semantic_type</code>.
            </li>
            <li>- Non POD (Plain Old Data) types cannot be used. C++ forbids any instance of classes with constructors in unions: only <em>pointers</em> to such objects are allowed.
            </li>
        </ul>

        <p>Because objects have to be stored via pointers, memory is not reclaimed automatically: using the <code>%destructor</code> directive is the only means to avoid leaks. See <a href="#Destructor-Decl">Freeing Discarded
Symbols</a>.
        </p>
        <hr>
        <a name="C_002b_002b-Variants"></a>
        <div class="header">
            <p>
                Previous: <a href="#C_002b_002b-Unions" accesskey="p" rel="prev">C++ Unions</a>, Up: <a href="#C_002b_002b-Semantic-Values" accesskey="u" rel="up">C++ Semantic Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Variants-1"></a>
        <h4 class="subsubsection">10.1.2.2 C++ Variants</h4>

        <p>Bison provides a <em>variant</em> based implementation of semantic values for C++. This alleviates all the limitations reported in the previous section, and in particular, object types can be used without pointers.
        </p>
        <p>To enable variant-based semantic values, set <code>%define</code> variable
            <code>variant</code> (see <a href="#g_t_0025define-Summary">variant</a>). Once this defined,
            <code>%union</code> is ignored, and instead of using the name of the fields of the
            <code>%union</code> to &ldquo;type&rdquo; the symbols, use genuine types.
        </p>
        <p>For instance, instead of
        </p>
        <div class="example">
            <pre class="example">%union
{
  int ival;
  std::string* sval;
}
%token &lt;ival&gt; NUMBER;
%token &lt;sval&gt; STRING;
</pre></div>

        <p>write
        </p>
        <div class="example">
            <pre class="example">%token &lt;int&gt; NUMBER;
%token &lt;std::string&gt; STRING;
</pre></div>

        <p><code>STRING</code> is no longer a pointer, which should fairly simplify the user actions in the grammar and in the scanner (in particular the memory management).
        </p>
        <p>Since C++ features destructors, and since it is customary to specialize
            <code>operator&lt;&lt;</code> to support uniform printing of values, variants also typically simplify Bison printers and destructors.
        </p>
        <p>Variants are stricter than unions. When based on unions, you may play any dirty game with <code>yylval</code>, say storing an <code>int</code>, reading a
            <code>char*</code>, and then storing a <code>double</code> in it. This is no longer possible with variants: they must be initialized, then assigned to, and eventually, destroyed.
        </p>
        <dl>
            <dt><a name="index-build_003cT_003e-on-semantic_005ftype"></a>Method on semantic_type: <em>T&amp;</em> <strong>build&lt;T&gt;</strong> <em>()</em></dt>
            <dd>
                <p>Initialize, but leave empty. Returns the address where the actual value may be stored. Requires that the variant was not initialized yet.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-build_003cT_003e-on-semantic_005ftype-1"></a>Method on semantic_type: <em>T&amp;</em> <strong>build&lt;T&gt;</strong> <em>(const T&amp; <var>t</var>)</em></dt>
            <dd>
                <p>Initialize, and copy-construct from <var>t</var>.
                </p>
            </dd>
        </dl>


        <p><strong>Warning</strong>: We do not use Boost.Variant, for two reasons. First, it appeared unacceptable to require Boost on the user&rsquo;s machine (i.e., the machine on which the generated parser will be compiled, not the machine on which <code>bison</code>            was run). Second, for each possible semantic value, Boost.Variant not only stores the value, but also a tag specifying its type. But the parser already &ldquo;knows&rdquo; the type of the semantic value, so that would be duplicating the information.
        </p>
        <p>Therefore we developed light-weight variants whose type tag is external (so they are really like <code>unions</code> for C++ actually). But our code is much less mature that Boost.Variant. So there is a number of limitations in (the current implementation
            of) variants:
        </p>
        <ul>
            <li> Alignment must be enforced: values should be aligned in memory according to the most demanding type. Computing the smallest alignment possible requires meta-programming techniques that are not currently implemented in Bison, and therefore,
                since, as far as we know, <code>double</code> is the most demanding type on all platforms, alignments are enforced for <code>double</code> whatever types are actually used. This may waste space in some cases.

            </li>
            <li> There might be portability issues we are not aware of.
            </li>
        </ul>

        <p>As far as we know, these limitations <em>can</em> be alleviated. All it takes is some time and/or some talented C++ hacker willing to contribute to Bison.
        </p>
        <hr>
        <a name="C_002b_002b-Location-Values"></a>
        <div class="header">
            <p>
                Next: <a href="#C_002b_002b-Parser-Interface" accesskey="n" rel="next">C++ Parser Interface</a>, Previous: <a href="#C_002b_002b-Semantic-Values" accesskey="p" rel="prev">C++ Semantic Values</a>, Up: <a href="#C_002b_002b-Parsers" accesskey="u"
                    rel="up">C++ Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Location-Values-1"></a>
        <h4 class="subsection">10.1.3 C++ Location Values</h4>

        <p>When the directive <code>%locations</code> is used, the C++ parser supports location tracking, see <a href="#Tracking-Locations">Tracking Locations</a>.
        </p>
        <p>By default, two auxiliary classes define a <code>position</code>, a single point in a file, and a <code>location</code>, a range composed of a pair of
            <code>position</code>s (possibly spanning several files). But if the
            <code>%define</code> variable <code>api.location.type</code> is defined, then these classes will not be generated, and the user defined type will be used.
        </p>
        <a name="index-uint"></a>
        <p>In this section <code>uint</code> is an abbreviation for <code>unsigned int</code>: in genuine code only the latter is used.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-position" accesskey="1">C++ position</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">One point in the source file
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#C_002b_002b-location" accesskey="2">C++ location</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Two points in the source file
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#User-Defined-Location-Type" accesskey="3">User Defined Location Type</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Required interface for locations
                </td>
            </tr>
        </table>

        <hr>
        <a name="C_002b_002b-position"></a>
        <div class="header">
            <p>
                Next: <a href="#C_002b_002b-location" accesskey="n" rel="next">C++ location</a>, Up: <a href="#C_002b_002b-Location-Values" accesskey="u" rel="up">C++ Location Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-position-1"></a>
        <h4 class="subsubsection">10.1.3.1 C++ <code>position</code></h4>

        <dl>
            <dt><a name="index-position-on-position"></a>Constructor on position: <em></em> <strong>position</strong> <em>(std::string* <var>file</var> = 0, uint <var>line</var> = 1, uint <var>col</var> = 1)</em></dt>
            <dd>
                <p>Create a <code>position</code> denoting a given point. Note that <code>file</code> is not reclaimed when the <code>position</code> is destroyed: memory managed must be handled elsewhere.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-initialize-on-position"></a>Method on position: <em>void</em> <strong>initialize</strong> <em>(std::string* <var>file</var> = 0, uint <var>line</var> = 1, uint <var>col</var> = 1)</em></dt>
            <dd>
                <p>Reset the position to the given values.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-file-of-position"></a>Instance Variable of position: <em>std::string*</em> <strong>file</strong></dt>
            <dd>
                <p>The name of the file. It will always be handled as a pointer, the parser will never duplicate nor deallocate it. As an experimental feature you may change it to &lsquo;<samp><var>type</var>*</samp>&rsquo; using &lsquo;<samp>%define
filename_type &quot;<var>type</var>&quot;</samp>&rsquo;.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-line-of-position"></a>Instance Variable of position: <em>uint</em> <strong>line</strong></dt>
            <dd>
                <p>The line, starting at 1.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-lines-on-position"></a>Method on position: <em>void</em> <strong>lines</strong> <em>(int <var>height</var> = 1)</em></dt>
            <dd>
                <p>If <var>height</var> is not null, advance by <var>height</var> lines, resetting the column number. The resulting line number cannot be less than 1.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-column-of-position"></a>Instance Variable of position: <em>uint</em> <strong>column</strong></dt>
            <dd>
                <p>The column, starting at 1.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-columns-on-position"></a>Method on position: <em>void</em> <strong>columns</strong> <em>(int <var>width</var> = 1)</em></dt>
            <dd>
                <p>Advance by <var>width</var> columns, without changing the line number. The resulting column number cannot be less than 1.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_002b_003d-on-position"></a>Method on position: <em>position&amp;</em> <strong>operator+=</strong> <em>(int <var>width</var>)</em></dt>
            <dt><a name="index-operator_002b-on-position"></a>Method on position: <em>position</em> <strong>operator+</strong> <em>(int <var>width</var>)</em></dt>
            <dt><a name="index-operator_002d_003d-on-position"></a>Method on position: <em>position&amp;</em> <strong>operator-=</strong> <em>(int <var>width</var>)</em></dt>
            <dt><a name="index-operator_002d-on-position"></a>Method on position: <em>position</em> <strong>operator-</strong> <em>(int <var>width</var>)</em></dt>
            <dd>
                <p>Various forms of syntactic sugar for <code>columns</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_003d_003d-on-position"></a>Method on position: <em>bool</em> <strong>operator==</strong> <em>(const position&amp; <var>that</var>)</em></dt>
            <dt><a name="index-operator_0021_003d-on-position"></a>Method on position: <em>bool</em> <strong>operator!=</strong> <em>(const position&amp; <var>that</var>)</em></dt>
            <dd>
                <p>Whether <code>*this</code> and <code>that</code> denote equal/different positions.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_003c_003c"></a>Function: <em>std::ostream&amp;</em> <strong>operator&lt;&lt;</strong> <em>(std::ostream&amp; <var>o</var>, const position&amp; <var>p</var>)</em></dt>
            <dd>
                <p>Report <var>p</var> on <var>o</var> like this: &lsquo;
                    <samp><var>file</var>:<var>line</var>.<var>column</var></samp>&rsquo;, or &lsquo;
                    <samp><var>line</var>.<var>column</var></samp>&rsquo; if <var>file</var> is null.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="C_002b_002b-location"></a>
        <div class="header">
            <p>
                Next: <a href="#User-Defined-Location-Type" accesskey="n" rel="next">User Defined Location Type</a>, Previous: <a href="#C_002b_002b-position" accesskey="p" rel="prev">C++ position</a>, Up: <a href="#C_002b_002b-Location-Values" accesskey="u"
                    rel="up">C++ Location Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-location-1"></a>
        <h4 class="subsubsection">10.1.3.2 C++ <code>location</code></h4>

        <dl>
            <dt><a name="index-location-on-location"></a>Constructor on location: <em></em> <strong>location</strong> <em>(const position&amp; <var>begin</var>, const position&amp; <var>end</var>)</em></dt>
            <dd>
                <p>Create a <code>Location</code> from the endpoints of the range.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-location-on-location-1"></a>Constructor on location: <em></em> <strong>location</strong> <em>(const position&amp; <var>pos</var> = position())</em></dt>
            <dt><a name="index-location-on-location-2"></a>Constructor on location: <em></em> <strong>location</strong> <em>(std::string* <var>file</var>, uint <var>line</var>, uint <var>col</var>)</em></dt>
            <dd>
                <p>Create a <code>Location</code> denoting an empty range located at a given point.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-initialize-on-location"></a>Method on location: <em>void</em> <strong>initialize</strong> <em>(std::string* <var>file</var> = 0, uint <var>line</var> = 1, uint <var>col</var> = 1)</em></dt>
            <dd>
                <p>Reset the location to an empty range at the given values.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-begin-of-location"></a>Instance Variable of location: <em>position</em> <strong>begin</strong></dt>
            <dt><a name="index-end-of-location"></a>Instance Variable of location: <em>position</em> <strong>end</strong></dt>
            <dd>
                <p>The first, inclusive, position of the range, and the first beyond.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-columns-on-location"></a>Method on location: <em>void</em> <strong>columns</strong> <em>(int <var>width</var> = 1)</em></dt>
            <dt><a name="index-lines-on-location"></a>Method on location: <em>void</em> <strong>lines</strong> <em>(int <var>height</var> = 1)</em></dt>
            <dd>
                <p>Forwarded to the <code>end</code> position.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_002b-on-location"></a>Method on location: <em>location</em> <strong>operator+</strong> <em>(int <var>width</var>)</em></dt>
            <dt><a name="index-operator_002b_003d-on-location"></a>Method on location: <em>location</em> <strong>operator+=</strong> <em>(int <var>width</var>)</em></dt>
            <dt><a name="index-operator_002d-on-location"></a>Method on location: <em>location</em> <strong>operator-</strong> <em>(int <var>width</var>)</em></dt>
            <dt><a name="index-operator_002d_003d-on-location"></a>Method on location: <em>location</em> <strong>operator-=</strong> <em>(int <var>width</var>)</em></dt>
            <dd>
                <p>Various forms of syntactic sugar for <code>columns</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_002b-on-location-1"></a>Method on location: <em>location</em> <strong>operator+</strong> <em>(const location&amp; <var>end</var>)</em></dt>
            <dt><a name="index-operator_002b_003d-on-location-1"></a>Method on location: <em>location</em> <strong>operator+=</strong> <em>(const location&amp; <var>end</var>)</em></dt>
            <dd>
                <p>Join two locations: starts at the position of the first one, and ends at the position of the second.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-step-on-location"></a>Method on location: <em>void</em> <strong>step</strong> <em>()</em></dt>
            <dd>
                <p>Move <code>begin</code> onto <code>end</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_003d_003d-on-location"></a>Method on location: <em>bool</em> <strong>operator==</strong> <em>(const location&amp; <var>that</var>)</em></dt>
            <dt><a name="index-operator_0021_003d-on-location"></a>Method on location: <em>bool</em> <strong>operator!=</strong> <em>(const location&amp; <var>that</var>)</em></dt>
            <dd>
                <p>Whether <code>*this</code> and <code>that</code> denote equal/different ranges of positions.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-operator_003c_003c-1"></a>Function: <em>std::ostream&amp;</em> <strong>operator&lt;&lt;</strong> <em>(std::ostream&amp; <var>o</var>, const location&amp; <var>p</var>)</em></dt>
            <dd>
                <p>Report <var>p</var> on <var>o</var>, taking care of special cases such as: no
                    <code>filename</code> defined, or equal filename/line or column.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="User-Defined-Location-Type"></a>
        <div class="header">
            <p>
                Previous: <a href="#C_002b_002b-location" accesskey="p" rel="prev">C++ location</a>, Up: <a href="#C_002b_002b-Location-Values" accesskey="u" rel="up">C++ Location Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="User-Defined-Location-Type-1"></a>
        <h4 class="subsubsection">10.1.3.3 User Defined Location Type</h4>
        <a name="index-_0025define-api_002elocation_002etype-1"></a>

        <p>Instead of using the built-in types you may use the <code>%define</code> variable
            <code>api.location.type</code> to specify your own type:
        </p>
        <div class="example">
            <pre class="example">%define api.location.type {<var>LocationType</var>}
</pre></div>

        <p>The requirements over your <var>LocationType</var> are:
        </p>
        <ul>
            <li> it must be copyable;

            </li>
            <li> in order to compute the (default) value of <code>@$</code> in a reduction, the parser basically runs
                <div class="example">
                    <pre class="example">@$.begin = @1.begin;
@$.end   = @<var>N</var>.end; // The location of last right-hand side symbol.
</pre></div>
                <p>so there must be copyable <code>begin</code> and <code>end</code> members;
                </p>
            </li>
            <li> alternatively you may redefine the computation of the default location, in which case these members are not required (see <a href="#Location-Default-Action">Location Default Action</a>);

            </li>
            <li> if traces are enabled, then there must exist an &lsquo;<samp>std::ostream&amp;
  operator&lt;&lt; (std::ostream&amp; o, const <var>LocationType</var>&amp; s)</samp>&rsquo; function.
            </li>
        </ul>

        <br>

        <p>In programs with several C++ parsers, you may also use the <code>%define</code> variable <code>api.location.type</code> to share a common set of built-in definitions for <code>position</code> and <code>location</code>. For instance, one parser
            <samp>master/parser.yy</samp> might use:
        </p>
        <div class="example">
            <pre class="example">%defines
%locations
%define api.namespace {master::}
</pre></div>

        <p>to generate the <samp>master/position.hh</samp> and <samp>master/location.hh</samp> files, reused by other parsers as follows:
        </p>
        <div class="example">
            <pre class="example">%define api.location.type {master::location}
%code requires { #include &lt;master/location.hh&gt; }
</pre></div>

        <hr>
        <a name="C_002b_002b-Parser-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#C_002b_002b-Scanner-Interface" accesskey="n" rel="next">C++ Scanner Interface</a>, Previous: <a href="#C_002b_002b-Location-Values" accesskey="p" rel="prev">C++ Location Values</a>, Up: <a href="#C_002b_002b-Parsers" accesskey="u"
                    rel="up">C++ Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Parser-Interface-1"></a>
        <h4 class="subsection">10.1.4 C++ Parser Interface</h4>

        <p>The output files <samp><var>output</var>.hh</samp> and <samp><var>output</var>.cc</samp> declare and define the parser class in the namespace <code>yy</code>. The class name defaults to <code>parser</code>, but may be changed using &lsquo;
            <samp>%define parser_class_name {<var>name</var>}</samp>&rsquo;. The interface of this class is detailed below. It can be extended using the
            <code>%parse-param</code> feature: its semantics is slightly changed since it describes an additional member of the parser class, and an additional argument for its constructor.
        </p>
        <dl>
            <dt><a name="index-semantic_005ftype"></a>Type of parser: <strong>semantic_type</strong></dt>
            <dt><a name="index-location_005ftype"></a>Type of parser: <strong>location_type</strong></dt>
            <dd>
                <p>The types for semantic values and locations (if enabled).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-token-1"></a>Type of parser: <strong>token</strong></dt>
            <dd>
                <p>A structure that contains (only) the <code>yytokentype</code> enumeration, which defines the tokens. To refer to the token <code>FOO</code>, use <code>yy::parser::token::FOO</code>. The scanner can use &lsquo;
                    <samp>typedef yy::parser::token token;</samp>&rsquo; to &ldquo;import&rdquo; the token enumeration (see <a href="#Calc_002b_002b-Scanner">Calc++ Scanner</a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-syntax_005ferror"></a>Type of parser: <strong>syntax_error</strong></dt>
            <dd>
                <p>This class derives from <code>std::runtime_error</code>. Throw instances of it from the scanner or from the user actions to raise parse errors. This is equivalent with first invoking <code>error</code> to report the location and message
                    of the syntax error, and then to invoke <code>YYERROR</code> to enter the error-recovery mode. But contrary to <code>YYERROR</code> which can only be invoked from user actions (i.e., written in the action itself), the exception can
                    be thrown from function invoked from the user action.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-parser-on-parser"></a>Method on parser: <em></em> <strong>parser</strong> <em>(<var>type1</var> <var>arg1</var>, ...)</em></dt>
            <dd>
                <p>Build a new parser object. There are no arguments by default, unless &lsquo;
                    <samp>%parse-param {<var>type1</var> <var>arg1</var>}</samp>&rsquo; was used.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-syntax_005ferror-on-syntax_005ferror"></a>Method on syntax_error: <em></em> <strong>syntax_error</strong> <em>(const location_type&amp; <var>l</var>, const std::string&amp; <var>m</var>)</em></dt>
            <dt><a name="index-syntax_005ferror-on-syntax_005ferror-1"></a>Method on syntax_error: <em></em> <strong>syntax_error</strong> <em>(const std::string&amp; <var>m</var>)</em></dt>
            <dd>
                <p>Instantiate a syntax-error exception.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-parse-on-parser"></a>Method on parser: <em>int</em> <strong>parse</strong> <em>()</em></dt>
            <dd>
                <p>Run the syntactic analysis, and return 0 on success, 1 otherwise.
                </p>
                <a name="index-exceptions"></a>
                <p>The whole function is wrapped in a <code>try</code>/<code>catch</code> block, so that when an exception is thrown, the <code>%destructor</code>s are called to release the lookahead symbol, and the symbols pushed on the stack.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-debug_005fstream-on-parser"></a>Method on parser: <em>std::ostream&amp;</em> <strong>debug_stream</strong> <em>()</em></dt>
            <dt><a name="index-set_005fdebug_005fstream-on-parser"></a>Method on parser: <em>void</em> <strong>set_debug_stream</strong> <em>(std::ostream&amp; <var>o</var>)</em></dt>
            <dd>
                <p>Get or set the stream used for tracing the parsing. It defaults to
                    <code>std::cerr</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-debug_005flevel-on-parser"></a>Method on parser: <em>debug_level_type</em> <strong>debug_level</strong> <em>()</em></dt>
            <dt><a name="index-set_005fdebug_005flevel-on-parser"></a>Method on parser: <em>void</em> <strong>set_debug_level</strong> <em>(debug_level <var>l</var>)</em></dt>
            <dd>
                <p>Get or set the tracing level. Currently its value is either 0, no trace, or nonzero, full tracing.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-error-on-parser"></a>Method on parser: <em>void</em> <strong>error</strong> <em>(const location_type&amp; <var>l</var>, const std::string&amp; <var>m</var>)</em></dt>
            <dt><a name="index-error-on-parser-1"></a>Method on parser: <em>void</em> <strong>error</strong> <em>(const std::string&amp; <var>m</var>)</em></dt>
            <dd>
                <p>The definition for this member function must be supplied by the user: the parser uses it to report a parser error occurring at <var>l</var>, described by <var>m</var>. If location tracking is not enabled, the second signature is used.
                </p>
            </dd>
        </dl>


        <hr>
        <a name="C_002b_002b-Scanner-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#A-Complete-C_002b_002b-Example" accesskey="n" rel="next">A Complete C++ Example</a>, Previous: <a href="#C_002b_002b-Parser-Interface" accesskey="p" rel="prev">C++ Parser Interface</a>, Up: <a href="#C_002b_002b-Parsers"
                    accesskey="u" rel="up">C++ Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="C_002b_002b-Scanner-Interface-1"></a>
        <h4 class="subsection">10.1.5 C++ Scanner Interface</h4>

        <p>The parser invokes the scanner by calling <code>yylex</code>. Contrary to C parsers, C++ parsers are always pure: there is no point in using the &lsquo;
            <samp>%define api.pure</samp>&rsquo; directive. The actual interface with <code>yylex</code> depends whether you use unions, or variants.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Split-Symbols" accesskey="1">Split Symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Passing symbols as two/three components
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Complete-Symbols" accesskey="2">Complete Symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Making symbols a whole
                </td>
            </tr>
        </table>

        <hr>
        <a name="Split-Symbols"></a>
        <div class="header">
            <p>
                Next: <a href="#Complete-Symbols" accesskey="n" rel="next">Complete Symbols</a>, Up: <a href="#C_002b_002b-Scanner-Interface" accesskey="u" rel="up">C++ Scanner Interface</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Split-Symbols-1"></a>
        <h4 class="subsubsection">10.1.5.1 Split Symbols</h4>

        <p>The interface is as follows.
        </p>
        <dl>
            <dt><a name="index-yylex-on-parser"></a>Method on parser: <em>int</em> <strong>yylex</strong> <em>(semantic_type* <var>yylval</var>, location_type* <var>yylloc</var>, <var>type1</var> <var>arg1</var>, ...)</em></dt>
            <dt><a name="index-yylex-on-parser-1"></a>Method on parser: <em>int</em> <strong>yylex</strong> <em>(semantic_type* <var>yylval</var>, <var>type1</var> <var>arg1</var>, ...)</em></dt>
            <dd>
                <p>Return the next token. Its type is the return value, its semantic value and location (if enabled) being <var>yylval</var> and <var>yylloc</var>. Invocations of &lsquo;
                    <samp>%lex-param {<var>type1</var> <var>arg1</var>}</samp>&rsquo; yield additional arguments.
                </p>
            </dd>
        </dl>

        <p>Note that when using variants, the interface for <code>yylex</code> is the same, but <code>yylval</code> is handled differently.
        </p>
        <p>Regular union-based code in Lex scanner typically look like:
        </p>
        <div class="example">
            <pre class="example">[0-9]+   {
           yylval.ival = text_to_int (yytext);
           return yy::parser::INTEGER;
         }
[a-z]+   {
           yylval.sval = new std::string (yytext);
           return yy::parser::IDENTIFIER;
         }
</pre></div>

        <p>Using variants, <code>yylval</code> is already constructed, but it is not initialized. So the code would look like:
        </p>
        <div class="example">
            <pre class="example">[0-9]+   {
           yylval.build&lt;int&gt;() = text_to_int (yytext);
           return yy::parser::INTEGER;
         }
[a-z]+   {
           yylval.build&lt;std::string&gt; = yytext;
           return yy::parser::IDENTIFIER;
         }
</pre></div>

        <p>or
        </p>
        <div class="example">
            <pre class="example">[0-9]+   {
           yylval.build(text_to_int (yytext));
           return yy::parser::INTEGER;
         }
[a-z]+   {
           yylval.build(yytext);
           return yy::parser::IDENTIFIER;
         }
</pre></div>


        <hr>
        <a name="Complete-Symbols"></a>
        <div class="header">
            <p>
                Previous: <a href="#Split-Symbols" accesskey="p" rel="prev">Split Symbols</a>, Up: <a href="#C_002b_002b-Scanner-Interface" accesskey="u" rel="up">C++ Scanner Interface</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Complete-Symbols-1"></a>
        <h4 class="subsubsection">10.1.5.2 Complete Symbols</h4>

        <p>If you specified both <code>%define api.value.type variant</code> and
            <code>%define api.token.constructor</code>, the <code>parser</code> class also defines the class <code>parser::symbol_type</code> which defines a <em>complete</em> symbol, aggregating its type (i.e., the traditional value returned by <code>yylex</code>),
            its semantic value (i.e., the value passed in <code>yylval</code>, and possibly its location (<code>yylloc</code>).
        </p>
        <dl>
            <dt><a name="index-symbol_005ftype-on-symbol_005ftype"></a>Method on symbol_type: <em></em> <strong>symbol_type</strong> <em>(token_type <var>type</var>,  const semantic_type&amp; <var>value</var>, const location_type&amp; <var>location</var>)</em></dt>
            <dd>
                <p>Build a complete terminal symbol which token type is <var>type</var>, and which semantic value is <var>value</var>. If location tracking is enabled, also pass the <var>location</var>.
                </p>
            </dd>
        </dl>

        <p>This interface is low-level and should not be used for two reasons. First, it is inconvenient, as you still have to build the semantic value, which is a variant, and second, because consistency is not enforced: as with unions, it is still possible
            to give an integer as semantic value for a string.
        </p>
        <p>So for each token type, Bison generates named constructors as follows.
        </p>
        <dl>
            <dt><a name="index-make_005f-on-symbol_005ftype"></a>Method on symbol_type: <em></em> <strong>make_</strong> <em><var>token</var> (const <var>value_type</var>&amp; <var>value</var>, const location_type&amp; <var>location</var>)</em></dt>
            <dt><a name="index-make_005f-on-symbol_005ftype-1"></a>Method on symbol_type: <em></em> <strong>make_</strong> <em><var>token</var> (const location_type&amp; <var>location</var>)</em></dt>
            <dd>
                <p>Build a complete terminal symbol for the token type <var>token</var> (not including the <code>api.token.prefix</code>) whose possible semantic value is
                    <var>value</var> of adequate <var>value_type</var>. If location tracking is enabled, also pass the <var>location</var>.
                </p>
            </dd>
        </dl>

        <p>For instance, given the following declarations:
        </p>
        <div class="example">
            <pre class="example">%define api.token.prefix {TOK_}
%token &lt;std::string&gt; IDENTIFIER;
%token &lt;int&gt; INTEGER;
%token COLON;
</pre></div>

        <p>Bison generates the following functions:
        </p>
        <div class="example">
            <pre class="example">symbol_type make_IDENTIFIER(const std::string&amp; v,
                            const location_type&amp; l);
symbol_type make_INTEGER(const int&amp; v,
                         const location_type&amp; loc);
symbol_type make_COLON(const location_type&amp; loc);
</pre></div>

        <p>which should be used in a Lex-scanner as follows.
        </p>
        <div class="example">
            <pre class="example">[0-9]+   return yy::parser::make_INTEGER(text_to_int (yytext), loc);
[a-z]+   return yy::parser::make_IDENTIFIER(yytext, loc);
&quot;:&quot;      return yy::parser::make_COLON(loc);
</pre></div>

        <p>Tokens that do not have an identifier are not accessible: you cannot simply use characters such as <code>':'</code>, they must be declared with <code>%token</code>.
        </p>
        <hr>
        <a name="A-Complete-C_002b_002b-Example"></a>
        <div class="header">
            <p>
                Previous: <a href="#C_002b_002b-Scanner-Interface" accesskey="p" rel="prev">C++ Scanner Interface</a>, Up: <a href="#C_002b_002b-Parsers" accesskey="u" rel="up">C++ Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="A-Complete-C_002b_002b-Example-1"></a>
        <h4 class="subsection">10.1.6 A Complete C++ Example</h4>

        <p>This section demonstrates the use of a C++ parser with a simple but complete example. This example should be available on your system, ready to compile, in the directory <em>.../bison/examples/calc++</em>. It focuses on the use of Bison, therefore
            the design of the various C++ classes is very naive: no accessors, no encapsulation of members etc. We will use a Lex scanner, and more precisely, a Flex scanner, to demonstrate the various interactions. A hand-written scanner is actually
            easier to interface with.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator" accesskey="1">Calc++ --- C++ Calculator</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The specifications
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Parsing-Driver" accesskey="2">Calc++ Parsing Driver</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">An active parsing context
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Parser" accesskey="3">Calc++ Parser</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">A parser class
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Scanner" accesskey="4">Calc++ Scanner</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">A pure C++ Flex scanner
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Calc_002b_002b-Top-Level" accesskey="5">Calc++ Top Level</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Conducting the band
                </td>
            </tr>
        </table>

        <hr>
        <a name="Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator"></a>
        <div class="header">
            <p>
                Next: <a href="#Calc_002b_002b-Parsing-Driver" accesskey="n" rel="next">Calc++ Parsing Driver</a>, Up: <a href="#A-Complete-C_002b_002b-Example" accesskey="u" rel="up">A Complete C++ Example</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator-1"></a>
        <h4 class="subsubsection">10.1.6.1 Calc++ &mdash; C++ Calculator</h4>

        <p>Of course the grammar is dedicated to arithmetics, a single expression, possibly preceded by variable assignments. An environment containing possibly predefined variables such as
            <code>one</code> and <code>two</code>, is exchanged with the parser. An example of valid input follows.
        </p>
        <div class="example">
            <pre class="example">three := 3
seven := one + two * three
seven * seven
</pre></div>

        <hr>
        <a name="Calc_002b_002b-Parsing-Driver"></a>
        <div class="header">
            <p>
                Next: <a href="#Calc_002b_002b-Parser" accesskey="n" rel="next">Calc++ Parser</a>, Previous: <a href="#Calc_002b_002b-_002d_002d_002d-C_002b_002b-Calculator" accesskey="p" rel="prev">Calc++ --- C++ Calculator</a>, Up: <a href="#A-Complete-C_002b_002b-Example"
                    accesskey="u" rel="up">A Complete C++ Example</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calc_002b_002b-Parsing-Driver-1"></a>
        <h4 class="subsubsection">10.1.6.2 Calc++ Parsing Driver</h4>

        <p>To support a pure interface with the parser (and the scanner) the technique of the &ldquo;parsing context&rdquo; is convenient: a structure containing all the data to exchange. Since, in addition to simply launch the parsing, there are several
            auxiliary tasks to execute (open the file for parsing, instantiate the parser etc.), we recommend transforming the simple parsing context structure into a fully blown
            <em>parsing driver</em> class.
        </p>
        <p>The declaration of this driver class, <samp>calc++-driver.hh</samp>, is as follows. The first part includes the CPP guard and imports the required standard library components, and the declaration of the parser class.
        </p>
        <div class="example">
            <pre class="example">#ifndef CALCXX_DRIVER_HH
# define CALCXX_DRIVER_HH
# include &lt;string&gt;
# include &lt;map&gt;
# include &quot;calc++-parser.hh&quot;
</pre></div>


        <p>Then comes the declaration of the scanning function. Flex expects the signature of <code>yylex</code> to be defined in the macro
            <code>YY_DECL</code>, and the C++ parser expects it to be declared. We can factor both as follows.
        </p>
        <div class="example">
            <pre class="example">// Tell Flex the lexer's prototype ...
# define YY_DECL \
  yy::calcxx_parser::symbol_type yylex (calcxx_driver&amp; driver)
// ... and declare it for the parser's sake.
YY_DECL;
</pre></div>

        <p>The <code>calcxx_driver</code> class is then declared with its most obvious members.
        </p>
        <div class="example">
            <pre class="example">// Conducting the whole scanning and parsing of Calc++.
class calcxx_driver
{
public:
  calcxx_driver ();
  virtual ~calcxx_driver ();

  std::map&lt;std::string, int&gt; variables;

  int result;
</pre></div>

        <p>To encapsulate the coordination with the Flex scanner, it is useful to have member functions to open and close the scanning phase.
        </p>
        <div class="example">
            <pre class="example">  // Handling the scanner.
  void scan_begin ();
  void scan_end ();
  bool trace_scanning;
</pre></div>

        <p>Similarly for the parser itself.
        </p>
        <div class="example">
            <pre class="example">  // Run the parser on file F.
  // Return 0 on success.
  int parse (const std::string&amp; f);
  // The name of the file being parsed.
  // Used later to pass the file name to the location tracker.
  std::string file;
  // Whether parser traces should be generated.
  bool trace_parsing;
</pre></div>

        <p>To demonstrate pure handling of parse errors, instead of simply dumping them on the standard error output, we will pass them to the compiler driver using the following two member functions. Finally, we close the class declaration and CPP guard.
        </p>
        <div class="example">
            <pre class="example">  // Error handling.
  void error (const yy::location&amp; l, const std::string&amp; m);
  void error (const std::string&amp; m);
};
#endif // ! CALCXX_DRIVER_HH
</pre></div>

        <p>The implementation of the driver is straightforward. The <code>parse</code> member function deserves some attention. The <code>error</code> functions are simple stubs, they should actually register the located error messages and set error state.
        </p>
        <div class="example">
            <pre class="example">#include &quot;calc++-driver.hh&quot;
#include &quot;calc++-parser.hh&quot;

calcxx_driver::calcxx_driver ()
  : trace_scanning (false), trace_parsing (false)
{
  variables[&quot;one&quot;] = 1;
  variables[&quot;two&quot;] = 2;
}

calcxx_driver::~calcxx_driver ()
{
}

int
calcxx_driver::parse (const std::string &amp;f)
{
  file = f;
  scan_begin ();
  yy::calcxx_parser parser (*this);
  parser.set_debug_level (trace_parsing);
  int res = parser.parse ();
  scan_end ();
  return res;
}

void
calcxx_driver::error (const yy::location&amp; l, const std::string&amp; m)
{
  std::cerr &lt;&lt; l &lt;&lt; &quot;: &quot; &lt;&lt; m &lt;&lt; std::endl;
}

void
calcxx_driver::error (const std::string&amp; m)
{
  std::cerr &lt;&lt; m &lt;&lt; std::endl;
}
</pre></div>

        <hr>
        <a name="Calc_002b_002b-Parser"></a>
        <div class="header">
            <p>
                Next: <a href="#Calc_002b_002b-Scanner" accesskey="n" rel="next">Calc++ Scanner</a>, Previous: <a href="#Calc_002b_002b-Parsing-Driver" accesskey="p" rel="prev">Calc++ Parsing Driver</a>, Up: <a href="#A-Complete-C_002b_002b-Example" accesskey="u"
                    rel="up">A Complete C++ Example</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calc_002b_002b-Parser-1"></a>
        <h4 class="subsubsection">10.1.6.3 Calc++ Parser</h4>

        <p>The grammar file <samp>calc++-parser.yy</samp> starts by asking for the C++ deterministic parser skeleton, the creation of the parser header file, and specifies the name of the parser class. Because the C++ skeleton changed several times, it is
            safer to require the version you designed the grammar for.
        </p>
        <div class="example">
            <pre class="example">%skeleton &quot;lalr1.cc&quot; /* -*- C++ -*- */
%require &quot;3.0.4&quot;
%defines
%define parser_class_name {calcxx_parser}
</pre></div>

        <a name="index-_0025define-api_002etoken_002econstructor-1"></a>
        <a name="index-_0025define-api_002evalue_002etype-variant"></a>
        <p>This example will use genuine C++ objects as semantic values, therefore, we require the variant-based interface. To make sure we properly use it, we enable assertions. To fully benefit from type-safety and more natural definition of &ldquo;symbol&rdquo;,
            we enable <code>api.token.constructor</code>.
        </p>
        <div class="example">
            <pre class="example">%define api.token.constructor
%define api.value.type variant
%define parse.assert
</pre></div>

        <a name="index-_0025code-requires-3"></a>
        <p>Then come the declarations/inclusions needed by the semantic values. Because the parser uses the parsing driver and reciprocally, both would like to include the header of the other, which is, of course, insane. This mutual dependency will be broken
            using forward declarations. Because the driver&rsquo;s header needs detailed knowledge about the parser class (in particular its inner types), it is the parser&rsquo;s header which will use a forward declaration of the driver. See <a href="#g_t_0025code-Summary">%code Summary</a>.
        </p>
        <div class="example">
            <pre class="example">%code requires
{
# include &lt;string&gt;
class calcxx_driver;
}
</pre></div>

        <p>The driver is passed by reference to the parser and to the scanner. This provides a simple but effective pure interface, not relying on global variables.
        </p>
        <div class="example">
            <pre class="example">// The parsing context.
%param { calcxx_driver&amp; driver }
</pre></div>

        <p>Then we request location tracking, and initialize the first location&rsquo;s file name. Afterward new locations are computed relatively to the previous locations: the file name will be propagated.
        </p>
        <div class="example">
            <pre class="example">%locations
%initial-action
{
  // Initialize the initial location.
  @$.begin.filename = @$.end.filename = &amp;driver.file;
};
</pre></div>

        <p>Use the following two directives to enable parser tracing and verbose error messages. However, verbose error messages can contain incorrect information (see <a href="#LAC">LAC</a>).
        </p>
        <div class="example">
            <pre class="example">%define parse.trace
%define parse.error verbose
</pre></div>

        <a name="index-_0025code-7"></a>
        <p>The code between &lsquo;<samp>%code {</samp>&rsquo; and &lsquo;<samp>}</samp>&rsquo; is output in the
            <samp>*.cc</samp> file; it needs detailed knowledge about the driver.
        </p>
        <div class="example">
            <pre class="example">%code
{
# include &quot;calc++-driver.hh&quot;
}
</pre></div>


        <p>The token numbered as 0 corresponds to end of file; the following line allows for nicer error messages referring to &ldquo;end of file&rdquo; instead of &ldquo;$end&rdquo;. Similarly user friendly names are provided for each symbol. To avoid name
            clashes in the generated files (see <a href="#Calc_002b_002b-Scanner">Calc++ Scanner</a>), prefix tokens with <code>TOK_</code> (see <a href="#g_t_0025define-Summary">api.token.prefix</a>).
        </p>
        <div class="example">
            <pre class="example">%define api.token.prefix {TOK_}
%token
  END  0  &quot;end of file&quot;
  ASSIGN  &quot;:=&quot;
  MINUS   &quot;-&quot;
  PLUS    &quot;+&quot;
  STAR    &quot;*&quot;
  SLASH   &quot;/&quot;
  LPAREN  &quot;(&quot;
  RPAREN  &quot;)&quot;
;
</pre></div>

        <p>Since we use variant-based semantic values, <code>%union</code> is not used, and both <code>%type</code> and <code>%token</code> expect genuine types, as opposed to type tags.
        </p>
        <div class="example">
            <pre class="example">%token &lt;std::string&gt; IDENTIFIER &quot;identifier&quot;
%token &lt;int&gt; NUMBER &quot;number&quot;
%type  &lt;int&gt; exp
</pre></div>

        <p>No <code>%destructor</code> is needed to enable memory deallocation during error recovery; the memory, for strings for instance, will be reclaimed by the regular destructors. All the values are printed using their
            <code>operator&lt;&lt;</code> (see <a href="#Printer-Decl">Printing Semantic Values</a>).
        </p>
        <div class="example">
            <pre class="example">%printer { yyoutput &lt;&lt; $$; } &lt;*&gt;;
</pre></div>

        <p>The grammar itself is straightforward (see <a href="#Location-Tracking-Calc">Location Tracking Calculator - <code>ltcalc</code></a>).
        </p>
        <div class="example">
            <pre class="example">%%
%start unit;
unit: assignments exp  { driver.result = $2; };

assignments:
  %empty                 {}
| assignments assignment {};

assignment:
  &quot;identifier&quot; &quot;:=&quot; exp { driver.variables[$1] = $3; };

%left &quot;+&quot; &quot;-&quot;;
%left &quot;*&quot; &quot;/&quot;;
exp:
  exp &quot;+&quot; exp   { $$ = $1 + $3; }
| exp &quot;-&quot; exp   { $$ = $1 - $3; }
| exp &quot;*&quot; exp   { $$ = $1 * $3; }
| exp &quot;/&quot; exp   { $$ = $1 / $3; }
| &quot;(&quot; exp &quot;)&quot;   { std::swap ($$, $2); }
| &quot;identifier&quot;  { $$ = driver.variables[$1]; }
| &quot;number&quot;      { std::swap ($$, $1); };
%%
</pre></div>

        <p>Finally the <code>error</code> member function registers the errors to the driver.
        </p>
        <div class="example">
            <pre class="example">void
yy::calcxx_parser::error (const location_type&amp; l,
                          const std::string&amp; m)
{
  driver.error (l, m);
}
</pre></div>

        <hr>
        <a name="Calc_002b_002b-Scanner"></a>
        <div class="header">
            <p>
                Next: <a href="#Calc_002b_002b-Top-Level" accesskey="n" rel="next">Calc++ Top Level</a>, Previous: <a href="#Calc_002b_002b-Parser" accesskey="p" rel="prev">Calc++ Parser</a>, Up: <a href="#A-Complete-C_002b_002b-Example" accesskey="u"
                    rel="up">A Complete C++ Example</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calc_002b_002b-Scanner-1"></a>
        <h4 class="subsubsection">10.1.6.4 Calc++ Scanner</h4>

        <p>The Flex scanner first includes the driver declaration, then the parser&rsquo;s to get the set of defined tokens.
        </p>
        <div class="example">
            <pre class="example">%{ /* -*- C++ -*- */
# include &lt;cerrno&gt;
# include &lt;climits&gt;
# include &lt;cstdlib&gt;
# include &lt;string&gt;
# include &quot;calc++-driver.hh&quot;
# include &quot;calc++-parser.hh&quot;

// Work around an incompatibility in flex (at least versions
// 2.5.31 through 2.5.33): it generates code that does
// not conform to C89.  See Debian bug 333231
// &lt;http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=333231&gt;.
# undef yywrap
# define yywrap() 1

// The location of the current token.
static yy::location loc;
%}
</pre></div>

        <p>Because there is no <code>#include</code>-like feature we don&rsquo;t need
            <code>yywrap</code>, we don&rsquo;t need <code>unput</code> either, and we parse an actual file, this is not an interactive session with the user. Finally, we enable scanner tracing.
        </p>
        <div class="example">
            <pre class="example">%option noyywrap nounput batch debug noinput
</pre></div>

        <p>Abbreviations allow for more readable rules.
        </p>
        <div class="example">
            <pre class="example">id    [a-zA-Z][a-zA-Z_0-9]*
int   [0-9]+
blank [ \t]
</pre></div>

        <p>The following paragraph suffices to track locations accurately. Each time <code>yylex</code> is invoked, the begin position is moved onto the end position. Then when a pattern is matched, its width is added to the end column. When matching ends
            of lines, the end cursor is adjusted, and each time blanks are matched, the begin cursor is moved onto the end cursor to effectively ignore the blanks preceding tokens. Comments would be treated equally.
        </p>
        <div class="example">
            <pre class="example">%{
  // Code run each time a pattern is matched.
  # define YY_USER_ACTION  loc.columns (yyleng);
%}
</pre><pre class="example">%%
</pre><pre class="example">%{
  // Code run each time yylex is called.
  loc.step ();
%}
</pre><pre class="example">{blank}+   loc.step ();
[\n]+      loc.lines (yyleng); loc.step ();
</pre></div>

        <p>The rules are simple. The driver is used to report errors.
        </p>
        <div class="example">
            <pre class="example">&quot;-&quot;      return yy::calcxx_parser::make_MINUS(loc);
&quot;+&quot;      return yy::calcxx_parser::make_PLUS(loc);
&quot;*&quot;      return yy::calcxx_parser::make_STAR(loc);
&quot;/&quot;      return yy::calcxx_parser::make_SLASH(loc);
&quot;(&quot;      return yy::calcxx_parser::make_LPAREN(loc);
&quot;)&quot;      return yy::calcxx_parser::make_RPAREN(loc);
&quot;:=&quot;     return yy::calcxx_parser::make_ASSIGN(loc);

</pre><pre class="example">{int}      {
  errno = 0;
  long n = strtol (yytext, NULL, 10);
  if (! (INT_MIN &lt;= n &amp;&amp; n &lt;= INT_MAX &amp;&amp; errno != ERANGE))
    driver.error (loc, &quot;integer is out of range&quot;);
  return yy::calcxx_parser::make_NUMBER(n, loc);
}
</pre><pre class="example">{id}       return yy::calcxx_parser::make_IDENTIFIER(yytext, loc);
.          driver.error (loc, &quot;invalid character&quot;);
&lt;&lt;EOF&gt;&gt;    return yy::calcxx_parser::make_END(loc);
%%
</pre></div>

        <p>Finally, because the scanner-related driver&rsquo;s member-functions depend on the scanner&rsquo;s data, it is simpler to implement them in this file.
        </p>
        <div class="example">
            <pre class="example">void
calcxx_driver::scan_begin ()
{
  yy_flex_debug = trace_scanning;
  if (file.empty () || file == &quot;-&quot;)
    yyin = stdin;
  else if (!(yyin = fopen (file.c_str (), &quot;r&quot;)))
    {
      error (&quot;cannot open &quot; + file + &quot;: &quot; + strerror(errno));
      exit (EXIT_FAILURE);
    }
}
</pre><pre class="example">
</pre><pre class="example">void
calcxx_driver::scan_end ()
{
  fclose (yyin);
}
</pre></div>

        <hr>
        <a name="Calc_002b_002b-Top-Level"></a>
        <div class="header">
            <p>
                Previous: <a href="#Calc_002b_002b-Scanner" accesskey="p" rel="prev">Calc++ Scanner</a>, Up: <a href="#A-Complete-C_002b_002b-Example" accesskey="u" rel="up">A Complete C++ Example</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Calc_002b_002b-Top-Level-1"></a>
        <h4 class="subsubsection">10.1.6.5 Calc++ Top Level</h4>

        <p>The top level file, <samp>calc++.cc</samp>, poses no problem.
        </p>
        <div class="example">
            <pre class="example">#include &lt;iostream&gt;
#include &quot;calc++-driver.hh&quot;

</pre><pre class="example">int
main (int argc, char *argv[])
{
  int res = 0;
  calcxx_driver driver;
  for (int i = 1; i &lt; argc; ++i)
    if (argv[i] == std::string (&quot;-p&quot;))
      driver.trace_parsing = true;
    else if (argv[i] == std::string (&quot;-s&quot;))
      driver.trace_scanning = true;
    else if (!driver.parse (argv[i]))
      std::cout &lt;&lt; driver.result &lt;&lt; std::endl;
    else
      res = 1;
  return res;
}
</pre></div>

        <hr>
        <a name="Java-Parsers"></a>
        <div class="header">
            <p>
                Previous: <a href="#C_002b_002b-Parsers" accesskey="p" rel="prev">C++ Parsers</a>, Up: <a href="#Other-Languages" accesskey="u" rel="up">Other Languages</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Parsers-1"></a>
        <h3 class="section">10.2 Java Parsers</h3>

        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Bison-Interface" accesskey="1">Java Bison Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Asking for Java parser generation
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Semantic-Values" accesskey="2">Java Semantic Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">%type and %token vs. Java
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Location-Values" accesskey="3">Java Location Values</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">The position and location classes
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Parser-Interface" accesskey="4">Java Parser Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Instantiating and running the parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Scanner-Interface" accesskey="5">Java Scanner Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Specifying the scanner for the parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Action-Features" accesskey="6">Java Action Features</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Special features for use in actions
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Push-Parser-Interface" accesskey="7">Java Push Parser Interface</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Instantiating and running the a push parser
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Differences" accesskey="8">Java Differences</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Differences between C/C++ and Java Grammars
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Java-Declarations-Summary" accesskey="9">Java Declarations Summary</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">List of Bison declarations used with Java
                </td>
            </tr>
        </table>

        <hr>
        <a name="Java-Bison-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Semantic-Values" accesskey="n" rel="next">Java Semantic Values</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Bison-Interface-1"></a>
        <h4 class="subsection">10.2.1 Java Bison Interface</h4>

        <p>(The current Java interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>The Java parser skeletons are selected using the <code>%language &quot;Java&quot;</code> directive or the <samp>-L java</samp>/<samp>--language=java</samp> option.
        </p>
        <p>When generating a Java parser, <code>bison <var>basename</var>.y</code> will create a single Java source file named <samp><var>basename</var>.java</samp> containing the parser implementation. Using a grammar file without a
            <samp>.y</samp> suffix is currently broken. The basename of the parser implementation file can be changed by the <code>%file-prefix</code> directive or the <samp>-p</samp>/<samp>--name-prefix</samp> option. The entire parser implementation
            file name can be changed by the
            <code>%output</code> directive or the <samp>-o</samp>/<samp>--output</samp> option. The parser implementation file contains a single class for the parser.
        </p>
        <p>You can create documentation for generated parsers using Javadoc.
        </p>
        <p>Contrary to C parsers, Java parsers do not use global variables; the state of the parser is always local to an instance of the parser class. Therefore, all Java parsers are &ldquo;pure&rdquo;, and the <code>%pure-parser</code> and <code>%define api.pure</code>            directives do nothing when used in Java.
        </p>
        <p>Push parsers are currently unsupported in Java and <code>%define
api.push-pull</code> have no effect.
        </p>
        <p>GLR parsers are currently unsupported in Java. Do not use the
            <code>glr-parser</code> directive.
        </p>
        <p>No header file can be generated for Java parsers. Do not use the
            <code>%defines</code> directive or the <samp>-d</samp>/<samp>--defines</samp> options.
        </p>
        <p>Currently, support for tracing is always compiled in. Thus the &lsquo;<samp>%define parse.trace</samp>&rsquo; and &lsquo;<samp>%token-table</samp>&rsquo; directives and the
            <samp>-t</samp>/<samp>--debug</samp> and <samp>-k</samp>/<samp>--token-table</samp> options have no effect. This may change in the future to eliminate unused code in the generated parser, so use &lsquo;<samp>%define parse.trace</samp>&rsquo;
            explicitly if needed. Also, in the future the
            <code>%token-table</code> directive might enable a public interface to access the token names and codes.
        </p>
        <p>Getting a &ldquo;code too large&rdquo; error from the Java compiler means the code hit the 64KB bytecode per method limitation of the Java class file. Try reducing the amount of code in actions and static initializers; otherwise, report a bug
            so that the parser skeleton will be improved.
        </p>

        <hr>
        <a name="Java-Semantic-Values"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Location-Values" accesskey="n" rel="next">Java Location Values</a>, Previous: <a href="#Java-Bison-Interface" accesskey="p" rel="prev">Java Bison Interface</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Semantic-Values-1"></a>
        <h4 class="subsection">10.2.2 Java Semantic Values</h4>

        <p>There is no <code>%union</code> directive in Java parsers. Instead, the semantic values&rsquo; types (class names) should be specified in the
            <code>%type</code> or <code>%token</code> directive:
        </p>
        <div class="example">
            <pre class="example">%type &lt;Expression&gt; expr assignment_expr term factor
%type &lt;Integer&gt; number
</pre></div>

        <p>By default, the semantic stack is declared to have <code>Object</code> members, which means that the class types you specify can be of any class. To improve the type safety of the parser, you can declare the common superclass of all the semantic
            values using the &lsquo;<samp>%define api.value.type</samp>&rsquo; directive. For example, after the following declaration:
        </p>
        <div class="example">
            <pre class="example">%define api.value.type {ASTNode}
</pre></div>

        <p>any <code>%type</code> or <code>%token</code> specifying a semantic type which is not a subclass of ASTNode, will cause a compile-time error.
        </p>
        <p>Types used in the directives may be qualified with a package name. Primitive data types are accepted for Java version 1.5 or later. Note that in this case the autoboxing feature of Java 1.5 will be used. Generic types may not be used; this is
            due to a limitation in the implementation of Bison, and may change in future releases.
        </p>
        <p>Java parsers do not support <code>%destructor</code>, since the language adopts garbage collection. The parser will try to hold references to semantic values for as little time as needed.
        </p>
        <p>Java parsers do not support <code>%printer</code>, as <code>toString()</code> can be used to print the semantic values. This however may change (in a backwards-compatible way) in future versions of Bison.
        </p>

        <hr>
        <a name="Java-Location-Values"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Parser-Interface" accesskey="n" rel="next">Java Parser Interface</a>, Previous: <a href="#Java-Semantic-Values" accesskey="p" rel="prev">Java Semantic Values</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Location-Values-1"></a>
        <h4 class="subsection">10.2.3 Java Location Values</h4>

        <p>When the directive <code>%locations</code> is used, the Java parser supports location tracking, see <a href="#Tracking-Locations">Tracking Locations</a>. An auxiliary user-defined class defines a <em>position</em>, a single point in a file; Bison
            itself defines a class representing a <em>location</em>, a range composed of a pair of positions (possibly spanning several files). The location class is an inner class of the parser; the name is <code>Location</code> by default, and may also
            be renamed using <code>%define api.location.type {<var>class-name</var>}</code>.
        </p>
        <p>The location class treats the position as a completely opaque value. By default, the class name is <code>Position</code>, but this can be changed with <code>%define api.position.type {<var>class-name</var>}</code>. This class must be supplied
            by the user.
        </p>

        <dl>
            <dt><a name="index-begin-of-Location"></a>Instance Variable of Location: <em>Position</em> <strong>begin</strong></dt>
            <dt><a name="index-end-of-Location"></a>Instance Variable of Location: <em>Position</em> <strong>end</strong></dt>
            <dd>
                <p>The first, inclusive, position of the range, and the first beyond.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-Location-on-Location"></a>Constructor on Location: <em></em> <strong>Location</strong> <em>(Position <var>loc</var>)</em></dt>
            <dd>
                <p>Create a <code>Location</code> denoting an empty range located at a given point.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-Location-on-Location-1"></a>Constructor on Location: <em></em> <strong>Location</strong> <em>(Position <var>begin</var>, Position <var>end</var>)</em></dt>
            <dd>
                <p>Create a <code>Location</code> from the endpoints of the range.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-toString-on-Location"></a>Method on Location: <em>String</em> <strong>toString</strong> <em>()</em></dt>
            <dd>
                <p>Prints the range represented by the location. For this to work properly, the position class should override the <code>equals</code> and
                    <code>toString</code> methods appropriately.
                </p>
            </dd>
        </dl>


        <hr>
        <a name="Java-Parser-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Scanner-Interface" accesskey="n" rel="next">Java Scanner Interface</a>, Previous: <a href="#Java-Location-Values" accesskey="p" rel="prev">Java Location Values</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Parser-Interface-1"></a>
        <h4 class="subsection">10.2.4 Java Parser Interface</h4>

        <p>The name of the generated parser class defaults to <code>YYParser</code>. The
            <code>YY</code> prefix may be changed using the <code>%name-prefix</code> directive or the <samp>-p</samp>/<samp>--name-prefix</samp> option. Alternatively, use &lsquo;
            <samp>%define parser_class_name {<var>name</var>}</samp>&rsquo; to give a custom name to the class. The interface of this class is detailed below.
        </p>
        <p>By default, the parser class has package visibility. A declaration &lsquo;
            <samp>%define public</samp>&rsquo; will change to public visibility. Remember that, according to the Java language specification, the name of the <samp>.java</samp> file should match the name of the class in this case. Similarly, you can use
            <code>abstract</code>,
            <code>final</code> and <code>strictfp</code> with the
            <code>%define</code> declaration to add other modifiers to the parser class. A single &lsquo;<samp>%define annotations {<var>annotations</var>}</samp>&rsquo; directive can be used to add any number of annotations to the parser class.
        </p>
        <p>The Java package name of the parser class can be specified using the &lsquo;
            <samp>%define package</samp>&rsquo; directive. The superclass and the implemented interfaces of the parser class can be specified with the <code>%define
extends</code> and &lsquo;<samp>%define implements</samp>&rsquo; directives.
        </p>
        <p>The parser class defines an inner class, <code>Location</code>, that is used for location tracking (see <a href="#Java-Location-Values">Java Location Values</a>), and a inner interface, <code>Lexer</code> (see <a href="#Java-Scanner-Interface">Java Scanner Interface</a>).
            Other than these inner class/interface, and the members described in the interface below, all the other members and fields are preceded with a <code>yy</code> or
            <code>YY</code> prefix to avoid clashes with user code.
        </p>
        <p>The parser class can be extended using the <code>%parse-param</code> directive. Each occurrence of the directive will add a <code>protected
final</code> field to the parser class, and an argument to its constructor, which initialize them automatically.
        </p>
        <dl>
            <dt><a name="index-YYParser-on-YYParser"></a>Constructor on YYParser: <em></em> <strong>YYParser</strong> <em>(<var>lex_param</var>, &hellip;, <var>parse_param</var>, &hellip;)</em></dt>
            <dd>
                <p>Build a new parser object with embedded <code>%code lexer</code>. There are no parameters, unless <code>%param</code>s and/or <code>%parse-param</code>s and/or
                    <code>%lex-param</code>s are used.
                </p>
                <p>Use <code>%code init</code> for code added to the start of the constructor body. This is especially useful to initialize superclasses. Use &lsquo;
                    <samp>%define init_throws</samp>&rsquo; to specify any uncaught exceptions.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYParser-on-YYParser-1"></a>Constructor on YYParser: <em></em> <strong>YYParser</strong> <em>(Lexer <var>lexer</var>, <var>parse_param</var>, &hellip;)</em></dt>
            <dd>
                <p>Build a new parser object using the specified scanner. There are no additional parameters unless <code>%param</code>s and/or <code>%parse-param</code>s are used.
                </p>
                <p>If the scanner is defined by <code>%code lexer</code>, this constructor is declared <code>protected</code> and is called automatically with a scanner created with the correct <code>%param</code>s and/or <code>%lex-param</code>s.
                </p>
                <p>Use <code>%code init</code> for code added to the start of the constructor body. This is especially useful to initialize superclasses. Use &lsquo;
                    <samp>%define init_throws</samp>&rsquo; to specify any uncaught exceptions.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-parse-on-YYParser"></a>Method on YYParser: <em>boolean</em> <strong>parse</strong> <em>()</em></dt>
            <dd>
                <p>Run the syntactic analysis, and return <code>true</code> on success,
                    <code>false</code> otherwise.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-getErrorVerbose-on-YYParser"></a>Method on YYParser: <em>boolean</em> <strong>getErrorVerbose</strong> <em>()</em></dt>
            <dt><a name="index-setErrorVerbose-on-YYParser"></a>Method on YYParser: <em>void</em> <strong>setErrorVerbose</strong> <em>(boolean <var>verbose</var>)</em></dt>
            <dd>
                <p>Get or set the option to produce verbose error messages. These are only available with &lsquo;<samp>%define parse.error verbose</samp>&rsquo;, which also turns on verbose error messages.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyerror-on-YYParser"></a>Method on YYParser: <em>void</em> <strong>yyerror</strong> <em>(String <var>msg</var>)</em></dt>
            <dt><a name="index-yyerror-on-YYParser-1"></a>Method on YYParser: <em>void</em> <strong>yyerror</strong> <em>(Position <var>pos</var>, String <var>msg</var>)</em></dt>
            <dt><a name="index-yyerror-on-YYParser-2"></a>Method on YYParser: <em>void</em> <strong>yyerror</strong> <em>(Location <var>loc</var>, String <var>msg</var>)</em></dt>
            <dd>
                <p>Print an error message using the <code>yyerror</code> method of the scanner instance in use. The <code>Location</code> and <code>Position</code> parameters are available only if location tracking is active.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-recovering-on-YYParser"></a>Method on YYParser: <em>boolean</em> <strong>recovering</strong> <em>()</em></dt>
            <dd>
                <p>During the syntactic analysis, return <code>true</code> if recovering from a syntax error. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-getDebugStream-on-YYParser"></a>Method on YYParser: <em>java.io.PrintStream</em> <strong>getDebugStream</strong> <em>()</em></dt>
            <dt><a name="index-setDebugStream-on-YYParser"></a>Method on YYParser: <em>void</em> <strong>setDebugStream</strong> <em>(java.io.printStream <var>o</var>)</em></dt>
            <dd>
                <p>Get or set the stream used for tracing the parsing. It defaults to
                    <code>System.err</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-getDebugLevel-on-YYParser"></a>Method on YYParser: <em>int</em> <strong>getDebugLevel</strong> <em>()</em></dt>
            <dt><a name="index-setDebugLevel-on-YYParser"></a>Method on YYParser: <em>void</em> <strong>setDebugLevel</strong> <em>(int <var>l</var>)</em></dt>
            <dd>
                <p>Get or set the tracing level. Currently its value is either 0, no trace, or nonzero, full tracing.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-bisonVersion-of-YYParser"></a>Constant of YYParser: <em>String</em> <strong>bisonVersion</strong></dt>
            <dt><a name="index-bisonSkeleton-of-YYParser"></a>Constant of YYParser: <em>String</em> <strong>bisonSkeleton</strong></dt>
            <dd>
                <p>Identify the Bison version and skeleton used to generate this parser.
                </p>
            </dd>
        </dl>


        <hr>
        <a name="Java-Scanner-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Action-Features" accesskey="n" rel="next">Java Action Features</a>, Previous: <a href="#Java-Parser-Interface" accesskey="p" rel="prev">Java Parser Interface</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Scanner-Interface-1"></a>
        <h4 class="subsection">10.2.5 Java Scanner Interface</h4>

        <p>There are two possible ways to interface a Bison-generated Java parser with a scanner: the scanner may be defined by <code>%code lexer</code>, or defined elsewhere. In either case, the scanner has to implement the
            <code>Lexer</code> inner interface of the parser class. This interface also contain constants for all user-defined token names and the predefined
            <code>EOF</code> token.
        </p>
        <p>In the first case, the body of the scanner class is placed in
            <code>%code lexer</code> blocks. If you want to pass parameters from the parser constructor to the scanner constructor, specify them with
            <code>%lex-param</code>; they are passed before <code>%parse-param</code>s to the constructor.
        </p>
        <p>In the second case, the scanner has to implement the <code>Lexer</code> interface, which is defined within the parser class (e.g., <code>YYParser.Lexer</code>). The constructor of the parser object will then accept an object implementing the interface;
            <code>%lex-param</code> is not used in this case.
        </p>
        <p>In both cases, the scanner has to implement the following methods.
        </p>
        <dl>
            <dt><a name="index-yyerror-on-Lexer"></a>Method on Lexer: <em>void</em> <strong>yyerror</strong> <em>(Location <var>loc</var>, String <var>msg</var>)</em></dt>
            <dd>
                <p>This method is defined by the user to emit an error message. The first parameter is omitted if location tracking is not active. Its type can be changed using <code>%define api.location.type {<var>class-name</var>}</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yylex-on-Lexer"></a>Method on Lexer: <em>int</em> <strong>yylex</strong> <em>()</em></dt>
            <dd>
                <p>Return the next token. Its type is the return value, its semantic value and location are saved and returned by the their methods in the interface.
                </p>
                <p>Use &lsquo;<samp>%define lex_throws</samp>&rsquo; to specify any uncaught exceptions. Default is <code>java.io.IOException</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-getStartPos-on-Lexer"></a>Method on Lexer: <em>Position</em> <strong>getStartPos</strong> <em>()</em></dt>
            <dt><a name="index-getEndPos-on-Lexer"></a>Method on Lexer: <em>Position</em> <strong>getEndPos</strong> <em>()</em></dt>
            <dd>
                <p>Return respectively the first position of the last token that
                    <code>yylex</code> returned, and the first position beyond it. These methods are not needed unless location tracking is active.
                </p>
                <p>The return type can be changed using <code>%define api.position.type
{<var>class-name</var>}</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-getLVal-on-Lexer"></a>Method on Lexer: <em>Object</em> <strong>getLVal</strong> <em>()</em></dt>
            <dd>
                <p>Return the semantic value of the last token that yylex returned.
                </p>
                <p>The return type can be changed using &lsquo;<samp>%define api.value.type
{<var>class-name</var>}</samp>&rsquo;.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Java-Action-Features"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Push-Parser-Interface" accesskey="n" rel="next">Java Push Parser Interface</a>, Previous: <a href="#Java-Scanner-Interface" accesskey="p" rel="prev">Java Scanner Interface</a>, Up: <a href="#Java-Parsers" accesskey="u"
                    rel="up">Java Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Special-Features-for-Use-in-Java-Actions"></a>
        <h4 class="subsection">10.2.6 Special Features for Use in Java Actions</h4>

        <p>The following special constructs can be uses in Java actions. Other analogous C action features are currently unavailable for Java.
        </p>
        <p>Use &lsquo;<samp>%define throws</samp>&rsquo; to specify any uncaught exceptions from parser actions, and initial actions specified by <code>%initial-action</code>.
        </p>
        <dl>
            <dt><a name="index-_0024-4"></a>Variable: <strong>$</strong> <em><var>n</var></em></dt>
            <dd>
                <p>The semantic value for the <var>n</var>th component of the current rule. This may not be assigned to. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024_003c-2"></a>Variable: <strong>$&lt;</strong> <em><var>typealt</var>&gt;<var>n</var></em></dt>
            <dd>
                <p>Like <code>$<var>n</var></code> but specifies a alternative type <var>typealt</var>. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024_0024-3"></a>Variable: <strong>$$</strong></dt>
            <dd>
                <p>The semantic value for the grouping made by the current rule. As a value, this is in the base type (<code>Object</code> or as specified by &lsquo;
                    <samp>%define api.value.type</samp>&rsquo;) as in not cast to the declared subtype because casts are not allowed on the left-hand side of Java assignments. Use an explicit Java cast if the correct subtype is needed. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024_003c-3"></a>Variable: <strong>$&lt;</strong> <em><var>typealt</var>&gt;$</em></dt>
            <dd>
                <p>Same as <code>$$</code> since Java always allow assigning to the base type. Perhaps we should use this and <code>$&lt;&gt;$</code> for the value and <code>$$</code> for setting the value but there is currently no easy way to distinguish
                    these constructs. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0040-7"></a>Variable: <strong>@</strong> <em><var>n</var></em></dt>
            <dd>
                <p>The location information of the <var>n</var>th component of the current rule. This may not be assigned to. See <a href="#Java-Location-Values">Java Location Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0040-8"></a>Variable: <strong>@</strong> <em>$</em></dt>
            <dd>
                <p>The location information of the grouping made by the current rule. See <a href="#Java-Location-Values">Java Location Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYABORT-3"></a>Statement: <em>return</em> <strong>YYABORT</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Return immediately from the parser, indicating failure. See <a href="#Java-Parser-Interface">Java Parser Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYACCEPT-3"></a>Statement: <em>return</em> <strong>YYACCEPT</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Return immediately from the parser, indicating success. See <a href="#Java-Parser-Interface">Java Parser Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYERROR-2"></a>Statement: <em>return</em> <strong>YYERROR</strong> <em><code>;</code></em></dt>
            <dd>
                <p>Start error recovery (without printing an error message). See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-recovering"></a>Function: <em>boolean</em> <strong>recovering</strong> <em>()</em></dt>
            <dd>
                <p>Return whether error recovery is being done. In this state, the parser reads token until it reaches a known state, and then restarts normal operation. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyerror-1"></a>Function: <em>void</em> <strong>yyerror</strong> <em>(String <var>msg</var>)</em></dt>
            <dt><a name="index-yyerror-2"></a>Function: <em>void</em> <strong>yyerror</strong> <em>(Position <var>loc</var>, String <var>msg</var>)</em></dt>
            <dt><a name="index-yyerror-3"></a>Function: <em>void</em> <strong>yyerror</strong> <em>(Location <var>loc</var>, String <var>msg</var>)</em></dt>
            <dd>
                <p>Print an error message using the <code>yyerror</code> method of the scanner instance in use. The <code>Location</code> and <code>Position</code> parameters are available only if location tracking is active.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Java-Push-Parser-Interface"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Differences" accesskey="n" rel="next">Java Differences</a>, Previous: <a href="#Java-Action-Features" accesskey="p" rel="prev">Java Action Features</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Push-Parser-Interface-1"></a>
        <h4 class="subsection">10.2.7 Java Push Parser Interface</h4>
        <a name="index-_0025define-api_002epush_002dpull-2"></a>

        <p>(The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
        </p>
        <p>Normally, Bison generates a pull parser for Java. The following Bison declaration says that you want the parser to be a push parser (see <a href="#g_t_0025define-Summary">api.push-pull</a>):
        </p>
        <div class="example">
            <pre class="example">%define api.push-pull push
</pre></div>

        <p>Most of the discussion about the Java pull Parser Interface, (see <a href="#Java-Parser-Interface">Java Parser Interface</a>) applies to the push parser interface as well.
        </p>
        <p>When generating a push parser, the method <code>push_parse</code> is created with the following signature (depending on if locations are enabled).
        </p>
        <dl>
            <dt><a name="index-push_005fparse-on-YYParser"></a>Method on YYParser: <em>void</em> <strong>push_parse</strong> <em>(int <var>token</var>, Object <var>yylval</var>)</em></dt>
            <dt><a name="index-push_005fparse-on-YYParser-1"></a>Method on YYParser: <em>void</em> <strong>push_parse</strong> <em>(int <var>token</var>, Object <var>yylval</var>, Location <var>yyloc</var>)</em></dt>
            <dt><a name="index-push_005fparse-on-YYParser-2"></a>Method on YYParser: <em>void</em> <strong>push_parse</strong> <em>(int <var>token</var>, Object <var>yylval</var>, Position <var>yypos</var>)</em></dt>
        </dl>

        <p>The primary difference with respect to a pull parser is that the parser method <code>push_parse</code> is invoked repeatedly to parse each token. This function is available if either the &quot;%define api.push-pull push&quot; or &quot;%define
            api.push-pull both&quot; declaration is used (see <a href="#g_t_0025define-Summary">api.push-pull</a>). The <code>Location</code> and <code>Position</code> parameters are available only if location tracking is active.
        </p>
        <p>The value returned by the <code>push_parse</code> method is one of the following four constants: <code>YYABORT</code>, <code>YYACCEPT</code>, <code>YYERROR</code>, or
            <code>YYPUSH_MORE</code>. This new value, <code>YYPUSH_MORE</code>, may be returned if more input is required to finish parsing the grammar.
        </p>
        <p>If api.push-pull is declared as <code>both</code>, then the generated parser class will also implement the <code>parse</code> method. This method&rsquo;s body is a loop that repeatedly invokes the scanner and then passes the values obtained from
            the scanner to the <code>push_parse</code> method.
        </p>
        <p>There is one additional complication. Technically, the push parser does not need to know about the scanner (i.e. an object implementing the
            <code>YYParser.Lexer</code> interface), but it does need access to the
            <code>yyerror</code> method. Currently, the <code>yyerror</code> method is defined in the <code>YYParser.Lexer</code> interface. Hence, an implementation of that interface is still required in order to provide an implementation of
            <code>yyerror</code>. The current approach (and subject to change) is to require the <code>YYParser</code> constructor to be given an object implementing the
            <code>YYParser.Lexer</code> interface. This object need only implement the
            <code>yyerror</code> method; the other methods can be stubbed since they will never be invoked. The simplest way to do this is to add a trivial scanner implementation to your grammar file using whatever implementation of
            <code>yyerror</code> is desired. The following code sample shows a simple way to accomplish this.
        </p>
        <div class="example">
            <pre class="example">%code lexer
{
  public Object getLVal () {return null;}
  public int yylex () {return 0;}
  public void yyerror (String s) {System.err.println(s);}
}
</pre></div>

        <hr>
        <a name="Java-Differences"></a>
        <div class="header">
            <p>
                Next: <a href="#Java-Declarations-Summary" accesskey="n" rel="next">Java Declarations Summary</a>, Previous: <a href="#Java-Push-Parser-Interface" accesskey="p" rel="prev">Java Push Parser Interface</a>, Up: <a href="#Java-Parsers" accesskey="u"
                    rel="up">Java Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Differences-between-C_002fC_002b_002b-and-Java-Grammars"></a>
        <h4 class="subsection">10.2.8 Differences between C/C++ and Java Grammars</h4>

        <p>The different structure of the Java language forces several differences between C/C++ grammars, and grammars designed for Java parsers. This section summarizes these differences.
        </p>
        <ul>
            <li> Java lacks a preprocessor, so the <code>YYERROR</code>, <code>YYACCEPT</code>,
                <code>YYABORT</code> symbols (see <a href="#Table-of-Symbols">Table of Symbols</a>) cannot obviously be macros. Instead, they should be preceded by <code>return</code> when they appear in an action. The actual definition of these symbols
                is opaque to the Bison grammar, and it might change in the future. The only meaningful operation that you can do, is to return them. See <a href="#Java-Action-Features">Java Action Features</a>.

                <p>Note that of these three symbols, only <code>YYACCEPT</code> and
                    <code>YYABORT</code> will cause a return from the <code>yyparse</code> method
                    <a name="DOCF1" href="#FOOT1"><sup>1</sup></a>.
                </p>
            </li>
            <li> Java lacks unions, so <code>%union</code> has no effect. Instead, semantic values have a common base type: <code>Object</code> or as specified by &lsquo;
                <samp>%define api.value.type</samp>&rsquo;. Angle brackets on <code>%token</code>, <code>type</code>,
                <code>$<var>n</var></code> and <code>$$</code> specify subtypes rather than fields of an union. The type of <code>$$</code>, even with angle brackets, is the base type since Java casts are not allow on the left-hand side of assignments.
                Also,
                <code>$<var>n</var></code> and <code>@<var>n</var></code> are not allowed on the left-hand side of assignments. See <a href="#Java-Semantic-Values">Java Semantic Values</a>, and
                <a href="#Java-Action-Features">Java Action Features</a>.

            </li>
            <li> The prologue declarations have a different meaning than in C/C++ code.
                <dl compact="compact">
                    <dt><code>%code imports</code></dt>
                    <dd>
                        <p>blocks are placed at the beginning of the Java source code. They may include copyright notices. For a <code>package</code> declarations, it is suggested to use &lsquo;<samp>%define package</samp>&rsquo; instead.
                        </p>
                    </dd>
                    <dt>unqualified <code>%code</code></dt>
                    <dd>
                        <p>blocks are placed inside the parser class.
                        </p>
                    </dd>
                    <dt><code>%code lexer</code></dt>
                    <dd>
                        <p>blocks, if specified, should include the implementation of the scanner. If there is no such block, the scanner can be any class that implements the appropriate interface (see <a href="#Java-Scanner-Interface">Java Scanner Interface</a>).
                        </p>
                    </dd>
                </dl>

                <p>Other <code>%code</code> blocks are not supported in Java parsers. In particular, <code>%{ &hellip; %}</code> blocks should not be used and may give an error in future versions of Bison.
                </p>
                <p>The epilogue has the same meaning as in C/C++ code and it can be used to define other classes used by the parser <em>outside</em> the parser class.
                </p>
            </li>
        </ul>


        <hr>
        <a name="Java-Declarations-Summary"></a>
        <div class="header">
            <p>
                Previous: <a href="#Java-Differences" accesskey="p" rel="prev">Java Differences</a>, Up: <a href="#Java-Parsers" accesskey="u" rel="up">Java Parsers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Java-Declarations-Summary-1"></a>
        <h4 class="subsection">10.2.9 Java Declarations Summary</h4>

        <p>This summary only include declarations specific to Java or have special meaning when used in a Java parser.
        </p>
        <dl>
            <dt><a name="index-_0025language-_0022Java_0022"></a>Directive: <strong>%language &quot;Java&quot;</strong></dt>
            <dd>
                <p>Generate a Java class for the parser.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025lex_002dparam-2"></a>Directive: <strong>%lex-param</strong> <em>{<var>type</var> <var>name</var>}</em></dt>
            <dd>
                <p>A parameter for the lexer class defined by <code>%code lexer</code>
                    <em>only</em>, added as parameters to the lexer constructor and the parser constructor that <em>creates</em> a lexer. Default is none. See <a href="#Java-Scanner-Interface">Java Scanner Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025name_002dprefix-1"></a>Directive: <strong>%name-prefix</strong> <em>&quot;<var>prefix</var>&quot;</em></dt>
            <dd>
                <p>The prefix of the parser class name <code><var>prefix</var>Parser</code> if &lsquo;
                    <samp>%define parser_class_name</samp>&rsquo; is not used. Default is <code>YY</code>. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025parse_002dparam-2"></a>Directive: <strong>%parse-param</strong> <em>{<var>type</var> <var>name</var>}</em></dt>
            <dd>
                <p>A parameter for the parser class added as parameters to constructor(s) and as fields initialized by the constructor(s). Default is none. See <a href="#Java-Parser-Interface">Java Parser Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025token-2"></a>Directive: <strong>%token</strong> <em>&lt;<var>type</var>&gt; <var>token</var> &hellip;</em></dt>
            <dd>
                <p>Declare tokens. Note that the angle brackets enclose a Java <em>type</em>. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025type-2"></a>Directive: <strong>%type</strong> <em>&lt;<var>type</var>&gt; <var>nonterminal</var> &hellip;</em></dt>
            <dd>
                <p>Declare the type of nonterminals. Note that the angle brackets enclose a Java <em>type</em>. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025code-8"></a>Directive: <strong>%code</strong> <em>{ <var>code</var> &hellip; }</em></dt>
            <dd>
                <p>Code appended to the inside of the parser class. See <a href="#Java-Differences">Java Differences</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025code-imports-1"></a>Directive: <strong>%code imports</strong> <em>{ <var>code</var> &hellip; }</em></dt>
            <dd>
                <p>Code inserted just after the <code>package</code> declaration. See <a href="#Java-Differences">Java Differences</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025code-init"></a>Directive: <strong>%code init</strong> <em>{ <var>code</var> &hellip; }</em></dt>
            <dd>
                <p>Code inserted at the beginning of the parser constructor body. See <a href="#Java-Parser-Interface">Java Parser Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025code-lexer"></a>Directive: <strong>%code lexer</strong> <em>{ <var>code</var> &hellip; }</em></dt>
            <dd>
                <p>Code added to the body of a inner lexer class within the parser class. See <a href="#Java-Scanner-Interface">Java Scanner Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025_0025"></a>Directive: <strong>%%</strong> <em><var>code</var> &hellip;</em></dt>
            <dd>
                <p>Code (after the second <code>%%</code>) appended to the end of the file,
                    <em>outside</em> the parser class. See <a href="#Java-Differences">Java Differences</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025"></a>Directive: <strong>%</strong> <em>{ <var>code</var> &hellip; %}</em></dt>
            <dd>
                <p>Not supported. Use <code>%code imports</code> instead. See <a href="#Java-Differences">Java Differences</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-abstract"></a>Directive: <strong>%define abstract</strong></dt>
            <dd>
                <p>Whether the parser class is declared <code>abstract</code>. Default is false. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-annotations"></a>Directive: <strong>%define annotations</strong> <em>{<var>annotations</var>}</em></dt>
            <dd>
                <p>The Java annotations for the parser class. Default is none. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-extends"></a>Directive: <strong>%define extends</strong> <em>{<var>superclass</var>}</em></dt>
            <dd>
                <p>The superclass of the parser class. Default is none. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-final"></a>Directive: <strong>%define final</strong></dt>
            <dd>
                <p>Whether the parser class is declared <code>final</code>. Default is false. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-implements"></a>Directive: <strong>%define implements</strong> <em>{<var>interfaces</var>}</em></dt>
            <dd>
                <p>The implemented interfaces of the parser class, a comma-separated list. Default is none. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-init_005fthrows"></a>Directive: <strong>%define init_throws</strong> <em>{<var>exceptions</var>}</em></dt>
            <dd>
                <p>The exceptions thrown by <code>%code init</code> from the parser class constructor. Default is none. See <a href="#Java-Parser-Interface">Java Parser Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-lex_005fthrows"></a>Directive: <strong>%define lex_throws</strong> <em>{<var>exceptions</var>}</em></dt>
            <dd>
                <p>The exceptions thrown by the <code>yylex</code> method of the lexer, a comma-separated list. Default is <code>java.io.IOException</code>. See <a href="#Java-Scanner-Interface">Java Scanner Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-api_002elocation_002etype-2"></a>Directive: <strong>%define api.location.type</strong> <em>{<var>class</var>}</em></dt>
            <dd>
                <p>The name of the class used for locations (a range between two positions). This class is generated as an inner class of the parser class by <code>bison</code>. Default is <code>Location</code>. Formerly named <code>location_type</code>.
                    See
                    <a href="#Java-Location-Values">Java Location Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-package"></a>Directive: <strong>%define package</strong> <em>{<var>package</var>}</em></dt>
            <dd>
                <p>The package to put the parser class in. Default is none. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-parser_005fclass_005fname"></a>Directive: <strong>%define parser_class_name</strong> <em>{<var>name</var>}</em></dt>
            <dd>
                <p>The name of the parser class. Default is <code>YYParser</code> or
                    <code><var>name-prefix</var>Parser</code>. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-api_002eposition_002etype"></a>Directive: <strong>%define api.position.type</strong> <em>{<var>class</var>}</em></dt>
            <dd>
                <p>The name of the class used for positions. This class must be supplied by the user. Default is <code>Position</code>. Formerly named <code>position_type</code>. See <a href="#Java-Location-Values">Java Location Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-public"></a>Directive: <strong>%define public</strong></dt>
            <dd>
                <p>Whether the parser class is declared <code>public</code>. Default is false. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-api_002evalue_002etype-2"></a>Directive: <strong>%define api.value.type</strong> <em>{<var>class</var>}</em></dt>
            <dd>
                <p>The base type of semantic values. Default is <code>Object</code>. See <a href="#Java-Semantic-Values">Java Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-strictfp"></a>Directive: <strong>%define strictfp</strong></dt>
            <dd>
                <p>Whether the parser class is declared <code>strictfp</code>. Default is false. See <a href="#Java-Bison-Interface">Java Bison Interface</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025define-throws"></a>Directive: <strong>%define throws</strong> <em>{<var>exceptions</var>}</em></dt>
            <dd>
                <p>The exceptions thrown by user-supplied parser actions and
                    <code>%initial-action</code>, a comma-separated list. Default is none. See <a href="#Java-Parser-Interface">Java Parser Interface</a>.
                </p>
            </dd>
        </dl>



        <hr>
        <a name="FAQ"></a>
        <div class="header">
            <p>
                Next: <a href="#Table-of-Symbols" accesskey="n" rel="next">Table of Symbols</a>, Previous: <a href="#Other-Languages" accesskey="p" rel="prev">Other Languages</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Frequently-Asked-Questions"></a>
        <h2 class="chapter">11 Frequently Asked Questions</h2>
        <a name="index-frequently-asked-questions"></a>
        <a name="index-questions"></a>

        <p>Several questions about Bison come up occasionally. Here some of them are addressed.
        </p>
        <table class="menu" border="0" cellspacing="0">
            <tr>
                <td align="left" valign="top">&bull; <a href="#Memory-Exhausted" accesskey="1">Memory Exhausted</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Breaking the Stack Limits
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#How-Can-I-Reset-the-Parser" accesskey="2">How Can I Reset the Parser</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top"><code>yyparse</code> Keeps some State
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Strings-are-Destroyed" accesskey="3">Strings are Destroyed</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top"><code>yylval</code> Loses Track of Strings
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Implementing-Gotos_002fLoops" accesskey="4">Implementing Gotos/Loops</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Control Flow in the Calculator
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Multiple-start_002dsymbols" accesskey="5">Multiple start-symbols</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Factoring closely related grammars
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Secure_003f-Conform_003f" accesskey="6">Secure?  Conform?</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Is Bison POSIX safe?
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#I-can_0027t-build-Bison" accesskey="7">I can't build Bison</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Troubleshooting
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Where-can-I-find-help_003f" accesskey="8">Where can I find help?</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Troubleshouting
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Bug-Reports" accesskey="9">Bug Reports</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Troublereporting
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#More-Languages">More Languages</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Parsers in C++, Java, and so on
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Beta-Testing">Beta Testing</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Experimenting development versions
                </td>
            </tr>
            <tr>
                <td align="left" valign="top">&bull; <a href="#Mailing-Lists">Mailing Lists</a>:</td>
                <td>&nbsp;&nbsp;</td>
                <td align="left" valign="top">Meeting other Bison users
                </td>
            </tr>
        </table>

        <hr>
        <a name="Memory-Exhausted"></a>
        <div class="header">
            <p>
                Next: <a href="#How-Can-I-Reset-the-Parser" accesskey="n" rel="next">How Can I Reset the Parser</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Memory-Exhausted-1"></a>
        <h3 class="section">11.1 Memory Exhausted</h3>

        <blockquote>
            <p>My parser returns with error with a &lsquo;<samp>memory exhausted</samp>&rsquo; message. What can I do?
            </p>
        </blockquote>

        <p>This question is already addressed elsewhere, see <a href="#Recursion">Recursive
Rules</a>.
        </p>
        <hr>
        <a name="How-Can-I-Reset-the-Parser"></a>
        <div class="header">
            <p>
                Next: <a href="#Strings-are-Destroyed" accesskey="n" rel="next">Strings are Destroyed</a>, Previous: <a href="#Memory-Exhausted" accesskey="p" rel="prev">Memory Exhausted</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp; [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="How-Can-I-Reset-the-Parser-1"></a>
        <h3 class="section">11.2 How Can I Reset the Parser</h3>

        <p>The following phenomenon has several symptoms, resulting in the following typical questions:
        </p>
        <blockquote>
            <p>I invoke <code>yyparse</code> several times, and on correct input it works properly; but when a parse error is found, all the other calls fail too. How can I reset the error flag of <code>yyparse</code>?
            </p>
        </blockquote>

        <p>or
        </p>
        <blockquote>
            <p>My parser includes support for an &lsquo;<samp>#include</samp>&rsquo;-like feature, in which case I run <code>yyparse</code> from <code>yyparse</code>. This fails although I did specify &lsquo;<samp>%define api.pure full</samp>&rsquo;.
            </p>
        </blockquote>

        <p>These problems typically come not from Bison itself, but from Lex-generated scanners. Because these scanners use large buffers for speed, they might not notice a change of input file. As a demonstration, consider the following source file,
            <samp>first-line.l</samp>:
        </p>
        <div class="example">
            <pre class="example">%{
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
%}
</pre><pre class="example">%%
.*\n    ECHO; return 1;
%%
</pre><pre class="example">int
yyparse (char const *file)
{
  yyin = fopen (file, &quot;r&quot;);
  if (!yyin)
    {
      perror (&quot;fopen&quot;);
      exit (EXIT_FAILURE);
    }
</pre><pre class="example">  /* One token only.  */
  yylex ();
  if (fclose (yyin) != 0)
    {
      perror (&quot;fclose&quot;);
      exit (EXIT_FAILURE);
    }
  return 0;
}
</pre><pre class="example">
</pre><pre class="example">int
main (void)
{
  yyparse (&quot;input&quot;);
  yyparse (&quot;input&quot;);
  return 0;
}
</pre></div>

        <p>If the file <samp>input</samp> contains
        </p>
        <div class="example">
            <pre class="example">input:1: Hello,
input:2: World!
</pre></div>

        <p>then instead of getting the first line twice, you get:
        </p>
        <div class="example">
            <pre class="example">$ <kbd>flex -ofirst-line.c first-line.l</kbd>
$ <kbd>gcc  -ofirst-line   first-line.c -ll</kbd>
$ <kbd>./first-line</kbd>
input:1: Hello,
input:2: World!
</pre></div>

        <p>Therefore, whenever you change <code>yyin</code>, you must tell the Lex-generated scanner to discard its current buffer and switch to the new one. This depends upon your implementation of Lex; see its documentation for more. For Flex, it suffices
            to call &lsquo;
            <samp>YY_FLUSH_BUFFER</samp>&rsquo; after each change to <code>yyin</code>. If your Flex-generated scanner needs to read from several input streams to handle features like include files, you might consider using Flex functions like &lsquo;<samp>yy_switch_to_buffer</samp>&rsquo;
            that manipulate multiple input buffers.
        </p>
        <p>If your Flex-generated scanner uses start conditions (see <a href="flex.html#Start-conditions">Start conditions</a> in <cite>The Flex Manual</cite>), you might also want to reset the scanner&rsquo;s state, i.e., go back to the initial start condition,
            through a call to &lsquo;<samp>BEGIN (0)</samp>&rsquo;.
        </p>
        <hr>
        <a name="Strings-are-Destroyed"></a>
        <div class="header">
            <p>
                Next: <a href="#Implementing-Gotos_002fLoops" accesskey="n" rel="next">Implementing Gotos/Loops</a>, Previous: <a href="#How-Can-I-Reset-the-Parser" accesskey="p" rel="prev">How Can I Reset the Parser</a>, Up: <a href="#FAQ" accesskey="u"
                    rel="up">FAQ</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Strings-are-Destroyed-1"></a>
        <h3 class="section">11.3 Strings are Destroyed</h3>

        <blockquote>
            <p>My parser seems to destroy old strings, or maybe it loses track of them. Instead of reporting &lsquo;<samp>&quot;foo&quot;, &quot;bar&quot;</samp>&rsquo;, it reports &lsquo;
                <samp>&quot;bar&quot;, &quot;bar&quot;</samp>&rsquo;, or even &lsquo;<samp>&quot;foo\nbar&quot;, &quot;bar&quot;</samp>&rsquo;.
            </p>
        </blockquote>

        <p>This error is probably the single most frequent &ldquo;bug report&rdquo; sent to Bison lists, but is only concerned with a misunderstanding of the role of the scanner. Consider the following Lex code:
        </p>
        <div class="example">
            <pre class="example">%{
#include &lt;stdio.h&gt;
char *yylval = NULL;
%}
</pre><pre class="example">%%
.*    yylval = yytext; return 1;
\n    /* IGNORE */
%%
</pre><pre class="example">int
main ()
{
  /* Similar to using $1, $2 in a Bison action.  */
  char *fst = (yylex (), yylval);
  char *snd = (yylex (), yylval);
  printf (&quot;\&quot;%s\&quot;, \&quot;%s\&quot;\n&quot;, fst, snd);
  return 0;
}
</pre></div>

        <p>If you compile and run this code, you get:
        </p>
        <div class="example">
            <pre class="example">$ <kbd>flex -osplit-lines.c split-lines.l</kbd>
$ <kbd>gcc  -osplit-lines   split-lines.c -ll</kbd>
$ <kbd>printf 'one\ntwo\n' | ./split-lines</kbd>
&quot;one
two&quot;, &quot;two&quot;
</pre></div>

        <p>this is because <code>yytext</code> is a buffer provided for <em>reading</em> in the action, but if you want to keep it, you have to duplicate it (e.g., using <code>strdup</code>). Note that the output may depend on how your implementation of
            Lex handles <code>yytext</code>. For instance, when given the Lex compatibility option <samp>-l</samp> (which triggers the option &lsquo;<samp>%array</samp>&rsquo;) Flex generates a different behavior:
        </p>
        <div class="example">
            <pre class="example">$ <kbd>flex -l -osplit-lines.c split-lines.l</kbd>
$ <kbd>gcc     -osplit-lines   split-lines.c -ll</kbd>
$ <kbd>printf 'one\ntwo\n' | ./split-lines</kbd>
&quot;two&quot;, &quot;two&quot;
</pre></div>


        <hr>
        <a name="Implementing-Gotos_002fLoops"></a>
        <div class="header">
            <p>
                Next: <a href="#Multiple-start_002dsymbols" accesskey="n" rel="next">Multiple start-symbols</a>, Previous: <a href="#Strings-are-Destroyed" accesskey="p" rel="prev">Strings are Destroyed</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Implementing-Gotos_002fLoops-1"></a>
        <h3 class="section">11.4 Implementing Gotos/Loops</h3>

        <blockquote>
            <p>My simple calculator supports variables, assignments, and functions, but how can I implement gotos, or loops?
            </p>
        </blockquote>

        <p>Although very pedagogical, the examples included in the document blur the distinction to make between the parser&mdash;whose job is to recover the structure of a text and to transmit it to subsequent modules of the program&mdash;and the processing
            (such as the execution) of this structure. This works well with so called straight line programs, i.e., precisely those that have a straightforward execution model: execute simple instructions one after the others.
        </p>
        <a name="index-abstract-syntax-tree"></a>
        <a name="index-AST"></a>
        <p>If you want a richer model, you will probably need to use the parser to construct a tree that does represent the structure it has recovered; this tree is usually called the <em>abstract syntax tree</em>, or <em>AST</em> for short. Then, walking
            through this tree, traversing it in various ways, will enable treatments such as its execution or its translation, which will result in an interpreter or a compiler.
        </p>
        <p>This topic is way beyond the scope of this manual, and the reader is invited to consult the dedicated literature.
        </p>

        <hr>
        <a name="Multiple-start_002dsymbols"></a>
        <div class="header">
            <p>
                Next: <a href="#Secure_003f-Conform_003f" accesskey="n" rel="next">Secure?  Conform?</a>, Previous: <a href="#Implementing-Gotos_002fLoops" accesskey="p" rel="prev">Implementing Gotos/Loops</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Multiple-start_002dsymbols-1"></a>
        <h3 class="section">11.5 Multiple start-symbols</h3>

        <blockquote>
            <p>I have several closely related grammars, and I would like to share their implementations. In fact, I could use a single grammar but with multiple entry points.
            </p>
        </blockquote>

        <p>Bison does not support multiple start-symbols, but there is a very simple means to simulate them. If <code>foo</code> and <code>bar</code> are the two pseudo start-symbols, then introduce two new tokens, say
            <code>START_FOO</code> and <code>START_BAR</code>, and use them as switches from the real start-symbol:
        </p>
        <div class="example">
            <pre class="example">%token START_FOO START_BAR;
%start start;
start:
  START_FOO foo
| START_BAR bar;
</pre></div>

        <p>These tokens prevents the introduction of new conflicts. As far as the parser goes, that is all that is needed.
        </p>
        <p>Now the difficult part is ensuring that the scanner will send these tokens first. If your scanner is hand-written, that should be straightforward. If your scanner is generated by Lex, them there is simple means to do it: recall that anything between
            &lsquo;
            <samp>%{ ... %}</samp>&rsquo; after the first <code>%%</code> is copied verbatim in the top of the generated
            <code>yylex</code> function. Make sure a variable <code>start_token</code> is available in the scanner (e.g., a global variable or using
            <code>%lex-param</code> etc.), and use the following:
        </p>
        <div class="example">
            <pre class="example">  /* <span class="roman">Prologue.</span>  */
%%
%{
  if (start_token)
    {
      int t = start_token;
      start_token = 0;
      return t;
    }
%}
  /* <span class="roman">The rules.</span>  */
</pre></div>


        <hr>
        <a name="Secure_003f-Conform_003f"></a>
        <div class="header">
            <p>
                Next: <a href="#I-can_0027t-build-Bison" accesskey="n" rel="next">I can't build Bison</a>, Previous: <a href="#Multiple-start_002dsymbols" accesskey="p" rel="prev">Multiple start-symbols</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Secure_003f-Conform_003f-1"></a>
        <h3 class="section">11.6 Secure? Conform?</h3>

        <blockquote>
            <p>Is Bison secure? Does it conform to POSIX?
            </p>
        </blockquote>

        <p>If you&rsquo;re looking for a guarantee or certification, we don&rsquo;t provide it. However, Bison is intended to be a reliable program that conforms to the POSIX specification for Yacc. If you run into problems, please send us a bug report.
        </p>
        <hr>
        <a name="I-can_0027t-build-Bison"></a>
        <div class="header">
            <p>
                Next: <a href="#Where-can-I-find-help_003f" accesskey="n" rel="next">Where can I find help?</a>, Previous: <a href="#Secure_003f-Conform_003f" accesskey="p" rel="prev">Secure?  Conform?</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a>                &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="I-can_0027t-build-Bison-1"></a>
        <h3 class="section">11.7 I can&rsquo;t build Bison</h3>

        <blockquote>
            <p>I can&rsquo;t build Bison because <code>make</code> complains that
                <code>msgfmt</code> is not found. What should I do?
            </p>
        </blockquote>

        <p>Like most GNU packages with internationalization support, that feature is turned on by default. If you have problems building in the <samp>po</samp> subdirectory, it indicates that your system&rsquo;s internationalization support is lacking. You
            can re-configure Bison with
            <samp>--disable-nls</samp> to turn off this support, or you can install GNU gettext from <a href="ftp://ftp.gnu.org/gnu/gettext/">ftp://ftp.gnu.org/gnu/gettext/</a> and re-configure Bison. See the file <samp>ABOUT-NLS</samp> for more information.
        </p>

        <hr>
        <a name="Where-can-I-find-help_003f"></a>
        <div class="header">
            <p>
                Next: <a href="#Bug-Reports" accesskey="n" rel="next">Bug Reports</a>, Previous: <a href="#I-can_0027t-build-Bison" accesskey="p" rel="prev">I can't build Bison</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Where-can-I-find-help_003f-1"></a>
        <h3 class="section">11.8 Where can I find help?</h3>

        <blockquote>
            <p>I&rsquo;m having trouble using Bison. Where can I find help?
            </p>
        </blockquote>

        <p>First, read this fine manual. Beyond that, you can send mail to
            <a href="mailto:help-bison@gnu.org">help-bison@gnu.org</a>. This mailing list is intended to be populated with people who are willing to answer questions about using and installing Bison. Please keep in mind that (most of) the people on the
            list have aspects of their lives which are not related to Bison (!), so you may not receive an answer to your question right away. This can be frustrating, but please try not to honk them off; remember that any help they provide is purely
            voluntary and out of the kindness of their hearts.
        </p>
        <hr>
        <a name="Bug-Reports"></a>
        <div class="header">
            <p>
                Next: <a href="#More-Languages" accesskey="n" rel="next">More Languages</a>, Previous: <a href="#Where-can-I-find-help_003f" accesskey="p" rel="prev">Where can I find help?</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp;
                [
                <a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bug-Reports-1"></a>
        <h3 class="section">11.9 Bug Reports</h3>

        <blockquote>
            <p>I found a bug. What should I include in the bug report?
            </p>
        </blockquote>

        <p>Before you send a bug report, make sure you are using the latest version. Check <a href="ftp://ftp.gnu.org/pub/gnu/bison/">ftp://ftp.gnu.org/pub/gnu/bison/</a> or one of its mirrors. Be sure to include the version number in your bug report. If
            the bug is present in the latest version but not in a previous version, try to determine the most recent version which did not contain the bug.
        </p>
        <p>If the bug is parser-related, you should include the smallest grammar you can which demonstrates the bug. The grammar file should also be complete (i.e., I should be able to run it through Bison without having to edit or add anything). The smaller
            and simpler the grammar, the easier it will be to fix the bug.
        </p>
        <p>Include information about your compilation environment, including your operating system&rsquo;s name and version and your compiler&rsquo;s name and version. If you have trouble compiling, you should also include a transcript of the build session,
            starting with the invocation of &lsquo;configure&rsquo;. Depending on the nature of the bug, you may be asked to send additional files as well (such as <samp>config.h</samp> or <samp>config.cache</samp>).
        </p>
        <p>Patches are most welcome, but not required. That is, do not hesitate to send a bug report just because you cannot provide a fix.
        </p>
        <p>Send bug reports to <a href="mailto:bug-bison@gnu.org">bug-bison@gnu.org</a>.
        </p>
        <hr>
        <a name="More-Languages"></a>
        <div class="header">
            <p>
                Next: <a href="#Beta-Testing" accesskey="n" rel="next">Beta Testing</a>, Previous: <a href="#Bug-Reports" accesskey="p" rel="prev">Bug Reports</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="More-Languages-1"></a>
        <h3 class="section">11.10 More Languages</h3>

        <blockquote>
            <p>Will Bison ever have C++ and Java support? How about <var>insert your
favorite language here</var>?
            </p>
        </blockquote>

        <p>C++ and Java support is there now, and is documented. We&rsquo;d love to add other languages; contributions are welcome.
        </p>
        <hr>
        <a name="Beta-Testing"></a>
        <div class="header">
            <p>
                Next: <a href="#Mailing-Lists" accesskey="n" rel="next">Mailing Lists</a>, Previous: <a href="#More-Languages" accesskey="p" rel="prev">More Languages</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Beta-Testing-1"></a>
        <h3 class="section">11.11 Beta Testing</h3>

        <blockquote>
            <p>What is involved in being a beta tester?
            </p>
        </blockquote>

        <p>It&rsquo;s not terribly involved. Basically, you would download a test release, compile it, and use it to build and run a parser or two. After that, you would submit either a bug report or a message saying that everything is okay. It is important
            to report successes as well as failures because test releases eventually become mainstream releases, but only if they are adequately tested. If no one tests, development is essentially halted.
        </p>
        <p>Beta testers are particularly needed for operating systems to which the developers do not have easy access. They currently have easy access to recent GNU/Linux and Solaris versions. Reports about other operating systems are especially welcome.
        </p>
        <hr>
        <a name="Mailing-Lists"></a>
        <div class="header">
            <p>
                Previous: <a href="#Beta-Testing" accesskey="p" rel="prev">Beta Testing</a>, Up: <a href="#FAQ" accesskey="u" rel="up">FAQ</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Mailing-Lists-1"></a>
        <h3 class="section">11.12 Mailing Lists</h3>

        <blockquote>
            <p>How do I join the help-bison and bug-bison mailing lists?
            </p>
        </blockquote>

        <p>See <a href="http://lists.gnu.org/">http://lists.gnu.org/</a>.
        </p>

        <hr>
        <a name="Table-of-Symbols"></a>
        <div class="header">
            <p>
                Next: <a href="#Glossary" accesskey="n" rel="next">Glossary</a>, Previous: <a href="#FAQ" accesskey="p" rel="prev">FAQ</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][
                <a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bison-Symbols"></a>
        <h2 class="appendix">Appendix A Bison Symbols</h2>
        <a name="index-Bison-symbols_002c-table-of"></a>
        <a name="index-symbols-in-Bison_002c-table-of"></a>

        <dl>
            <dt><a name="index-_0040-2"></a>Variable: <strong>@</strong> <em>$</em></dt>
            <dd>
                <p>In an action, the location of the left-hand side of the rule. See <a href="#Tracking-Locations">Tracking Locations</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0040-3"></a>Variable: <strong>@</strong> <em><var>n</var></em></dt>
            <dt><a name="index-_0040-4"></a>Symbol: <strong>@</strong> <em><var>n</var></em></dt>
            <dd>
                <p>In an action, the location of the <var>n</var>-th symbol of the right-hand side of the rule. See <a href="#Tracking-Locations">Tracking Locations</a>.
                </p>
                <p>In a grammar, the Bison-generated nonterminal symbol for a mid-rule action with a semantical value. See <a href="#Mid_002dRule-Action-Translation">Mid-Rule Action Translation</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0040-5"></a>Variable: <strong>@</strong> <em><var>name</var></em></dt>
            <dt><a name="index-_0040-6"></a>Variable: <strong>@</strong> <em>[<var>name</var>]</em></dt>
            <dd>
                <p>In an action, the location of a symbol addressed by <var>name</var>. See <a href="#Tracking-Locations">Tracking Locations</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024-1"></a>Symbol: <strong>$</strong> <em>@<var>n</var></em></dt>
            <dd>
                <p>In a grammar, the Bison-generated nonterminal symbol for a mid-rule action with no semantical value. See <a href="#Mid_002dRule-Action-Translation">Mid-Rule Action Translation</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024_0024-1"></a>Variable: <strong>$$</strong></dt>
            <dd>
                <p>In an action, the semantic value of the left-hand side of the rule. See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024-2"></a>Variable: <strong>$</strong> <em><var>n</var></em></dt>
            <dd>
                <p>In an action, the semantic value of the <var>n</var>-th symbol of the right-hand side of the rule. See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024-3"></a>Variable: <strong>$</strong> <em><var>name</var></em></dt>
            <dt><a name="index-_0024_005b"></a>Variable: <strong>$[</strong> <em><var>name</var>]</em></dt>
            <dd>
                <p>In an action, the semantic value of a symbol addressed by <var>name</var>. See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025_0025-1"></a>Delimiter: <strong>%%</strong></dt>
            <dd>
                <p>Delimiter used to separate the grammar rule section from the Bison declarations section or the epilogue. See <a href="#Grammar-Layout">The Overall Layout of a Bison Grammar</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025-1"></a>Delimiter: <strong>%</strong> <em>{<var>code</var>%}</em></dt>
            <dd>
                <p>All code listed between &lsquo;<samp>%{</samp>&rsquo; and &lsquo;<samp>%}</samp>&rsquo; is copied verbatim to the parser implementation file. Such code forms the prologue of the grammar file. See <a href="#Grammar-Outline">Outline of a Bison
Grammar</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025_003f-1"></a>Directive: <strong>%?</strong> <em>{<var>expression</var>}</em></dt>
            <dd>
                <p>Predicate actions. This is a type of action clause that may appear in rules. The expression is evaluated, and if false, causes a syntax error. In GLR parsers during nondeterministic operation, this silently causes an alternative parse
                    to die. During deterministic operation, it is the same as the effect of YYERROR. See <a href="#Semantic-Predicates">Semantic Predicates</a>.
                </p>
                <p>This feature is experimental. More user feedback will help to determine whether it should become a permanent feature.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_002f_002a"></a>Construct: <strong>/*</strong> <em>&hellip; */</em></dt>
            <dt><a name="index-_002f_002f"></a>Construct: <strong>//</strong> <em>&hellip;</em></dt>
            <dd>
                <p>Comments, as in C/C++.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_003a"></a>Delimiter: <strong>:</strong></dt>
            <dd>
                <p>Separates a rule&rsquo;s result from its components. See <a href="#Rules">Syntax of
Grammar Rules</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_003b"></a>Delimiter: <strong>;</strong></dt>
            <dd>
                <p>Terminates a rule. See <a href="#Rules">Syntax of Grammar Rules</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_007c-1"></a>Delimiter: <strong>|</strong></dt>
            <dd>
                <p>Separates alternate rules for the same result nonterminal. See <a href="#Rules">Syntax of Grammar Rules</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_003c_002a_003e-2"></a>Directive: <strong>&lt;*&gt;</strong></dt>
            <dd>
                <p>Used to define a default tagged <code>%destructor</code> or default tagged
                    <code>%printer</code>.
                </p>
                <p>This feature is experimental. More user feedback will help to determine whether it should become a permanent feature.
                </p>
                <p>See <a href="#Destructor-Decl">Freeing Discarded Symbols</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_003c_003e-2"></a>Directive: <strong>&lt;&gt;</strong></dt>
            <dd>
                <p>Used to define a default tagless <code>%destructor</code> or default tagless
                    <code>%printer</code>.
                </p>
                <p>This feature is experimental. More user feedback will help to determine whether it should become a permanent feature.
                </p>
                <p>See <a href="#Destructor-Decl">Freeing Discarded Symbols</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024accept"></a>Symbol: <strong>$accept</strong></dt>
            <dd>
                <p>The predefined nonterminal whose only rule is &lsquo;<samp>$accept: <var>start</var>
$end</samp>&rsquo;, where <var>start</var> is the start symbol. See <a href="#Start-Decl">The
Start-Symbol</a>. It cannot be used in the grammar.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025code-9"></a>Directive: <strong>%code</strong> <em>{<var>code</var>}</em></dt>
            <dt><a name="index-_0025code-10"></a>Directive: <strong>%code</strong> <em><var>qualifier</var> {<var>code</var>}</em></dt>
            <dd>
                <p>Insert <var>code</var> verbatim into the output parser source at the default location or at the location specified by <var>qualifier</var>. See <a href="#g_t_0025code-Summary">%code Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025debug-2"></a>Directive: <strong>%debug</strong></dt>
            <dd>
                <p>Equip the parser for debugging. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>


        <dl>
            <dt><a name="index-_0025define-9"></a>Directive: <strong>%define</strong> <em><var>variable</var></em></dt>
            <dt><a name="index-_0025define-10"></a>Directive: <strong>%define</strong> <em><var>variable</var> <var>value</var></em></dt>
            <dt><a name="index-_0025define-11"></a>Directive: <strong>%define</strong> <em><var>variable</var> {<var>value</var>}</em></dt>
            <dt><a name="index-_0025define-12"></a>Directive: <strong>%define</strong> <em><var>variable</var> &quot;<var>value</var>&quot;</em></dt>
            <dd>
                <p>Define a variable to adjust Bison&rsquo;s behavior. See <a href="#g_t_0025define-Summary">%define Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025defines-2"></a>Directive: <strong>%defines</strong></dt>
            <dd>
                <p>Bison declaration to create a parser header file, which is usually meant for the scanner. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025defines-3"></a>Directive: <strong>%defines</strong> <em><var>defines-file</var></em></dt>
            <dd>
                <p>Same as above, but save in the file <var>defines-file</var>. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025destructor-5"></a>Directive: <strong>%destructor</strong></dt>
            <dd>
                <p>Specify how the parser should reclaim the memory associated to discarded symbols. See <a href="#Destructor-Decl">Freeing Discarded Symbols</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025dprec-1"></a>Directive: <strong>%dprec</strong></dt>
            <dd>
                <p>Bison declaration to assign a precedence to a rule that is used at parse time to resolve reduce/reduce conflicts. See <a href="#GLR-Parsers">Writing
GLR Parsers</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025empty-1"></a>Directive: <strong>%empty</strong></dt>
            <dd>
                <p>Bison declaration to declare make explicit that a rule has an empty right-hand side. See <a href="#Empty-Rules">Empty Rules</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024end"></a>Symbol: <strong>$end</strong></dt>
            <dd>
                <p>The predefined token marking the end of the token stream. It cannot be used in the grammar.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-error-1"></a>Symbol: <strong>error</strong></dt>
            <dd>
                <p>A token name reserved for error recovery. This token may be used in grammar rules so as to allow the Bison parser to recognize an error in the grammar without halting the process. In effect, a sentence containing an error may be recognized
                    as valid. On a syntax error, the token <code>error</code> becomes the current lookahead token. Actions corresponding to <code>error</code> are then executed, and the lookahead token is reset to the token that originally caused the
                    violation. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025error_002dverbose"></a>Directive: <strong>%error-verbose</strong></dt>
            <dd>
                <p>An obsolete directive standing for &lsquo;<samp>%define parse.error verbose</samp>&rsquo; (see <a href="#Error-Reporting">The Error Reporting Function <code>yyerror</code></a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025file_002dprefix-1"></a>Directive: <strong>%file-prefix</strong> <em>&quot;<var>prefix</var>&quot;</em></dt>
            <dd>
                <p>Bison declaration to set the prefix of the output files. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025glr_002dparser-2"></a>Directive: <strong>%glr-parser</strong></dt>
            <dd>
                <p>Bison declaration to produce a GLR parser. See <a href="#GLR-Parsers">Writing GLR Parsers</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025initial_002daction-3"></a>Directive: <strong>%initial-action</strong></dt>
            <dd>
                <p>Run user code before parsing. See <a href="#Initial-Action-Decl">Performing Actions before Parsing</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025language-1"></a>Directive: <strong>%language</strong></dt>
            <dd>
                <p>Specify the programming language for the generated parser. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025left-2"></a>Directive: <strong>%left</strong></dt>
            <dd>
                <p>Bison declaration to assign precedence and left associativity to token(s). See <a href="#Precedence-Decl">Operator Precedence</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025lex_002dparam-3"></a>Directive: <strong>%lex-param</strong> <em>{<var>argument-declaration</var>} &hellip;</em></dt>
            <dd>
                <p>Bison declaration to specifying additional arguments that
                    <code>yylex</code> should accept. See <a href="#Pure-Calling">Calling Conventions
for Pure Parsers</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025merge-1"></a>Directive: <strong>%merge</strong></dt>
            <dd>
                <p>Bison declaration to assign a merging function to a rule. If there is a reduce/reduce conflict with a rule having the same merging function, the function is applied to the two semantic values to get a single result. See <a href="#GLR-Parsers">Writing GLR Parsers</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025name_002dprefix-2"></a>Directive: <strong>%name-prefix</strong> <em>&quot;<var>prefix</var>&quot;</em></dt>
            <dd>
                <p>Obsoleted by the <code>%define</code> variable <code>api.prefix</code> (see <a href="#Multiple-Parsers">Multiple Parsers in the Same Program</a>).
                </p>
                <p>Rename the external symbols (variables and functions) used in the parser so that they start with <var>prefix</var> instead of &lsquo;<samp>yy</samp>&rsquo;. Contrary to
                    <code>api.prefix</code>, do no rename types and macros.
                </p>
                <p>The precise list of symbols renamed in C parsers is <code>yyparse</code>,
                    <code>yylex</code>, <code>yyerror</code>, <code>yynerrs</code>, <code>yylval</code>, <code>yychar</code>,
                    <code>yydebug</code>, and (if locations are used) <code>yylloc</code>. If you use a push parser, <code>yypush_parse</code>, <code>yypull_parse</code>, <code>yypstate</code>,
                    <code>yypstate_new</code> and <code>yypstate_delete</code> will also be renamed. For example, if you use &lsquo;<samp>%name-prefix &quot;c_&quot;</samp>&rsquo;, the names become
                    <code>c_parse</code>, <code>c_lex</code>, and so on. For C++ parsers, see the
                    <code>%define api.namespace</code> documentation in this section.
                </p>
            </dd>
        </dl>



        <dl>
            <dt><a name="index-_0025no_002dlines-1"></a>Directive: <strong>%no-lines</strong></dt>
            <dd>
                <p>Bison declaration to avoid generating <code>#line</code> directives in the parser implementation file. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025nonassoc-4"></a>Directive: <strong>%nonassoc</strong></dt>
            <dd>
                <p>Bison declaration to assign precedence and nonassociativity to token(s). See <a href="#Precedence-Decl">Operator Precedence</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025output-1"></a>Directive: <strong>%output</strong> <em>&quot;<var>file</var>&quot;</em></dt>
            <dd>
                <p>Bison declaration to set the name of the parser implementation file. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025param-2"></a>Directive: <strong>%param</strong> <em>{<var>argument-declaration</var>} &hellip;</em></dt>
            <dd>
                <p>Bison declaration to specify additional arguments that both
                    <code>yylex</code> and <code>yyparse</code> should accept. See <a href="#Parser-Function">The
Parser Function <code>yyparse</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025parse_002dparam-3"></a>Directive: <strong>%parse-param</strong> <em>{<var>argument-declaration</var>} &hellip;</em></dt>
            <dd>
                <p>Bison declaration to specify additional arguments that <code>yyparse</code> should accept. See <a href="#Parser-Function">The Parser Function <code>yyparse</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025prec-1"></a>Directive: <strong>%prec</strong></dt>
            <dd>
                <p>Bison declaration to assign a precedence to a specific rule. See <a href="#Contextual-Precedence">Context-Dependent Precedence</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025precedence-2"></a>Directive: <strong>%precedence</strong></dt>
            <dd>
                <p>Bison declaration to assign precedence to token(s), but no associativity See <a href="#Precedence-Decl">Operator Precedence</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025pure_002dparser-1"></a>Directive: <strong>%pure-parser</strong></dt>
            <dd>
                <p>Deprecated version of &lsquo;<samp>%define api.pure</samp>&rsquo; (see <a href="#g_t_0025define-Summary">api.pure</a>), for which Bison is more careful to warn about unreasonable usage.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025require-2"></a>Directive: <strong>%require</strong> <em>&quot;<var>version</var>&quot;</em></dt>
            <dd>
                <p>Require version <var>version</var> or higher of Bison. See <a href="#Require-Decl">Require a Version of Bison</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025right-2"></a>Directive: <strong>%right</strong></dt>
            <dd>
                <p>Bison declaration to assign precedence and right associativity to token(s). See <a href="#Precedence-Decl">Operator Precedence</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025skeleton-1"></a>Directive: <strong>%skeleton</strong></dt>
            <dd>
                <p>Specify the skeleton to use; usually for development. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025start-2"></a>Directive: <strong>%start</strong></dt>
            <dd>
                <p>Bison declaration to specify the start symbol. See <a href="#Start-Decl">The
Start-Symbol</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025token-3"></a>Directive: <strong>%token</strong></dt>
            <dd>
                <p>Bison declaration to declare token(s) without specifying precedence. See <a href="#Token-Decl">Token Type Names</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025token_002dtable-1"></a>Directive: <strong>%token-table</strong></dt>
            <dd>
                <p>Bison declaration to include a token name table in the parser implementation file. See <a href="#Decl-Summary">Decl Summary</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025type-3"></a>Directive: <strong>%type</strong></dt>
            <dd>
                <p>Bison declaration to declare nonterminals. See <a href="#Type-Decl">Nonterminal Symbols</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0024undefined"></a>Symbol: <strong>$undefined</strong></dt>
            <dd>
                <p>The predefined token onto which all undefined values returned by
                    <code>yylex</code> are mapped. It cannot be used in the grammar, rather, use
                    <code>error</code>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-_0025union-3"></a>Directive: <strong>%union</strong></dt>
            <dd>
                <p>Bison declaration to specify several possible data types for semantic values. See <a href="#Union-Decl">The Union Declaration</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYABORT-4"></a>Macro: <strong>YYABORT</strong></dt>
            <dd>
                <p>Macro to pretend that an unrecoverable syntax error has occurred, by making <code>yyparse</code> return 1 immediately. The error reporting function <code>yyerror</code> is not called. See <a href="#Parser-Function">The
Parser Function <code>yyparse</code></a>.
                </p>
                <p>For Java parsers, this functionality is invoked using <code>return YYABORT;</code> instead.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYACCEPT-4"></a>Macro: <strong>YYACCEPT</strong></dt>
            <dd>
                <p>Macro to pretend that a complete utterance of the language has been read, by making <code>yyparse</code> return 0 immediately. See <a href="#Parser-Function">The Parser Function <code>yyparse</code></a>.
                </p>
                <p>For Java parsers, this functionality is invoked using <code>return YYACCEPT;</code> instead.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYBACKUP-2"></a>Macro: <strong>YYBACKUP</strong></dt>
            <dd>
                <p>Macro to discard a value from the parser stack and fake a lookahead token. See <a href="#Action-Features">Special Features for Use in Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yychar-1"></a>Variable: <strong>yychar</strong></dt>
            <dd>
                <p>External integer variable that contains the integer value of the lookahead token. (In a pure parser, it is a local variable within
                    <code>yyparse</code>.) Error-recovery rule actions may examine this variable. See <a href="#Action-Features">Special Features for Use in Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyclearin-3"></a>Variable: <strong>yyclearin</strong></dt>
            <dd>
                <p>Macro used in error-recovery rule actions. It clears the previous lookahead token. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYDEBUG-1"></a>Macro: <strong>YYDEBUG</strong></dt>
            <dd>
                <p>Macro to define to equip the parser with tracing code. See <a href="#Tracing">Tracing Your Parser</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yydebug-1"></a>Variable: <strong>yydebug</strong></dt>
            <dd>
                <p>External integer variable set to zero by default. If <code>yydebug</code> is given a nonzero value, the parser will output information on input symbols and parser action. See <a href="#Tracing">Tracing Your Parser</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyerrok-2"></a>Macro: <strong>yyerrok</strong></dt>
            <dd>
                <p>Macro to cause parser to recover immediately to its normal mode after a syntax error. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYERROR-3"></a>Macro: <strong>YYERROR</strong></dt>
            <dd>
                <p>Cause an immediate syntax error. This statement initiates error recovery just as if the parser itself had detected an error; however, it does not call <code>yyerror</code>, and does not print any message. If you want to print an error
                    message, call <code>yyerror</code> explicitly before the &lsquo;<samp>YYERROR;</samp>&rsquo; statement. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
                <p>For Java parsers, this functionality is invoked using <code>return YYERROR;</code> instead.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyerror-4"></a>Function: <strong>yyerror</strong></dt>
            <dd>
                <p>User-supplied function to be called by <code>yyparse</code> on error. See <a href="#Error-Reporting">The Error Reporting Function <code>yyerror</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYERROR_005fVERBOSE"></a>Macro: <strong>YYERROR_VERBOSE</strong></dt>
            <dd>
                <p>An obsolete macro used in the <samp>yacc.c</samp> skeleton, that you define with <code>#define</code> in the prologue to request verbose, specific error message strings when <code>yyerror</code> is called. It doesn&rsquo;t matter what
                    definition you use for <code>YYERROR_VERBOSE</code>, just whether you define it. Using &lsquo;<samp>%define parse.error verbose</samp>&rsquo; is preferred (see <a href="#Error-Reporting">The Error Reporting Function <code>yyerror</code></a>).
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYFPRINTF-1"></a>Macro: <strong>YYFPRINTF</strong></dt>
            <dd>
                <p>Macro used to output run-time traces. See <a href="#Enabling-Traces">Enabling Traces</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYINITDEPTH"></a>Macro: <strong>YYINITDEPTH</strong></dt>
            <dd>
                <p>Macro for specifying the initial size of the parser stack. See <a href="#Memory-Management">Memory Management</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yylex-1"></a>Function: <strong>yylex</strong></dt>
            <dd>
                <p>User-supplied lexical analyzer function, called with no arguments to get the next token. See <a href="#Lexical">The Lexical Analyzer Function
<code>yylex</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yylloc-1"></a>Variable: <strong>yylloc</strong></dt>
            <dd>
                <p>External variable in which <code>yylex</code> should place the line and column numbers associated with a token. (In a pure parser, it is a local variable within <code>yyparse</code>, and its address is passed to
                    <code>yylex</code>.) You can ignore this variable if you don&rsquo;t use the &lsquo;<samp>@</samp>&rsquo; feature in the grammar actions. See <a href="#Token-Locations">Textual Locations of Tokens</a>. In semantic actions, it stores
                    the location of the lookahead token. See <a href="#Actions-and-Locations">Actions and Locations</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYLTYPE"></a>Type: <strong>YYLTYPE</strong></dt>
            <dd>
                <p>Data type of <code>yylloc</code>; by default, a structure with four members. See <a href="#Location-Type">Data Types of Locations</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yylval-1"></a>Variable: <strong>yylval</strong></dt>
            <dd>
                <p>External variable in which <code>yylex</code> should place the semantic value associated with a token. (In a pure parser, it is a local variable within <code>yyparse</code>, and its address is passed to
                    <code>yylex</code>.) See <a href="#Token-Values">Semantic Values of Tokens</a>. In semantic actions, it stores the semantic value of the lookahead token. See <a href="#Actions">Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYMAXDEPTH"></a>Macro: <strong>YYMAXDEPTH</strong></dt>
            <dd>
                <p>Macro for specifying the maximum size of the parser stack. See <a href="#Memory-Management">Memory Management</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yynerrs"></a>Variable: <strong>yynerrs</strong></dt>
            <dd>
                <p>Global variable which Bison increments each time it reports a syntax error. (In a pure parser, it is a local variable within <code>yyparse</code>. In a pure push parser, it is a member of <code>yypstate</code>.) See <a href="#Error-Reporting">The Error Reporting Function <code>yyerror</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yyparse-2"></a>Function: <strong>yyparse</strong></dt>
            <dd>
                <p>The parser function produced by Bison; call this function to start parsing. See <a href="#Parser-Function">The Parser Function <code>yyparse</code></a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYPRINT-3"></a>Macro: <strong>YYPRINT</strong></dt>
            <dd>
                <p>Macro used to output token semantic values. For <samp>yacc.c</samp> only. Obsoleted by <code>%printer</code>. See <a href="#The-YYPRINT-Macro">The <code>YYPRINT</code> Macro</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yypstate_005fdelete-2"></a>Function: <strong>yypstate_delete</strong></dt>
            <dd>
                <p>The function to delete a parser instance, produced by Bison in push mode; call this function to delete the memory associated with a parser. See <a href="#Parser-Delete-Function">The Parser Delete Function
<code>yypstate_delete</code></a>. (The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yypstate_005fnew-2"></a>Function: <strong>yypstate_new</strong></dt>
            <dd>
                <p>The function to create a parser instance, produced by Bison in push mode; call this function to create a new parser. See <a href="#Parser-Create-Function">The Parser Create Function
<code>yypstate_new</code></a>. (The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yypull_005fparse-2"></a>Function: <strong>yypull_parse</strong></dt>
            <dd>
                <p>The parser function produced by Bison in push mode; call this function to parse the rest of the input stream. See <a href="#Pull-Parser-Function">The Pull Parser Function
<code>yypull_parse</code></a>. (The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-yypush_005fparse-2"></a>Function: <strong>yypush_parse</strong></dt>
            <dd>
                <p>The parser function produced by Bison in push mode; call this function to parse a single token. See <a href="#Push-Parser-Function">The Push Parser Function
<code>yypush_parse</code></a>. (The current push parsing interface is experimental and may evolve. More user feedback will help to stabilize it.)
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYRECOVERING-2"></a>Macro: <strong>YYRECOVERING</strong></dt>
            <dd>
                <p>The expression <code>YYRECOVERING ()</code> yields 1 when the parser is recovering from a syntax error, and 0 otherwise. See <a href="#Action-Features">Special Features for Use in Actions</a>.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYSTACK_005fUSE_005fALLOCA"></a>Macro: <strong>YYSTACK_USE_ALLOCA</strong></dt>
            <dd>
                <p>Macro used to control the use of <code>alloca</code> when the deterministic parser in C needs to extend its stacks. If defined to 0, the parser will use <code>malloc</code> to extend its stacks. If defined to 1, the parser will use <code>alloca</code>.
                    Values other than 0 and 1 are reserved for future Bison extensions. If not defined,
                    <code>YYSTACK_USE_ALLOCA</code> defaults to 0.
                </p>
                <p>In the all-too-common case where your code may run on a host with a limited stack and with unreliable stack-overflow checking, you should set <code>YYMAXDEPTH</code> to a value that cannot possibly result in unchecked stack overflow on
                    any of your target hosts when
                    <code>alloca</code> is called. You can inspect the code that Bison generates in order to determine the proper numeric values. This will require some expertise in low-level implementation details.
                </p>
            </dd>
        </dl>

        <dl>
            <dt><a name="index-YYSTYPE"></a>Type: <strong>YYSTYPE</strong></dt>
            <dd>
                <p>Deprecated in favor of the <code>%define</code> variable <code>api.value.type</code>. Data type of semantic values; <code>int</code> by default. See <a href="#Value-Type">Data Types of Semantic Values</a>.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Glossary"></a>
        <div class="header">
            <p>
                Next: <a href="#Copying-This-Manual" accesskey="n" rel="next">Copying This Manual</a>, Previous: <a href="#Table-of-Symbols" accesskey="p" rel="prev">Table of Symbols</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Glossary-1"></a>
        <h2 class="appendix">Appendix B Glossary</h2>
        <a name="index-glossary"></a>

        <dl compact="compact">
            <dt>Accepting state</dt>
            <dd>
                <p>A state whose only action is the accept action. The accepting state is thus a consistent state. See <a href="#Understanding">Understanding Your Parser</a>.
                </p>
            </dd>
            <dt>Backus-Naur Form (BNF; also called &ldquo;Backus Normal Form&rdquo;)</dt>
            <dd>
                <p>Formal method of specifying context-free grammars originally proposed by John Backus, and slightly improved by Peter Naur in his 1960-01-02 committee document contributing to what became the Algol 60 report. See <a href="#Language-and-Grammar">Languages and Context-Free Grammars</a>.
                </p>
            </dd>
            <dt>Consistent state</dt>
            <dd>
                <p>A state containing only one possible action. See <a href="#Default-Reductions">Default Reductions</a>.
                </p>
            </dd>
            <dt>Context-free grammars</dt>
            <dd>
                <p>Grammars specified as rules that can be applied regardless of context. Thus, if there is a rule which says that an integer can be used as an expression, integers are allowed <em>anywhere</em> an expression is permitted. See <a href="#Language-and-Grammar">Languages and Context-Free
Grammars</a>.
                </p>
            </dd>
            <dt>Default reduction</dt>
            <dd>
                <p>The reduction that a parser should perform if the current parser state contains no other action for the lookahead token. In permitted parser states, Bison declares the reduction with the largest lookahead set to be the default reduction
                    and removes that lookahead set. See <a href="#Default-Reductions">Default Reductions</a>.
                </p>
            </dd>
            <dt>Defaulted state</dt>
            <dd>
                <p>A consistent state with a default reduction. See <a href="#Default-Reductions">Default Reductions</a>.
                </p>
            </dd>
            <dt>Dynamic allocation</dt>
            <dd>
                <p>Allocation of memory that occurs during execution, rather than at compile time or on entry to a function.
                </p>
            </dd>
            <dt>Empty string</dt>
            <dd>
                <p>Analogous to the empty set in set theory, the empty string is a character string of length zero.
                </p>
            </dd>
            <dt>Finite-state stack machine</dt>
            <dd>
                <p>A &ldquo;machine&rdquo; that has discrete states in which it is said to exist at each instant in time. As input to the machine is processed, the machine moves from state to state as specified by the logic of the machine. In the case of
                    the parser, the input is the language being parsed, and the states correspond to various stages in the grammar rules. See <a href="#Algorithm">The Bison Parser Algorithm</a>.
                </p>
            </dd>
            <dt>Generalized LR (GLR)</dt>
            <dd>
                <p>A parsing algorithm that can handle all context-free grammars, including those that are not LR(1). It resolves situations that Bison&rsquo;s deterministic parsing algorithm cannot by effectively splitting off multiple parsers, trying all
                    possible parsers, and discarding those that fail in the light of additional right context. See <a href="#Generalized-LR-Parsing">Generalized
LR Parsing</a>.
                </p>
            </dd>
            <dt>Grouping</dt>
            <dd>
                <p>A language construct that is (in general) grammatically divisible; for example, &lsquo;expression&rsquo; or &lsquo;declaration&rsquo; in C. See <a href="#Language-and-Grammar">Languages and Context-Free Grammars</a>.
                </p>
            </dd>
            <dt>IELR(1) (Inadequacy Elimination LR(1))</dt>
            <dd>
                <p>A minimal LR(1) parser table construction algorithm. That is, given any context-free grammar, IELR(1) generates parser tables with the full language-recognition power of canonical LR(1) but with nearly the same number of parser states
                    as LALR(1). This reduction in parser states is often an order of magnitude. More importantly, because canonical LR(1)&rsquo;s extra parser states may contain duplicate conflicts in the case of non-LR(1) grammars, the number of conflicts
                    for IELR(1) is often an order of magnitude less as well. This can significantly reduce the complexity of developing a grammar. See <a href="#LR-Table-Construction">LR Table Construction</a>.
                </p>
            </dd>
            <dt>Infix operator</dt>
            <dd>
                <p>An arithmetic operator that is placed between the operands on which it performs some operation.
                </p>
            </dd>
            <dt>Input stream</dt>
            <dd>
                <p>A continuous flow of data between devices or programs.
                </p>
            </dd>
            <dt>LAC (Lookahead Correction)</dt>
            <dd>
                <p>A parsing mechanism that fixes the problem of delayed syntax error detection, which is caused by LR state merging, default reductions, and the use of <code>%nonassoc</code>. Delayed syntax error detection results in unexpected semantic
                    actions, initiation of error recovery in the wrong syntactic context, and an incorrect list of expected tokens in a verbose syntax error message. See <a href="#LAC">LAC</a>.
                </p>
            </dd>
            <dt>Language construct</dt>
            <dd>
                <p>One of the typical usage schemas of the language. For example, one of the constructs of the C language is the <code>if</code> statement. See <a href="#Language-and-Grammar">Languages and Context-Free Grammars</a>.
                </p>
            </dd>
            <dt>Left associativity</dt>
            <dd>
                <p>Operators having left associativity are analyzed from left to right: &lsquo;
                    <samp>a+b+c</samp>&rsquo; first computes &lsquo;<samp>a+b</samp>&rsquo; and then combines with &lsquo;
                    <samp>c</samp>&rsquo;. See <a href="#Precedence">Operator Precedence</a>.
                </p>
            </dd>
            <dt>Left recursion</dt>
            <dd>
                <p>A rule whose result symbol is also its first component symbol; for example, &lsquo;<samp>expseq1 : expseq1 ',' exp;</samp>&rsquo;. See <a href="#Recursion">Recursive
Rules</a>.
                </p>
            </dd>
            <dt>Left-to-right parsing</dt>
            <dd>
                <p>Parsing a sentence of a language by analyzing it token by token from left to right. See <a href="#Algorithm">The Bison Parser Algorithm</a>.
                </p>
            </dd>
            <dt>Lexical analyzer (scanner)</dt>
            <dd>
                <p>A function that reads an input stream and returns tokens one by one. See <a href="#Lexical">The Lexical Analyzer Function <code>yylex</code></a>.
                </p>
            </dd>
            <dt>Lexical tie-in</dt>
            <dd>
                <p>A flag, set by actions in the grammar rules, which alters the way tokens are parsed. See <a href="#Lexical-Tie_002dins">Lexical Tie-ins</a>.
                </p>
            </dd>
            <dt>Literal string token</dt>
            <dd>
                <p>A token which consists of two or more fixed characters. See <a href="#Symbols">Symbols</a>.
                </p>
            </dd>
            <dt>Lookahead token</dt>
            <dd>
                <p>A token already read but not yet shifted. See <a href="#Lookahead">Lookahead
Tokens</a>.
                </p>
            </dd>
            <dt>LALR(1)</dt>
            <dd>
                <p>The class of context-free grammars that Bison (like most other parser generators) can handle by default; a subset of LR(1). See <a href="#Mysterious-Conflicts">Mysterious Conflicts</a>.
                </p>
            </dd>
            <dt>LR(1)</dt>
            <dd>
                <p>The class of context-free grammars in which at most one token of lookahead is needed to disambiguate the parsing of any piece of input.
                </p>
            </dd>
            <dt>Nonterminal symbol</dt>
            <dd>
                <p>A grammar symbol standing for a grammatical construct that can be expressed through rules in terms of smaller constructs; in other words, a construct that is not a token. See <a href="#Symbols">Symbols</a>.
                </p>
            </dd>
            <dt>Parser</dt>
            <dd>
                <p>A function that recognizes valid sentences of a language by analyzing the syntax structure of a set of tokens passed to it from a lexical analyzer.
                </p>
            </dd>
            <dt>Postfix operator</dt>
            <dd>
                <p>An arithmetic operator that is placed after the operands upon which it performs some operation.
                </p>
            </dd>
            <dt>Reduction</dt>
            <dd>
                <p>Replacing a string of nonterminals and/or terminals with a single nonterminal, according to a grammar rule. See <a href="#Algorithm">The Bison
Parser Algorithm</a>.
                </p>
            </dd>
            <dt>Reentrant</dt>
            <dd>
                <p>A reentrant subprogram is a subprogram which can be in invoked any number of times in parallel, without interference between the various invocations. See <a href="#Pure-Decl">A Pure (Reentrant) Parser</a>.
                </p>
            </dd>
            <dt>Reverse polish notation</dt>
            <dd>
                <p>A language in which all operators are postfix operators.
                </p>
            </dd>
            <dt>Right recursion</dt>
            <dd>
                <p>A rule whose result symbol is also its last component symbol; for example, &lsquo;<samp>expseq1: exp ',' expseq1;</samp>&rsquo;. See <a href="#Recursion">Recursive
Rules</a>.
                </p>
            </dd>
            <dt>Semantics</dt>
            <dd>
                <p>In computer languages, the semantics are specified by the actions taken for each instance of the language, i.e., the meaning of each statement. See <a href="#Semantics">Defining Language Semantics</a>.
                </p>
            </dd>
            <dt>Shift</dt>
            <dd>
                <p>A parser is said to shift when it makes the choice of analyzing further input from the stream rather than reducing immediately some already-recognized rule. See <a href="#Algorithm">The Bison Parser Algorithm</a>.
                </p>
            </dd>
            <dt>Single-character literal</dt>
            <dd>
                <p>A single character that is recognized and interpreted as is. See <a href="#Grammar-in-Bison">From Formal Rules to Bison Input</a>.
                </p>
            </dd>
            <dt>Start symbol</dt>
            <dd>
                <p>The nonterminal symbol that stands for a complete valid utterance in the language being parsed. The start symbol is usually listed as the first nonterminal symbol in a language specification. See <a href="#Start-Decl">The Start-Symbol</a>.
                </p>
            </dd>
            <dt>Symbol table</dt>
            <dd>
                <p>A data structure where symbol names and associated data are stored during parsing to allow for recognition and use of existing information in repeated uses of a symbol. See <a href="#Multi_002dfunction-Calc">Multi-function Calc</a>.
                </p>
            </dd>
            <dt>Syntax error</dt>
            <dd>
                <p>An error encountered during parsing of an input stream due to invalid syntax. See <a href="#Error-Recovery">Error Recovery</a>.
                </p>
            </dd>
            <dt>Token</dt>
            <dd>
                <p>A basic, grammatically indivisible unit of a language. The symbol that describes a token in the grammar is a terminal symbol. The input of the Bison parser is a stream of tokens which comes from the lexical analyzer. See <a href="#Symbols">Symbols</a>.
                </p>
            </dd>
            <dt>Terminal symbol</dt>
            <dd>
                <p>A grammar symbol that has no rules in the grammar and therefore is grammatically indivisible. The piece of text it represents is a token. See <a href="#Language-and-Grammar">Languages and Context-Free Grammars</a>.
                </p>
            </dd>
            <dt>Unreachable state</dt>
            <dd>
                <p>A parser state to which there does not exist a sequence of transitions from the parser&rsquo;s start state. A state can become unreachable during conflict resolution. See <a href="#Unreachable-States">Unreachable States</a>.
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Copying-This-Manual"></a>
        <div class="header">
            <p>
                Next: <a href="#Bibliography" accesskey="n" rel="next">Bibliography</a>, Previous: <a href="#Glossary" accesskey="p" rel="prev">Glossary</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents"
                    rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Copying-This-Manual-1"></a>
        <h2 class="appendix">Appendix C Copying This Manual</h2>
        <div align="center">Version 1.3, 3 November 2008
        </div>

        <div class="display">
            <pre class="display">Copyright &copy; 2000, 2001, 2002, 2007, 2008 Free Software Foundation, Inc.
<a href="http://fsf.org/">http://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies
of this license document, but changing it is not allowed.
</pre></div>

        <ol>
            <li> PREAMBLE

                <p>The purpose of this License is to make a manual, textbook, or other functional and useful document <em>free</em> in the sense of freedom: to assure everyone the effective freedom to copy and redistribute it, with or without modifying it,
                    either commercially or noncommercially. Secondarily, this License preserves for the author and publisher a way to get credit for their work, while not being considered responsible for modifications made by others.
                </p>
                <p>This License is a kind of &ldquo;copyleft&rdquo;, which means that derivative works of the document must themselves be free in the same sense. It complements the GNU General Public License, which is a copyleft license designed for free
                    software.
                </p>
                <p>We have designed this License in order to use it for manuals for free software, because free software needs free documentation: a free program should come with manuals providing the same freedoms that the software does. But this License
                    is not limited to software manuals; it can be used for any textual work, regardless of subject matter or whether it is published as a printed book. We recommend this License principally for works whose purpose is instruction or reference.
                </p>
            </li>
            <li> APPLICABILITY AND DEFINITIONS

                <p>This License applies to any manual or other work, in any medium, that contains a notice placed by the copyright holder saying it can be distributed under the terms of this License. Such a notice grants a world-wide, royalty-free license,
                    unlimited in duration, to use that work under the conditions stated herein. The &ldquo;Document&rdquo;, below, refers to any such manual or work. Any member of the public is a licensee, and is addressed as &ldquo;you&rdquo;. You accept
                    the license if you copy, modify or distribute the work in a way requiring permission under copyright law.
                </p>
                <p>A &ldquo;Modified Version&rdquo; of the Document means any work containing the Document or a portion of it, either copied verbatim, or with modifications and/or translated into another language.
                </p>
                <p>A &ldquo;Secondary Section&rdquo; is a named appendix or a front-matter section of the Document that deals exclusively with the relationship of the publishers or authors of the Document to the Document&rsquo;s overall subject (or to related
                    matters) and contains nothing that could fall directly within that overall subject. (Thus, if the Document is in part a textbook of mathematics, a Secondary Section may not explain any mathematics.) The relationship could be a matter
                    of historical connection with the subject or with related matters, or of legal, commercial, philosophical, ethical or political position regarding them.
                </p>
                <p>The &ldquo;Invariant Sections&rdquo; are certain Secondary Sections whose titles are designated, as being those of Invariant Sections, in the notice that says that the Document is released under this License. If a section does not fit
                    the above definition of Secondary then it is not allowed to be designated as Invariant. The Document may contain zero Invariant Sections. If the Document does not identify any Invariant Sections then there are none.
                </p>
                <p>The &ldquo;Cover Texts&rdquo; are certain short passages of text that are listed, as Front-Cover Texts or Back-Cover Texts, in the notice that says that the Document is released under this License. A Front-Cover Text may be at most 5 words,
                    and a Back-Cover Text may be at most 25 words.
                </p>
                <p>A &ldquo;Transparent&rdquo; copy of the Document means a machine-readable copy, represented in a format whose specification is available to the general public, that is suitable for revising the document straightforwardly with generic text
                    editors or (for images composed of pixels) generic paint programs or (for drawings) some widely available drawing editor, and that is suitable for input to text formatters or for automatic translation to a variety of formats suitable
                    for input to text formatters. A copy made in an otherwise Transparent file format whose markup, or absence of markup, has been arranged to thwart or discourage subsequent modification by readers is not Transparent. An image format
                    is not Transparent if used for any substantial amount of text. A copy that is not &ldquo;Transparent&rdquo; is called &ldquo;Opaque&rdquo;.
                </p>
                <p>Examples of suitable formats for Transparent copies include plain ASCII without markup, Texinfo input format, LaTeX input format, SGML or XML using a publicly available DTD, and standard-conforming simple HTML, PostScript or PDF designed
                    for human modification. Examples of transparent image formats include PNG, XCF and JPG. Opaque formats include proprietary formats that can be read and edited only by proprietary word processors, SGML or XML for which the DTD and/or
                    processing tools are not generally available, and the machine-generated HTML, PostScript or PDF produced by some word processors for output purposes only.
                </p>
                <p>The &ldquo;Title Page&rdquo; means, for a printed book, the title page itself, plus such following pages as are needed to hold, legibly, the material this License requires to appear in the title page. For works in formats which do not
                    have any title page as such, &ldquo;Title Page&rdquo; means the text near the most prominent appearance of the work&rsquo;s title, preceding the beginning of the body of the text.
                </p>
                <p>The &ldquo;publisher&rdquo; means any person or entity that distributes copies of the Document to the public.
                </p>
                <p>A section &ldquo;Entitled XYZ&rdquo; means a named subunit of the Document whose title either is precisely XYZ or contains XYZ in parentheses following text that translates XYZ in another language. (Here XYZ stands for a specific section
                    name mentioned below, such as &ldquo;Acknowledgements&rdquo;, &ldquo;Dedications&rdquo;, &ldquo;Endorsements&rdquo;, or &ldquo;History&rdquo;.) To &ldquo;Preserve the Title&rdquo; of such a section when you modify the Document means
                    that it remains a section &ldquo;Entitled XYZ&rdquo; according to this definition.
                </p>
                <p>The Document may include Warranty Disclaimers next to the notice which states that this License applies to the Document. These Warranty Disclaimers are considered to be included by reference in this License, but only as regards disclaiming
                    warranties: any other implication that these Warranty Disclaimers may have is void and has no effect on the meaning of this License.
                </p>
            </li>
            <li> VERBATIM COPYING

                <p>You may copy and distribute the Document in any medium, either commercially or noncommercially, provided that this License, the copyright notices, and the license notice saying this License applies to the Document are reproduced in all
                    copies, and that you add no other conditions whatsoever to those of this License. You may not use technical measures to obstruct or control the reading or further copying of the copies you make or distribute. However, you may accept
                    compensation in exchange for copies. If you distribute a large enough number of copies you must also follow the conditions in section 3.
                </p>
                <p>You may also lend copies, under the same conditions stated above, and you may publicly display copies.
                </p>
            </li>
            <li> COPYING IN QUANTITY

                <p>If you publish printed copies (or copies in media that commonly have printed covers) of the Document, numbering more than 100, and the Document&rsquo;s license notice requires Cover Texts, you must enclose the copies in covers that carry,
                    clearly and legibly, all these Cover Texts: Front-Cover Texts on the front cover, and Back-Cover Texts on the back cover. Both covers must also clearly and legibly identify you as the publisher of these copies. The front cover must
                    present the full title with all words of the title equally prominent and visible. You may add other material on the covers in addition. Copying with changes limited to the covers, as long as they preserve the title of the Document
                    and satisfy these conditions, can be treated as verbatim copying in other respects.
                </p>
                <p>If the required texts for either cover are too voluminous to fit legibly, you should put the first ones listed (as many as fit reasonably) on the actual cover, and continue the rest onto adjacent pages.
                </p>
                <p>If you publish or distribute Opaque copies of the Document numbering more than 100, you must either include a machine-readable Transparent copy along with each Opaque copy, or state in or with each Opaque copy a computer-network location
                    from which the general network-using public has access to download using public-standard network protocols a complete Transparent copy of the Document, free of added material. If you use the latter option, you must take reasonably
                    prudent steps, when you begin distribution of Opaque copies in quantity, to ensure that this Transparent copy will remain thus accessible at the stated location until at least one year after the last time you distribute an Opaque copy
                    (directly or through your agents or retailers) of that edition to the public.
                </p>
                <p>It is requested, but not required, that you contact the authors of the Document well before redistributing any large number of copies, to give them a chance to provide you with an updated version of the Document.
                </p>
            </li>
            <li> MODIFICATIONS

                <p>You may copy and distribute a Modified Version of the Document under the conditions of sections 2 and 3 above, provided that you release the Modified Version under precisely this License, with the Modified Version filling the role of the
                    Document, thus licensing distribution and modification of the Modified Version to whoever possesses a copy of it. In addition, you must do these things in the Modified Version:
                </p>
                <ol>
                    <li> Use in the Title Page (and on the covers, if any) a title distinct from that of the Document, and from those of previous versions (which should, if there were any, be listed in the History section of the Document). You may use the
                        same title as a previous version if the original publisher of that version gives permission.

                    </li>
                    <li> List on the Title Page, as authors, one or more persons or entities responsible for authorship of the modifications in the Modified Version, together with at least five of the principal authors of the Document (all of its principal
                        authors, if it has fewer than five), unless they release you from this requirement.

                    </li>
                    <li> State on the Title page the name of the publisher of the Modified Version, as the publisher.

                    </li>
                    <li> Preserve all the copyright notices of the Document.

                    </li>
                    <li> Add an appropriate copyright notice for your modifications adjacent to the other copyright notices.

                    </li>
                    <li> Include, immediately after the copyright notices, a license notice giving the public permission to use the Modified Version under the terms of this License, in the form shown in the Addendum below.

                    </li>
                    <li> Preserve in that license notice the full lists of Invariant Sections and required Cover Texts given in the Document&rsquo;s license notice.

                    </li>
                    <li> Include an unaltered copy of this License.

                    </li>
                    <li> Preserve the section Entitled &ldquo;History&rdquo;, Preserve its Title, and add to it an item stating at least the title, year, new authors, and publisher of the Modified Version as given on the Title Page. If there is no section
                        Entitled &ldquo;History&rdquo; in the Document, create one stating the title, year, authors, and publisher of the Document as given on its Title Page, then add an item describing the Modified Version as stated in the previous sentence.

                    </li>
                    <li> Preserve the network location, if any, given in the Document for public access to a Transparent copy of the Document, and likewise the network locations given in the Document for previous versions it was based on. These may be placed
                        in the &ldquo;History&rdquo; section. You may omit a network location for a work that was published at least four years before the Document itself, or if the original publisher of the version it refers to gives permission.

                    </li>
                    <li> For any section Entitled &ldquo;Acknowledgements&rdquo; or &ldquo;Dedications&rdquo;, Preserve the Title of the section, and preserve in the section all the substance and tone of each of the contributor acknowledgements and/or dedications
                        given therein.

                    </li>
                    <li> Preserve all the Invariant Sections of the Document, unaltered in their text and in their titles. Section numbers or the equivalent are not considered part of the section titles.

                    </li>
                    <li> Delete any section Entitled &ldquo;Endorsements&rdquo;. Such a section may not be included in the Modified Version.

                    </li>
                    <li> Do not retitle any existing section to be Entitled &ldquo;Endorsements&rdquo; or to conflict in title with any Invariant Section.

                    </li>
                    <li> Preserve any Warranty Disclaimers.
                    </li>
                </ol>

                <p>If the Modified Version includes new front-matter sections or appendices that qualify as Secondary Sections and contain no material copied from the Document, you may at your option designate some or all of these sections as invariant.
                    To do this, add their titles to the list of Invariant Sections in the Modified Version&rsquo;s license notice. These titles must be distinct from any other section titles.
                </p>
                <p>You may add a section Entitled &ldquo;Endorsements&rdquo;, provided it contains nothing but endorsements of your Modified Version by various parties&mdash;for example, statements of peer review or that the text has been approved by an
                    organization as the authoritative definition of a standard.
                </p>
                <p>You may add a passage of up to five words as a Front-Cover Text, and a passage of up to 25 words as a Back-Cover Text, to the end of the list of Cover Texts in the Modified Version. Only one passage of Front-Cover Text and one of Back-Cover
                    Text may be added by (or through arrangements made by) any one entity. If the Document already includes a cover text for the same cover, previously added by you or by arrangement made by the same entity you are acting on behalf of,
                    you may not add another; but you may replace the old one, on explicit permission from the previous publisher that added the old one.
                </p>
                <p>The author(s) and publisher(s) of the Document do not by this License give permission to use their names for publicity for or to assert or imply endorsement of any Modified Version.
                </p>
            </li>
            <li> COMBINING DOCUMENTS

                <p>You may combine the Document with other documents released under this License, under the terms defined in section 4 above for modified versions, provided that you include in the combination all of the Invariant Sections of all of the original
                    documents, unmodified, and list them all as Invariant Sections of your combined work in its license notice, and that you preserve all their Warranty Disclaimers.
                </p>
                <p>The combined work need only contain one copy of this License, and multiple identical Invariant Sections may be replaced with a single copy. If there are multiple Invariant Sections with the same name but different contents, make the title
                    of each such section unique by adding at the end of it, in parentheses, the name of the original author or publisher of that section if known, or else a unique number. Make the same adjustment to the section titles in the list of Invariant
                    Sections in the license notice of the combined work.
                </p>
                <p>In the combination, you must combine any sections Entitled &ldquo;History&rdquo; in the various original documents, forming one section Entitled &ldquo;History&rdquo;; likewise combine any sections Entitled &ldquo;Acknowledgements&rdquo;,
                    and any sections Entitled &ldquo;Dedications&rdquo;. You must delete all sections Entitled &ldquo;Endorsements.&rdquo;
                </p>
            </li>
            <li> COLLECTIONS OF DOCUMENTS

                <p>You may make a collection consisting of the Document and other documents released under this License, and replace the individual copies of this License in the various documents with a single copy that is included in the collection, provided
                    that you follow the rules of this License for verbatim copying of each of the documents in all other respects.
                </p>
                <p>You may extract a single document from such a collection, and distribute it individually under this License, provided you insert a copy of this License into the extracted document, and follow this License in all other respects regarding
                    verbatim copying of that document.
                </p>
            </li>
            <li> AGGREGATION WITH INDEPENDENT WORKS

                <p>A compilation of the Document or its derivatives with other separate and independent documents or works, in or on a volume of a storage or distribution medium, is called an &ldquo;aggregate&rdquo; if the copyright resulting from the compilation
                    is not used to limit the legal rights of the compilation&rsquo;s users beyond what the individual works permit. When the Document is included in an aggregate, this License does not apply to the other works in the aggregate which are
                    not themselves derivative works of the Document.
                </p>
                <p>If the Cover Text requirement of section 3 is applicable to these copies of the Document, then if the Document is less than one half of the entire aggregate, the Document&rsquo;s Cover Texts may be placed on covers that bracket the Document
                    within the aggregate, or the electronic equivalent of covers if the Document is in electronic form. Otherwise they must appear on printed covers that bracket the whole aggregate.
                </p>
            </li>
            <li> TRANSLATION

                <p>Translation is considered a kind of modification, so you may distribute translations of the Document under the terms of section 4. Replacing Invariant Sections with translations requires special permission from their copyright holders,
                    but you may include translations of some or all Invariant Sections in addition to the original versions of these Invariant Sections. You may include a translation of this License, and all the license notices in the Document, and any
                    Warranty Disclaimers, provided that you also include the original English version of this License and the original versions of those notices and disclaimers. In case of a disagreement between the translation and the original version
                    of this License or a notice or disclaimer, the original version will prevail.
                </p>
                <p>If a section in the Document is Entitled &ldquo;Acknowledgements&rdquo;, &ldquo;Dedications&rdquo;, or &ldquo;History&rdquo;, the requirement (section 4) to Preserve its Title (section 1) will typically require changing the actual title.
                </p>
            </li>
            <li> TERMINATION

                <p>You may not copy, modify, sublicense, or distribute the Document except as expressly provided under this License. Any attempt otherwise to copy, modify, sublicense, or distribute it is void, and will automatically terminate your rights
                    under this License.
                </p>
                <p>However, if you cease all violation of this License, then your license from a particular copyright holder is reinstated (a) provisionally, unless and until the copyright holder explicitly and finally terminates your license, and (b) permanently,
                    if the copyright holder fails to notify you of the violation by some reasonable means prior to 60 days after the cessation.
                </p>
                <p>Moreover, your license from a particular copyright holder is reinstated permanently if the copyright holder notifies you of the violation by some reasonable means, this is the first time you have received notice of violation of this License
                    (for any work) from that copyright holder, and you cure the violation prior to 30 days after your receipt of the notice.
                </p>
                <p>Termination of your rights under this section does not terminate the licenses of parties who have received copies or rights from you under this License. If your rights have been terminated and not permanently reinstated, receipt of a copy
                    of some or all of the same material does not give you any rights to use it.
                </p>
            </li>
            <li> FUTURE REVISIONS OF THIS LICENSE

                <p>The Free Software Foundation may publish new, revised versions of the GNU Free Documentation License from time to time. Such new versions will be similar in spirit to the present version, but may differ in detail to address new problems
                    or concerns. See
                    <a href="http://www.gnu.org/copyleft/">http://www.gnu.org/copyleft/</a>.
                </p>
                <p>Each version of the License is given a distinguishing version number. If the Document specifies that a particular numbered version of this License &ldquo;or any later version&rdquo; applies to it, you have the option of following the terms
                    and conditions either of that specified version or of any later version that has been published (not as a draft) by the Free Software Foundation. If the Document does not specify a version number of this License, you may choose any
                    version ever published (not as a draft) by the Free Software Foundation. If the Document specifies that a proxy can decide which future versions of this License can be used, that proxy&rsquo;s public statement of acceptance of a version
                    permanently authorizes you to choose that version for the Document.
                </p>
            </li>
            <li> RELICENSING

                <p>&ldquo;Massive Multiauthor Collaboration Site&rdquo; (or &ldquo;MMC Site&rdquo;) means any World Wide Web server that publishes copyrightable works and also provides prominent facilities for anybody to edit those works. A public wiki that
                    anybody can edit is an example of such a server. A &ldquo;Massive Multiauthor Collaboration&rdquo; (or &ldquo;MMC&rdquo;) contained in the site means any set of copyrightable works thus published on the MMC site.
                </p>
                <p>&ldquo;CC-BY-SA&rdquo; means the Creative Commons Attribution-Share Alike 3.0 license published by Creative Commons Corporation, a not-for-profit corporation with a principal place of business in San Francisco, California, as well as future
                    copyleft versions of that license published by that same organization.
                </p>
                <p>&ldquo;Incorporate&rdquo; means to publish or republish a Document, in whole or in part, as part of another Document.
                </p>
                <p>An MMC is &ldquo;eligible for relicensing&rdquo; if it is licensed under this License, and if all works that were first published under this License somewhere other than this MMC, and subsequently incorporated in whole or in part into
                    the MMC, (1) had no cover texts or invariant sections, and (2) were thus incorporated prior to November 1, 2008.
                </p>
                <p>The operator of an MMC Site may republish an MMC contained in the site under CC-BY-SA on the same site at any time before August 1, 2009, provided the MMC is eligible for relicensing.
                </p>
            </li>
        </ol>

        <a name="ADDENDUM_003a-How-to-use-this-License-for-your-documents"></a>
        <h3 class="heading">ADDENDUM: How to use this License for your documents</h3>

        <p>To use this License in a document you have written, include a copy of the License in the document and put the following copyright and license notices just after the title page:
        </p>
        <div class="smallexample">
            <pre class="smallexample">  Copyright (C)  <var>year</var>  <var>your name</var>.
  Permission is granted to copy, distribute and/or modify this document
  under the terms of the GNU Free Documentation License, Version 1.3
  or any later version published by the Free Software Foundation;
  with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
  Texts.  A copy of the license is included in the section entitled ``GNU
  Free Documentation License''.
</pre></div>

        <p>If you have Invariant Sections, Front-Cover Texts and Back-Cover Texts, replace the &ldquo;with&hellip;Texts.&rdquo; line with this:
        </p>
        <div class="smallexample">
            <pre class="smallexample">    with the Invariant Sections being <var>list their titles</var>, with
    the Front-Cover Texts being <var>list</var>, and with the Back-Cover Texts
    being <var>list</var>.
</pre></div>

        <p>If you have Invariant Sections without Cover Texts, or some other combination of the three, merge those two alternatives to suit the situation.
        </p>
        <p>If your document contains nontrivial examples of program code, we recommend releasing these examples in parallel under your choice of free software license, such as the GNU General Public License, to permit their use in free software.
        </p>

        <hr>
        <a name="Bibliography"></a>
        <div class="header">
            <p>
                Next: <a href="#Index-of-Terms" accesskey="n" rel="next">Index of Terms</a>, Previous: <a href="#Copying-This-Manual" accesskey="p" rel="prev">Copying This Manual</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents"
                    title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms" title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Bibliography-1"></a>
        <h2 class="unnumbered">Bibliography</h2>

        <dl compact="compact">
            <dt>[Denny 2008]</dt>
            <dd>
                <p>Joel E. Denny and Brian A. Malloy, IELR(1): Practical LR(1) Parser Tables for Non-LR(1) Grammars with Conflict Resolution, in <cite>Proceedings of the
2008 ACM Symposium on Applied Computing</cite> (SAC&rsquo;08), ACM, New York, NY, USA, pp. 240&ndash;245. <a href="http://dx.doi.org/10.1145/1363686.1363747">http://dx.doi.org/10.1145/1363686.1363747</a>
                </p>
            </dd>
            <dt>[Denny 2010 May]</dt>
            <dd>
                <p>Joel E. Denny, PSLR(1): Pseudo-Scannerless Minimal LR(1) for the Deterministic Parsing of Composite Languages, Ph.D. Dissertation, Clemson University, Clemson, SC, USA (May 2010).
                    <a href="http://proquest.umi.com/pqdlink?did=2041473591&amp;Fmt=7&amp;clientId=79356&amp;RQT=309&amp;VName=PQD">http://proquest.umi.com/pqdlink?did=2041473591&amp;Fmt=7&amp;clientId=79356&amp;RQT=309&amp;VName=PQD</a>
                </p>
            </dd>
            <dt>[Denny 2010 November]</dt>
            <dd>
                <p>Joel E. Denny and Brian A. Malloy, The IELR(1) Algorithm for Generating Minimal LR(1) Parser Tables for Non-LR(1) Grammars with Conflict Resolution, in <cite>Science of Computer Programming</cite>, Vol. 75, Issue 11 (November 2010), pp.
                    943&ndash;979.
                    <a href="http://dx.doi.org/10.1016/j.scico.2009.08.001">http://dx.doi.org/10.1016/j.scico.2009.08.001</a>
                </p>
            </dd>
            <dt>[DeRemer 1982]</dt>
            <dd>
                <p>Frank DeRemer and Thomas Pennello, Efficient Computation of LALR(1) Look-Ahead Sets, in <cite>ACM Transactions on Programming Languages and
Systems</cite>, Vol. 4, No. 4 (October 1982), pp. 615&ndash;649. <a href="http://dx.doi.org/10.1145/69622.357187">http://dx.doi.org/10.1145/69622.357187</a>
                </p>
            </dd>
            <dt>[Knuth 1965]</dt>
            <dd>
                <p>Donald E. Knuth, On the Translation of Languages from Left to Right, in
                    <cite>Information and Control</cite>, Vol. 8, Issue 6 (December 1965), pp. 607&ndash;639. <a href="http://dx.doi.org/10.1016/S0019-9958(65)90426-2">http://dx.doi.org/10.1016/S0019-9958(65)90426-2</a>
                </p>
            </dd>
            <dt>[Scott 2000]</dt>
            <dd>
                <p>Elizabeth Scott, Adrian Johnstone, and Shamsa Sadaf Hussain,
                    <cite>Tomita-Style Generalised LR Parsers</cite>, Royal Holloway, University of London, Department of Computer Science, TR-00-12 (December 2000).
                    <a href="http://www.cs.rhul.ac.uk/research/languages/publications/tomita_style_1.ps">http://www.cs.rhul.ac.uk/research/languages/publications/tomita_style_1.ps</a>
                </p>
            </dd>
        </dl>

        <hr>
        <a name="Index-of-Terms"></a>
        <div class="header">
            <p>
                Previous: <a href="#Bibliography" accesskey="p" rel="prev">Bibliography</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index-of-Terms"
                    title="Index" rel="index">Index</a>]</p>
        </div>
        <a name="Index-of-Terms-1"></a>
        <h2 class="unnumbered">Index of Terms</h2>

        <table>
            <tr>
                <th valign="top">Jump to: &nbsp; </th>
                <td><a class="summary-letter" href="#Index-of-Terms_cp_symbol-1"><b>$</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-2"><b>%</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-3"><b>/</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-4"><b>:</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-5"><b>;</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-6"><b>&lt;</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-7"><b>@</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-8"><b>|</b></a> &nbsp;
                    <br>
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-A"><b>A</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-B"><b>B</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-C"><b>C</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-D"><b>D</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-E"><b>E</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-F"><b>F</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-G"><b>G</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-H"><b>H</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-I"><b>I</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-K"><b>K</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-L"><b>L</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-M"><b>M</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-N"><b>N</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-O"><b>O</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-P"><b>P</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-Q"><b>Q</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-R"><b>R</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-S"><b>S</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-T"><b>T</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-U"><b>U</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-V"><b>V</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-W"><b>W</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-X"><b>X</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-Y"><b>Y</b></a> &nbsp;
                </td>
            </tr>
        </table>
        <table class="index-cp" border="0">
            <tr>
                <td></td>
                <th align="left">Index Entry</th>
                <td>&nbsp;</td>
                <th align="left"> Section</th>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-1">$</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024-4"><code>$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024"><code>$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024-1"><code>$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024-2"><code>$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024-3"><code>$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_0024-2"><code>$$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_0024-3"><code>$$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_0024"><code>$$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_0024-1"><code>$$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_003c-2"><code>$&lt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_003c-3"><code>$&lt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_003c"><code>$&lt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_003c-1"><code>$&lt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_0040n"><code>$@<var>n</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mid_002dRule-Action-Translation">Mid-Rule Action Translation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024accept"><code>$accept</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024end"><code>$end</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024n"><code>$<var>n</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024name"><code>$<var>name</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024undefined"><code>$undefined</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_005b"><code>$[</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0024_005bname_005d"><code>$[<var>name</var>]</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-2">%</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025"><code>%</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025-1"><code>%</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025_0025"><code>%%</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025_0025-1"><code>%%</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025_003f"><code>%?</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantic-Predicates">Semantic Predicates</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025_003f-1"><code>%?</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue-Alternatives">Prologue Alternatives</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-1"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-2"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-3"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-4"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-5"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-6"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-7"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Calc_002b_002b-Parser">Calc++ Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-8"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-9"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-10"><code>%code</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-imports"><code>%code imports</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-imports-1"><code>%code imports</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-init"><code>%code init</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-lexer"><code>%code lexer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-provides"><code>%code provides</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue-Alternatives">Prologue Alternatives</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-provides-1"><code>%code provides</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-provides-2"><code>%code provides</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-requires"><code>%code requires</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue-Alternatives">Prologue Alternatives</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-requires-1"><code>%code requires</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-requires-2"><code>%code requires</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-requires-3"><code>%code requires</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Calc_002b_002b-Parser">Calc++ Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-top"><code>%code top</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue-Alternatives">Prologue Alternatives</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025code-top-1"><code>%code top</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025debug"><code>%debug</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025debug-1"><code>%debug</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Enabling-Traces">Enabling Traces</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025debug-2"><code>%debug</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-1"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-2"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-3"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-4"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-5"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-6"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-7"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-8"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-9"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-10"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-11"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-12"><code>%define</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-abstract"><code>%define abstract</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-annotations"><code>%define annotations</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002elocation_002etype"><code>%define api.location.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002elocation_002etype-1"><code>%define api.location.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#User-Defined-Location-Type">User Defined Location Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002elocation_002etype-2"><code>%define api.location.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002enamespace"><code>%define api.namespace</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002enamespace-1"><code>%define api.namespace</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Bison-Interface">C++ Bison Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002eposition_002etype"><code>%define api.position.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002eprefix"><code>%define api.prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002epure"><code>%define api.pure</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Decl">Pure Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002epure-1"><code>%define api.pure</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002epush_002dpull"><code>%define api.push-pull</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Push-Decl">Push Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002epush_002dpull-1"><code>%define api.push-pull</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002epush_002dpull-2"><code>%define api.push-pull</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Push-Parser-Interface">Java Push Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002etoken_002econstructor"><code>%define api.token.constructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002etoken_002econstructor-1"><code>%define api.token.constructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Calc_002b_002b-Parser">Calc++ Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002etoken_002eprefix"><code>%define api.token.prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002evalue_002etype"><code>%define api.value.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002evalue_002etype-1"><code>%define api.value.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002evalue_002etype-2"><code>%define api.value.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002evalue_002etype-union"><code>%define api.value.type union</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Type-Generation">Type Generation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002evalue_002etype-variant"><code>%define api.value.type variant</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Calc_002b_002b-Parser">Calc++ Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-api_002evalue_002eunion_002ename"><code>%define api.value.union.name</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-extends"><code>%define extends</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-final"><code>%define final</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-implements"><code>%define implements</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-init_005fthrows"><code>%define init_throws</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lex_005fthrows"><code>%define lex_throws</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-location_005ftype"><code>%define location_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002edefault_002dreduction"><code>%define lr.default-reduction</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002edefault_002dreduction-1"><code>%define lr.default-reduction</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002edefault_002dreduction-2"><code>%define lr.default-reduction</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002ekeep_002dunreachable_002dstate"><code>%define lr.keep-unreachable-state</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002ekeep_002dunreachable_002dstate-1"><code>%define lr.keep-unreachable-state</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Unreachable-States">Unreachable States</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002ekeep_002dunreachable_002dstate-2"><code>%define lr.keep-unreachable-state</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Unreachable-States">Unreachable States</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002etype"><code>%define lr.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002etype-1"><code>%define lr.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-lr_002etype-2"><code>%define lr.type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-package"><code>%define package</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002eassert"><code>%define parse.assert</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002eerror"><code>%define parse.error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002eerror-1"><code>%define parse.error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Reporting">Error Reporting</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002elac"><code>%define parse.lac</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002elac-1"><code>%define parse.lac</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LAC">LAC</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002elac-2"><code>%define parse.lac</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LAC">LAC</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002etrace"><code>%define parse.trace</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025define-Summary">%define Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parse_002etrace-1"><code>%define parse.trace</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Enabling-Traces">Enabling Traces</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-parser_005fclass_005fname"><code>%define parser_class_name</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-public"><code>%define public</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-strictfp"><code>%define strictfp</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025define-throws"><code>%define throws</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025defines"><code>%defines</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025defines-1"><code>%defines</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025defines-2"><code>%defines</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025defines-3"><code>%defines</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025destructor"><code>%destructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Mid_002dRule-Actions">Using Mid-Rule Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025destructor-1"><code>%destructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025destructor-2"><code>%destructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025destructor-3"><code>%destructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025destructor-4"><code>%destructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025destructor-5"><code>%destructor</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025dprec"><code>%dprec</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Merging-GLR-Parses">Merging GLR Parses</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025dprec-1"><code>%dprec</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025empty"><code>%empty</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Empty-Rules">Empty Rules</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025empty-1"><code>%empty</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025error_002dverbose"><code>%error-verbose</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025expect"><code>%expect</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Expect-Decl">Expect Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025expect-1"><code>%expect</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025expect_002drr"><code>%expect-rr</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025expect_002drr-1"><code>%expect-rr</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Expect-Decl">Expect Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025file_002dprefix"><code>%file-prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025file_002dprefix-1"><code>%file-prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025glr_002dparser"><code>%glr-parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Parsers">GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025glr_002dparser-1"><code>%glr-parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025glr_002dparser-2"><code>%glr-parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025initial_002daction"><code>%initial-action</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Initial-Action-Decl">Initial Action Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025initial_002daction-1"><code>%initial-action</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Initial-Action-Decl">Initial Action Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025initial_002daction-2"><code>%initial-action</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Initial-Action-Decl">Initial Action Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025initial_002daction-3"><code>%initial-action</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025language"><code>%language</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025language-1"><code>%language</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025language-_0022Java_0022"><code>%language &quot;Java&quot;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025left"><code>%left</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025left-1"><code>%left</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Precedence">Using Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025left-2"><code>%left</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025lex_002dparam"><code>%lex-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Calling">Pure Calling</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025lex_002dparam-1"><code>%lex-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Calling">Pure Calling</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025lex_002dparam-2"><code>%lex-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025lex_002dparam-3"><code>%lex-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025locations"><code>%locations</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025merge"><code>%merge</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Merging-GLR-Parses">Merging GLR Parses</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025merge-1"><code>%merge</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025name_002dprefix"><code>%name-prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025name_002dprefix-1"><code>%name-prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025name_002dprefix-2"><code>%name-prefix</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025no_002dlines"><code>%no-lines</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025no_002dlines-1"><code>%no-lines</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025nonassoc"><code>%nonassoc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025nonassoc-1"><code>%nonassoc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Precedence">Using Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025nonassoc-2"><code>%nonassoc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025nonassoc-3"><code>%nonassoc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025nonassoc-4"><code>%nonassoc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025output"><code>%output</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025output-1"><code>%output</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025param"><code>%param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Calling">Pure Calling</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025param-1"><code>%param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Calling">Pure Calling</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025param-2"><code>%param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025parse_002dparam"><code>%parse-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025parse_002dparam-1"><code>%parse-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025parse_002dparam-2"><code>%parse-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025parse_002dparam-3"><code>%parse-param</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025prec"><code>%prec</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Contextual-Precedence">Contextual Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025prec-1"><code>%prec</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025precedence"><code>%precedence</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Precedence">Using Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025precedence-1"><code>%precedence</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Precedence-Only">Precedence Only</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025precedence-2"><code>%precedence</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025printer"><code>%printer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025printer-1"><code>%printer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025printer-2"><code>%printer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025pure_002dparser"><code>%pure-parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025pure_002dparser-1"><code>%pure-parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025require"><code>%require</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Require-Decl">Require Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025require-1"><code>%require</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025require-2"><code>%require</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025right"><code>%right</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025right-1"><code>%right</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Precedence">Using Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025right-2"><code>%right</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025skeleton"><code>%skeleton</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025skeleton-1"><code>%skeleton</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025start"><code>%start</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Start-Decl">Start Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025start-1"><code>%start</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025start-2"><code>%start</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025token"><code>%token</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Decl">Token Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025token-1"><code>%token</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025token-2"><code>%token</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025token-3"><code>%token</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025token_002dtable"><code>%token-table</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025token_002dtable-1"><code>%token-table</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025type"><code>%type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Type-Decl">Type Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025type-1"><code>%type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025type-2"><code>%type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Declarations-Summary">Java Declarations Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025type-3"><code>%type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025union"><code>%union</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Union-Decl">Union Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025union-1"><code>%union</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Structured-Value-Type">Structured Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025union-2"><code>%union</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025union-3"><code>%union</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025verbose"><code>%verbose</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0025yacc"><code>%yacc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-3">/</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_002f_002a"><code>/*</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_002f_002a-_2026-_002a_002f"><code>/* &hellip; */</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Outline">Grammar Outline</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_002f_002f"><code>//</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_002f_002f-_2026"><code>// &hellip;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Outline">Grammar Outline</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-4">:</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003a"><code>:</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-5">;</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003b"><code>;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-6">&lt;</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003c_002a_003e"><code>&lt;*&gt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003c_002a_003e-1"><code>&lt;*&gt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003c_002a_003e-2"><code>&lt;*&gt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003c_003e"><code>&lt;&gt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003c_003e-1"><code>&lt;&gt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_003c_003e-2"><code>&lt;&gt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-7">@</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-7"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-8"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-1"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-2"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-3"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-4"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-5"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040-6"><code>@</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040_0024"><code>@$</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040n-1"><code>@<var>n</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mid_002dRule-Action-Translation">Mid-Rule Action Translation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040n-2"><code>@<var>n</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040n"><code>@<var>n</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040name"><code>@<var>name</var></code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_0040_005bname_005d"><code>@[<var>name</var>]</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_symbol-8">|</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_007c"><code>|</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rules-Syntax">Rules Syntax</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-_007c-1"><code>|</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-A">A</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-abstract-syntax-tree">abstract syntax tree</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Implementing-Gotos_002fLoops">Implementing Gotos/Loops</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-accepting-state">accepting state</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-action">action</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-action-data-types">action data types</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Types">Action Types</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-action-features-summary">action features summary</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-actions-in-mid_002drule">actions in mid-rule</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mid_002dRule-Actions">Mid-Rule Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-actions-in-mid_002drule-1">actions in mid-rule</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-actions_002c-location">actions, location</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-actions_002c-semantic">actions, semantic</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantic-Actions">Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-additional-C-code-section">additional C code section</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Epilogue">Epilogue</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-algorithm-of-parser">algorithm of parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Algorithm">Algorithm</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-ambiguous-grammars">ambiguous grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-ambiguous-grammars-1">ambiguous grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Generalized-LR-Parsing">Generalized LR Parsing</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-associativity">associativity</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Why-Precedence">Why Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-AST">AST</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Implementing-Gotos_002fLoops">Implementing Gotos/Loops</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-B">B</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Backus_002dNaur-form">Backus-Naur form</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-begin-of-location"><code>begin of location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-begin-of-Location"><code>begin of Location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Location-Values">Java Location Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-declaration-summary">Bison declaration summary</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-declarations">Bison declarations</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Declarations">Declarations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-declarations-_0028introduction_0029">Bison declarations (introduction)</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Bison-Declarations">Bison Declarations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-grammar">Bison grammar</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-in-Bison">Grammar in Bison</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-invocation">Bison invocation</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Invocation">Invocation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-parser">Bison parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Bison-Parser">Bison Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-parser-algorithm">Bison parser algorithm</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Algorithm">Algorithm</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-symbols_002c-table-of">Bison symbols, table of</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Bison-utility">Bison utility</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Bison-Parser">Bison Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-bison_002di18n_002em4">bison-i18n.m4</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-bison_002dpo">bison-po</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-bisonSkeleton-of-YYParser"><code>bisonSkeleton of YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-bisonVersion-of-YYParser"><code>bisonVersion of YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-BISON_005fI18N"><code>BISON_I18N</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-BISON_005fLOCALEDIR"><code>BISON_LOCALEDIR</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-BNF">BNF</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-braced-code">braced code</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rules-Syntax">Rules Syntax</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-build_003cT_003e-on-semantic_005ftype"><code>build&lt;T&gt; on semantic_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Variants">C++ Variants</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-build_003cT_003e-on-semantic_005ftype-1"><code>build&lt;T&gt; on semantic_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Variants">C++ Variants</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-C">C</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-C-code_002c-section-for-additional">C code, section for additional</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Epilogue">Epilogue</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-C_002dlanguage-interface">C-language interface</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Interface">Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-calc"><code>calc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Infix-Calc">Infix Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-calculator_002c-infix-notation">calculator, infix notation</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Infix-Calc">Infix Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-calculator_002c-location-tracking">calculator, location tracking</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Tracking-Calc">Location Tracking Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-calculator_002c-multi_002dfunction">calculator, multi-function</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Multi_002dfunction-Calc">Multi-function Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-calculator_002c-simple">calculator, simple</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#RPN-Calc">RPN Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-canonical-LR">canonical LR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mysterious-Conflicts">Mysterious Conflicts</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-canonical-LR-1">canonical LR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-character-token">character token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-column-of-position"><code>column of position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-columns-on-location"><code>columns on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-columns-on-position"><code>columns on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-comment">comment</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Outline">Grammar Outline</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-compiling-the-parser">compiling the parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Compile">Rpcalc Compile</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-conflicts">conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Parsers">GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-conflicts-1">conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-conflicts-2">conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Merging-GLR-Parses">Merging GLR Parses</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-conflicts-3">conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Shift_002fReduce">Shift/Reduce</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-conflicts_002c-reduce_002freduce">conflicts, reduce/reduce</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Reduce_002fReduce">Reduce/Reduce</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-conflicts_002c-suppressing-warnings-of">conflicts, suppressing warnings of</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Expect-Decl">Expect Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-consistent-states">consistent states</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-context_002ddependent-precedence">context-dependent precedence</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Contextual-Precedence">Contextual Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-context_002dfree-grammar">context-free grammar</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-controlling-function">controlling function</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Main">Rpcalc Main</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-core_002c-item-set">core, item set</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-D">D</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-dangling-else">dangling <code>else</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Shift_002fReduce">Shift/Reduce</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-data-type-of-locations">data type of locations</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Type">Location Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-data-types-in-actions">data types in actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Types">Action Types</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-data-types-of-semantic-values">data types of semantic values</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Value-Type">Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-debugging">debugging</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Tracing">Tracing</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-debug_005flevel-on-parser"><code>debug_level on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-debug_005fstream-on-parser"><code>debug_stream on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaration-summary">declaration summary</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declarations">declarations</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue">Prologue</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declarations-section">declarations section</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue">Prologue</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declarations_002c-Bison">declarations, Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Declarations">Declarations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declarations_002c-Bison-_0028introduction_0029">declarations, Bison (introduction)</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Bison-Declarations">Bison Declarations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-literal-string-tokens">declaring literal string tokens</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Decl">Token Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-operator-precedence">declaring operator precedence</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Precedence-Decl">Precedence Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-the-start-symbol">declaring the start symbol</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Start-Decl">Start Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-token-type-names">declaring token type names</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Decl">Token Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-value-types">declaring value types</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Type-Generation">Type Generation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-value-types-1">declaring value types</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Union-Decl">Union Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-value-types-2">declaring value types</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Structured-Value-Type">Structured Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-declaring-value-types_002c-nonterminals">declaring value types, nonterminals</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Type-Decl">Type Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-default-action">default action</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-default-data-type">default data type</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Value-Type">Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-default-location-type">default location type</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Type">Location Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-default-reductions">default reductions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-default-stack-limit">default stack limit</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-default-start-symbol">default start symbol</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Start-Decl">Start Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-defaulted-states">defaulted states</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-deferred-semantic-actions">deferred semantic actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-defining-language-semantics">defining language semantics</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantics">Semantics</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-delayed-syntax-error-detection">delayed syntax error detection</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-delayed-syntax-error-detection-1">delayed syntax error detection</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-delayed-yylex-invocations">delayed yylex invocations</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-discarded-symbols">discarded symbols</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-discarded-symbols_002c-mid_002drule-actions">discarded symbols, mid-rule actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Mid_002dRule-Actions">Using Mid-Rule Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-dot">dot</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Graphviz">Graphviz</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-E">E</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-else_002c-dangling"><code>else</code>, dangling</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Shift_002fReduce">Shift/Reduce</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-empty-rule">empty rule</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Empty-Rules">Empty Rules</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-end-of-location"><code>end of location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-end-of-Location"><code>end of Location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Location-Values">Java Location Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-epilogue">epilogue</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Epilogue">Epilogue</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error"><code>error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Recovery">Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-1"><code>error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-on-parser"><code>error on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-on-parser-1"><code>error on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-recovery">error recovery</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Recovery">Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-recovery_002c-mid_002drule-actions">error recovery, mid-rule actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Using-Mid_002dRule-Actions">Using Mid-Rule Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-recovery_002c-simple">error recovery, simple</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-Error-Recovery">Simple Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-reporting-function">error reporting function</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Reporting">Error Reporting</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-error-reporting-routine">error reporting routine</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Error">Rpcalc Error</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-examples_002c-simple">examples, simple</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Examples">Examples</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-exceptions">exceptions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-exercises">exercises</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Exercises">Exercises</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-F">F</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-file-format">file format</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Layout">Grammar Layout</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-file-of-position"><code>file of position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-finite_002dstate-machine">finite-state machine</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-States">Parser States</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-formal-grammar">formal grammar</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-in-Bison">Grammar in Bison</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-format-of-grammar-file">format of grammar file</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Layout">Grammar Layout</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-freeing-discarded-symbols">freeing discarded symbols</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-frequently-asked-questions">frequently asked questions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#FAQ">FAQ</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-G">G</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-generalized-LR-_0028GLR_0029-parsing">generalized LR (GLR) parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-generalized-LR-_0028GLR_0029-parsing-1">generalized LR (GLR) parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Parsers">GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-generalized-LR-_0028GLR_0029-parsing-2">generalized LR (GLR) parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Generalized-LR-Parsing">Generalized LR Parsing</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-generalized-LR-_0028GLR_0029-parsing_002c-ambiguous-grammars">generalized LR (GLR) parsing, ambiguous grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Merging-GLR-Parses">Merging GLR Parses</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-generalized-LR-_0028GLR_0029-parsing_002c-unambiguous-grammars">generalized LR (GLR) parsing, unambiguous grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-getDebugLevel-on-YYParser"><code>getDebugLevel on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-getDebugStream-on-YYParser"><code>getDebugStream on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-getEndPos-on-Lexer"><code>getEndPos on Lexer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Scanner-Interface">Java Scanner Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-getErrorVerbose-on-YYParser"><code>getErrorVerbose on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-getLVal-on-Lexer"><code>getLVal on Lexer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Scanner-Interface">Java Scanner Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-getStartPos-on-Lexer"><code>getStartPos on Lexer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Scanner-Interface">Java Scanner Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-gettext">gettext</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-glossary">glossary</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Glossary">Glossary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-inline">GLR parsers and <code>inline</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Compiler-Requirements">Compiler Requirements</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-yychar">GLR parsers and <code>yychar</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-yyclearin">GLR parsers and <code>yyclearin</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-YYERROR">GLR parsers and <code>YYERROR</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-yylloc">GLR parsers and <code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-YYLLOC_005fDEFAULT">GLR parsers and <code>YYLLOC_DEFAULT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Default-Action">Location Default Action</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsers-and-yylval">GLR parsers and <code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsing">GLR parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsing-1">GLR parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Parsers">GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsing-2">GLR parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Generalized-LR-Parsing">Generalized LR Parsing</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsing_002c-ambiguous-grammars">GLR parsing, ambiguous grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Merging-GLR-Parses">Merging GLR Parses</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-parsing_002c-unambiguous-grammars">GLR parsing, unambiguous grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-GLR-with-LALR">GLR with LALR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-grammar-file">grammar file</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Layout">Grammar Layout</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-grammar-rule-syntax">grammar rule syntax</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rules-Syntax">Rules Syntax</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-grammar-rules-section">grammar rules section</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Rules">Grammar Rules</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-grammar_002c-Bison">grammar, Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-in-Bison">Grammar in Bison</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-grammar_002c-context_002dfree">grammar, context-free</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-grouping_002c-syntactic">grouping, syntactic</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-H">H</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Header-guard">Header guard</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-I">I</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-i18n">i18n</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-IELR">IELR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mysterious-Conflicts">Mysterious Conflicts</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-IELR-1">IELR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-IELR-grammars">IELR grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-infix-notation-calculator">infix notation calculator</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Infix-Calc">Infix Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-initialize-on-location"><code>initialize on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-initialize-on-position"><code>initialize on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-inline"><code>inline</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Compiler-Requirements">Compiler Requirements</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-interface">interface</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Interface">Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-internationalization">internationalization</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-introduction">introduction</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Introduction">Introduction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-invoking-Bison">invoking Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Invocation">Invocation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-item">item</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-item-set-core">item set core</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-item-set-core-1">item set core</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-K">K</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-kernel_002c-item-set">kernel, item set</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-L">L</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LAC">LAC</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LAC-1">LAC</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Default-Reductions">Default Reductions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LAC-2">LAC</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LAC">LAC</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LALR">LALR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mysterious-Conflicts">Mysterious Conflicts</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LALR-1">LALR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LALR-grammars">LALR grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-language-semantics_002c-defining">language semantics, defining</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantics">Semantics</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-layout-of-Bison-grammar">layout of Bison grammar</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Layout">Grammar Layout</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-left-recursion">left recursion</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Recursion">Recursion</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lexical-analyzer">lexical analyzer</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lexical">Lexical</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lexical-analyzer_002c-purpose">lexical analyzer, purpose</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Bison-Parser">Bison Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lexical-analyzer_002c-writing">lexical analyzer, writing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Lexer">Rpcalc Lexer</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lexical-tie_002din">lexical tie-in</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lexical-Tie_002dins">Lexical Tie-ins</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-line-of-position"><code>line of position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lines-on-location"><code>lines on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lines-on-position"><code>lines on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-literal-string-token">literal string token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-literal-token">literal token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location">location</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Locations">Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location-1">location</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Tracking-Locations">Tracking Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location-actions">location actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location-on-location"><code>location on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location-on-location-1"><code>location on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location-on-location-2"><code>location on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Location-on-Location"><code>Location on Location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Location-Values">Java Location Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Location-on-Location-1"><code>Location on Location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Location-Values">Java Location Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location-tracking-calculator">location tracking calculator</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Tracking-Calc">Location Tracking Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location_002c-textual">location, textual</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Locations">Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location_002c-textual-1">location, textual</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Tracking-Locations">Tracking Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-location_005ftype"><code>location_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lookahead-correction">lookahead correction</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LAC">LAC</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-lookahead-token">lookahead token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lookahead">Lookahead</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LR">LR</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mysterious-Conflicts">Mysterious Conflicts</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-LR-grammars">LR grammars</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-ltcalc"><code>ltcalc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Tracking-Calc">Location Tracking Calc</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-M">M</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-main-function-in-simple-example">main function in simple example</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Main">Rpcalc Main</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-make_005f-on-symbol_005ftype"><code>make_ on symbol_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Complete-Symbols">Complete Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-make_005f-on-symbol_005ftype-1"><code>make_ on symbol_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Complete-Symbols">Complete Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-memory-exhaustion">memory exhaustion</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-memory-management">memory management</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-mfcalc"><code>mfcalc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Multi_002dfunction-Calc">Multi-function Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-mid_002drule-actions">mid-rule actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mid_002dRule-Actions">Mid-Rule Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-mid_002drule-actions-1">mid-rule actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Destructor-Decl">Destructor Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-multi_002dfunction-calculator">multi-function calculator</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Multi_002dfunction-Calc">Multi-function Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-multicharacter-literal">multicharacter literal</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-mutual-recursion">mutual recursion</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Recursion">Recursion</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Mysterious-Conflict">Mysterious Conflict</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#LR-Table-Construction">LR Table Construction</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Mysterious-Conflicts">Mysterious Conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mysterious-Conflicts">Mysterious Conflicts</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-N">N</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-named-references">named references</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Named-References">Named References</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-NLS">NLS</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-nondeterministic-parsing">nondeterministic parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-nondeterministic-parsing-1">nondeterministic parsing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Generalized-LR-Parsing">Generalized LR Parsing</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-nonterminal-symbol">nonterminal symbol</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-nonterminal_002c-useless">nonterminal, useless</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-O">O</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator-precedence">operator precedence</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Precedence">Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator-precedence_002c-declaring">operator precedence, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Precedence-Decl">Precedence Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_0021_003d-on-location"><code>operator!= on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_0021_003d-on-position"><code>operator!= on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002b-on-location"><code>operator+ on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002b-on-location-1"><code>operator+ on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002b-on-position"><code>operator+ on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002b_003d-on-location"><code>operator+= on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002b_003d-on-location-1"><code>operator+= on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002b_003d-on-position"><code>operator+= on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002d-on-location"><code>operator- on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002d-on-position"><code>operator- on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002d_003d-on-location"><code>operator-= on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_002d_003d-on-position"><code>operator-= on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_003c_003c"><code>operator&lt;&lt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_003c_003c-1"><code>operator&lt;&lt;</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_003d_003d-on-location"><code>operator== on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-operator_003d_003d-on-position"><code>operator== on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-options-for-invoking-Bison">options for invoking Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Invocation">Invocation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-overflow-of-parser-stack">overflow of parser stack</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-P">P</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parse-error">parse error</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Reporting">Error Reporting</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parse-on-parser"><code>parse on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parse-on-YYParser"><code>parse on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parser">parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Bison-Parser">Bison Parser</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parser-on-parser"><code>parser on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parser-stack">parser stack</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Algorithm">Algorithm</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parser-stack-overflow">parser stack overflow</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-parser-state">parser state</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-States">Parser States</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-pointed-rule">pointed rule</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-polish-notation-calculator">polish notation calculator</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#RPN-Calc">RPN Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-position-on-position"><code>position on position</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-position">C++ position</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-precedence-declarations">precedence declarations</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Precedence-Decl">Precedence Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-precedence-of-operators">precedence of operators</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Precedence">Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-precedence_002c-context_002ddependent">precedence, context-dependent</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Contextual-Precedence">Contextual Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-precedence_002c-unary-operator">precedence, unary operator</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Contextual-Precedence">Contextual Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-preventing-warnings-about-conflicts">preventing warnings about conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Expect-Decl">Expect Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-printing-semantic-values">printing semantic values</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Prologue">Prologue</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue">Prologue</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Prologue-1">Prologue</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#g_t_0025code-Summary">%code Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Prologue-Alternatives">Prologue Alternatives</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Prologue-Alternatives">Prologue Alternatives</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-pure-parser">pure parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Decl">Pure Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-push-parser">push parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Push-Decl">Push Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-push-parser-1">push parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Push-Decl">Push Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-push_005fparse-on-YYParser"><code>push_parse on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Push-Parser-Interface">Java Push Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-push_005fparse-on-YYParser-1"><code>push_parse on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Push-Parser-Interface">Java Push Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-push_005fparse-on-YYParser-2"><code>push_parse on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Push-Parser-Interface">Java Push Parser Interface</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-Q">Q</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-questions">questions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#FAQ">FAQ</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-R">R</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-recovering"><code>recovering</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-recovering-on-YYParser"><code>recovering on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-recovery-from-errors">recovery from errors</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Recovery">Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-recursive-rule">recursive rule</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Recursion">Recursion</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reduce_002freduce-conflict">reduce/reduce conflict</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Reduce_002fReduce">Reduce/Reduce</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reduce_002freduce-conflicts">reduce/reduce conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Parsers">GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reduce_002freduce-conflicts-1">reduce/reduce conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reduce_002freduce-conflicts-2">reduce/reduce conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Merging-GLR-Parses">Merging GLR Parses</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reduction">reduction</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Algorithm">Algorithm</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reentrant-parser">reentrant parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pure-Decl">Pure Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-requiring-a-version-of-Bison">requiring a version of Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Require-Decl">Require Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-reverse-polish-notation">reverse polish notation</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#RPN-Calc">RPN Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-right-recursion">right recursion</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Recursion">Recursion</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rpcalc"><code>rpcalc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#RPN-Calc">RPN Calc</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rule-syntax">rule syntax</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rules-Syntax">Rules Syntax</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rule_002c-empty">rule, empty</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Empty-Rules">Empty Rules</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rule_002c-pointed">rule, pointed</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rule_002c-recursive">rule, recursive</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Recursion">Recursion</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rule_002c-useless">rule, useless</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-rules-section-for-grammar">rules section for grammar</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Grammar-Rules">Grammar Rules</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-running-Bison-_0028introduction_0029">running Bison (introduction)</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Generate">Rpcalc Generate</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-S">S</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-semantic-actions">semantic actions</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantic-Actions">Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-Semantic-predicates-in-GLR-parsers">Semantic predicates in GLR parsers</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantic-Predicates">Semantic Predicates</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-semantic-value">semantic value</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantic-Values">Semantic Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-semantic-value-type">semantic value type</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Value-Type">Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-semantic_005ftype"><code>semantic_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-setDebugLevel-on-YYParser"><code>setDebugLevel on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-setDebugStream-on-YYParser"><code>setDebugStream on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-setErrorVerbose-on-YYParser"><code>setErrorVerbose on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-set_005fdebug_005flevel-on-parser"><code>set_debug_level on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-set_005fdebug_005fstream-on-parser"><code>set_debug_stream on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-shift_002freduce-conflicts">shift/reduce conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Parsers">GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-shift_002freduce-conflicts-1">shift/reduce conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Simple-GLR-Parsers">Simple GLR Parsers</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-shift_002freduce-conflicts-2">shift/reduce conflicts</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Shift_002fReduce">Shift/Reduce</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-shifting">shifting</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Algorithm">Algorithm</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-simple-examples">simple examples</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Examples">Examples</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-single_002dcharacter-literal">single-character literal</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-stack-overflow">stack overflow</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-stack_002c-parser">stack, parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Algorithm">Algorithm</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-stages-in-using-Bison">stages in using Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Stages">Stages</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-start-symbol">start symbol</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-start-symbol_002c-declaring">start symbol, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Start-Decl">Start Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-state-_0028of-parser_0029">state (of parser)</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-States">Parser States</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-step-on-location"><code>step on location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-location">C++ location</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-string-token">string token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-summary_002c-action-features">summary, action features</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-summary_002c-Bison-declaration">summary, Bison declaration</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Decl-Summary">Decl Summary</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-suppressing-conflict-warnings">suppressing conflict warnings</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Expect-Decl">Expect Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-symbol">symbol</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-symbol-table-example">symbol table example</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Mfcalc-Symbol-Table">Mfcalc Symbol Table</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-symbols-_0028abstract_0029">symbols (abstract)</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-symbols-in-Bison_002c-table-of">symbols in Bison, table of</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-symbol_005ftype-on-symbol_005ftype"><code>symbol_type on symbol_type</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Complete-Symbols">Complete Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-syntactic-grouping">syntactic grouping</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-syntax-error">syntax error</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Reporting">Error Reporting</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-syntax-of-grammar-rules">syntax of grammar rules</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rules-Syntax">Rules Syntax</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-syntax_005ferror"><code>syntax_error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-syntax_005ferror-on-syntax_005ferror"><code>syntax_error on syntax_error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-syntax_005ferror-on-syntax_005ferror-1"><code>syntax_error on syntax_error</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-T">T</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-terminal-symbol">terminal symbol</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-textual-location">textual location</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Locations">Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-textual-location-1">textual location</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Tracking-Locations">Tracking Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-token">token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Language-and-Grammar">Language and Grammar</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-token-1"><code>token</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Parser-Interface">C++ Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-token-type">token type</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Symbols">Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-token-type-names_002c-declaring">token type names, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Decl">Token Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-token_002c-useless">token, useless</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-toString-on-Location"><code>toString on Location</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Location-Values">Java Location Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-tracing-the-parser">tracing the parser</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Tracing">Tracing</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-U">U</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-uint"><code>uint</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#C_002b_002b-Location-Values">C++ Location Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-unary-operator-precedence">unary operator precedence</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Contextual-Precedence">Contextual Precedence</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-unreachable-states">unreachable states</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Unreachable-States">Unreachable States</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-useless-nonterminal">useless nonterminal</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-useless-rule">useless rule</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-useless-token">useless token</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Understanding">Understanding</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-using-Bison">using Bison</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Stages">Stages</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-V">V</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-value-type_002c-semantic">value type, semantic</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Value-Type">Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-value-types_002c-declaring">value types, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Type-Generation">Type Generation</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-value-types_002c-declaring-1">value types, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Union-Decl">Union Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-value-types_002c-declaring-2">value types, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Structured-Value-Type">Structured Value Type</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-value-types_002c-nonterminals_002c-declaring">value types, nonterminals, declaring</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Type-Decl">Type Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-value_002c-semantic">value, semantic</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Semantic-Values">Semantic Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-version-requirement">version requirement</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Require-Decl">Require Decl</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-W">W</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-warnings_002c-preventing">warnings, preventing</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Expect-Decl">Expect Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-writing-a-lexical-analyzer">writing a lexical analyzer</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Rpcalc-Lexer">Rpcalc Lexer</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-X">X</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-xml">xml</a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Xml">Xml</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
            <tr>
                <th><a name="Index-of-Terms_cp_letter-Y">Y</a></th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYABORT"><code>YYABORT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYABORT-1"><code>YYABORT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYABORT-2"><code>YYABORT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYABORT-3"><code>YYABORT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYABORT-4"><code>YYABORT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYACCEPT"><code>YYACCEPT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYACCEPT-1"><code>YYACCEPT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYACCEPT-2"><code>YYACCEPT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYACCEPT-3"><code>YYACCEPT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYACCEPT-4"><code>YYACCEPT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYBACKUP"><code>YYBACKUP</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYBACKUP-1"><code>YYBACKUP</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYBACKUP-2"><code>YYBACKUP</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yychar-2"><code>yychar</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yychar-3"><code>yychar</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lookahead">Lookahead</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yychar"><code>yychar</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yychar-1"><code>yychar</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyclearin"><code>yyclearin</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyclearin-1"><code>yyclearin</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyclearin-2"><code>yyclearin</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Recovery">Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyclearin-3"><code>yyclearin</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yydebug"><code>yydebug</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Tracing">Tracing</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYDEBUG"><code>YYDEBUG</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Enabling-Traces">Enabling Traces</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYDEBUG-1"><code>YYDEBUG</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yydebug-1"><code>yydebug</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYEMPTY"><code>YYEMPTY</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYENABLE_005fNLS"><code>YYENABLE_NLS</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Internationalization">Internationalization</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYEOF"><code>YYEOF</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerrok"><code>yyerrok</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerrok-1"><code>yyerrok</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Recovery">Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerrok-2"><code>yyerrok</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYERROR"><code>YYERROR</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror"><code>yyerror</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Reporting">Error Reporting</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYERROR-1"><code>YYERROR</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYERROR-2"><code>YYERROR</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-1"><code>yyerror</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-2"><code>yyerror</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-3"><code>yyerror</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Action-Features">Java Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYERROR-3"><code>YYERROR</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-4"><code>yyerror</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-on-Lexer"><code>yyerror on Lexer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Scanner-Interface">Java Scanner Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-on-YYParser"><code>yyerror on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-on-YYParser-1"><code>yyerror on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyerror-on-YYParser-2"><code>yyerror on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYERROR_005fVERBOSE"><code>YYERROR_VERBOSE</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYFPRINTF"><code>YYFPRINTF</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Enabling-Traces">Enabling Traces</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYFPRINTF-1"><code>YYFPRINTF</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYINITDEPTH-1"><code>YYINITDEPTH</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYINITDEPTH"><code>YYINITDEPTH</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylex"><code>yylex</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lexical">Lexical</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylex-1"><code>yylex</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylex-on-Lexer"><code>yylex on Lexer</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Scanner-Interface">Java Scanner Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylex-on-parser"><code>yylex on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Split-Symbols">Split Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylex-on-parser-1"><code>yylex on parser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Split-Symbols">Split Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylloc-2"><code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylloc-3"><code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions-and-Locations">Actions and Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylloc-4"><code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Locations">Token Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylloc-5"><code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lookahead">Lookahead</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylloc"><code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylloc-1"><code>yylloc</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYLLOC_005fDEFAULT"><code>YYLLOC_DEFAULT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Location-Default-Action">Location Default Action</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYLTYPE-1"><code>YYLTYPE</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Locations">Token Locations</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYLTYPE"><code>YYLTYPE</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylval-2"><code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#GLR-Semantic-Actions">GLR Semantic Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylval-3"><code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Actions">Actions</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylval-4"><code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Token-Values">Token Values</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylval-5"><code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Lookahead">Lookahead</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylval"><code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yylval-1"><code>yylval</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYMAXDEPTH-1"><code>YYMAXDEPTH</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Memory-Management">Memory Management</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYMAXDEPTH"><code>YYMAXDEPTH</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yynerrs-1"><code>yynerrs</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Reporting">Error Reporting</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yynerrs"><code>yynerrs</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyoutput"><code>yyoutput</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Printer-Decl">Printer Decl</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyparse"><code>yyparse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyparse-1"><code>yyparse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Function">Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yyparse-2"><code>yyparse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYParser-on-YYParser"><code>YYParser on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYParser-on-YYParser-1"><code>YYParser on YYParser</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Java-Parser-Interface">Java Parser Interface</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYPRINT"><code>YYPRINT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#The-YYPRINT-Macro">The YYPRINT Macro</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYPRINT-1"><code>YYPRINT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#The-YYPRINT-Macro">The YYPRINT Macro</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYPRINT-2"><code>YYPRINT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#The-YYPRINT-Macro">The YYPRINT Macro</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYPRINT-3"><code>YYPRINT</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypstate_005fdelete"><code>yypstate_delete</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Delete-Function">Parser Delete Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypstate_005fdelete-1"><code>yypstate_delete</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Delete-Function">Parser Delete Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypstate_005fdelete-2"><code>yypstate_delete</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypstate_005fnew"><code>yypstate_new</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Create-Function">Parser Create Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypstate_005fnew-1"><code>yypstate_new</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Parser-Create-Function">Parser Create Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypstate_005fnew-2"><code>yypstate_new</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypull_005fparse"><code>yypull_parse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pull-Parser-Function">Pull Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypull_005fparse-1"><code>yypull_parse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Pull-Parser-Function">Pull Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypull_005fparse-2"><code>yypull_parse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypush_005fparse"><code>yypush_parse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Push-Parser-Function">Push Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypush_005fparse-1"><code>yypush_parse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Push-Parser-Function">Push Parser Function</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-yypush_005fparse-2"><code>yypush_parse</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYRECOVERING-3"><code>YYRECOVERING</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Error-Recovery">Error Recovery</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYRECOVERING"><code>YYRECOVERING</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYRECOVERING-1"><code>YYRECOVERING</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Action-Features">Action Features</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYRECOVERING-2"><code>YYRECOVERING</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYSTACK_005fUSE_005fALLOCA"><code>YYSTACK_USE_ALLOCA</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td></td>
                <td valign="top"><a href="#index-YYSTYPE"><code>YYSTYPE</code></a>:</td>
                <td>&nbsp;</td>
                <td valign="top"><a href="#Table-of-Symbols">Table of Symbols</a></td>
            </tr>
            <tr>
                <td colspan="4">
                    <hr>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <th valign="top">Jump to: &nbsp; </th>
                <td><a class="summary-letter" href="#Index-of-Terms_cp_symbol-1"><b>$</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-2"><b>%</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-3"><b>/</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-4"><b>:</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-5"><b>;</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-6"><b>&lt;</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-7"><b>@</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_symbol-8"><b>|</b></a> &nbsp;
                    <br>
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-A"><b>A</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-B"><b>B</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-C"><b>C</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-D"><b>D</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-E"><b>E</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-F"><b>F</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-G"><b>G</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-H"><b>H</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-I"><b>I</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-K"><b>K</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-L"><b>L</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-M"><b>M</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-N"><b>N</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-O"><b>O</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-P"><b>P</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-Q"><b>Q</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-R"><b>R</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-S"><b>S</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-T"><b>T</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-U"><b>U</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-V"><b>V</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-W"><b>W</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-X"><b>X</b></a> &nbsp;
                    <a class="summary-letter" href="#Index-of-Terms_cp_letter-Y"><b>Y</b></a> &nbsp;
                </td>
            </tr>
        </table>

    </main>

    <div class="footnote">
        <hr>
        <h4 class="footnotes-heading">Footnotes</h4>

        <h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
        <p>Java parsers include the actions in a separate method than <code>yyparse</code> in order to have an intuitive syntax that corresponds to these C macros.</p>
    </div>
    <hr>

</body>

</html>